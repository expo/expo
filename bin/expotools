#!/usr/bin/env node

import { execFile } from 'node:child_process';
import path from 'path';
import spawnAsync from "@expo/spawn-async";

const repositoryRoot = path.resolve(import.meta.dirname, '..');
const expotoolsDir = path.join(repositoryRoot, 'tools');
const nodeBinary = process.env.NODE_BINARY || 'node';

await spawnAsync(nodeBinary, [path.join(expotoolsDir, 'bin', 'expotools.js'), ...process.argv.slice(2)], {
  stdio: 'inherit',
  cwd: expotoolsDir,
}).catch((error) => {
  process.exit(error.status);
});