name: Check issues with pending validation labels

on:
  workflow_dispatch: {}
  schedule:
    - cron: '0 8 * * *' # 8:00 AM UTC time every day

jobs:
  validate-pending-issues:
    runs-on: ubuntu-22.04
    steps:
      - name: üëÄ Checkout
        uses: actions/checkout@v4
      - name: ‚ûï Add `bin` to GITHUB_PATH
        run: echo "$(pwd)/bin" >> $GITHUB_PATH
      - name: ‚ôªÔ∏è Restore caches
        uses: ./.github/actions/expo-caches
        id: expo-caches
        with:
          yarn-tools: 'true'
      - name: üîé Validate issues with pending labels
        run: expotools validate-issue --issue "*"
        env:
          GITHUB_TOKEN: ${{ secrets.EXPO_BOT_GITHUB_TOKEN }}
