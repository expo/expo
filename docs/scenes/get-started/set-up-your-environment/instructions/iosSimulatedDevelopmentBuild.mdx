import XcodeInstructions from './_xcodeInstructions.mdx';
import { BuildEnvironmentSwitch } from '../BuildEnvironmentSwitch';

import { Terminal } from '~/ui/components/Snippet';
import { Step } from '~/ui/components/Step';

## Set up an iOS Simulator with a development build

<BuildEnvironmentSwitch />

## Set up Xcode

<XcodeInstructions />

## Create a development build

<Step label="1">
### Install EAS CLI

To build your app, you will need to install EAS CLI. You can do this by running the following command in your terminal:

<Terminal cmd={['$ npm install -g eas-cli']} />

</Step>

<Step label="2">

### Create an Expo account and login

Next, you will need to create an Expo account and login to the EAS CLI.

1. [Sign up](https://expo.dev/signup) for an Expo account.
2. Run the following command in your terminal to log in to the EAS CLI:
   <Terminal cmd={['$ eas login']} />

</Step>

<Step label="3">
### Configure your project

Run the following command to create an EAS config in your project:

<Terminal cmd={['$ eas build:configure']} />

</Step>

<Step label="4">
### Adjust your build profile

To create a simulator-compatible development build, you'll need to update your build profile in **eas.json** to set the `ios.simulator` property to `true`:

```json eas.json
{
  "build": {
    "development": {
      "developmentClient": true,
      "distribution": "internal",
      /* @info */
      "ios": {
        "simulator": true
      }
      /* @end */
    }
  }
}
```

</Step>

<Step label="6">
### Create a development build

Run the following command to create a development build:

<Terminal cmd={['$ eas build --platform ios --profile development']} />

</Step>

<Step label="7">
### Install the development build on your simulator

After the build is complete, the CLI will prompt you to automatically download and install it on the iOS Simulator. When prompted, press <kbd>Y</kbd> to directly install it on the simulator.

If you miss this prompt, you can download the build from the link provided in the terminal and drag and drop it onto the iOS Simulator to install it.

</Step>
