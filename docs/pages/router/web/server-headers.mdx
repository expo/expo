---
title: Server headers
description: Learn how to set custom HTTP headers for all server route responses in Expo Router.
---

import { BookOpen02Icon } from '@expo/styleguide-icons/outline/BookOpen02Icon';

import { BoxLink } from '~/ui/components/BoxLink';
import { Collapsible } from '~/ui/components/Collapsible';
import { Terminal } from '~/ui/components/Snippet';
import { Step } from '~/ui/components/Step';

> **important** Server headers are available in SDK 54 and later, and requires [`expo-server`](/versions/latest/sdk/server/) to serve your exported application.

Server headers in Expo Router allow you to set custom HTTP headers for security, caching, cookies, and custom metadata on route responses. Headers **only** apply to HTML and API route responses, and are not applicable to static assets such as images, fonts, or JavaScript bundles.

## Setup

<Step label="1">

Configure headers in the `expo-router` plugin in your [app config](/versions/latest/config/app/):

```json app.json
{
  "expo": {
    "plugins": [
      [
        "expo-router",
        {
          "headers": {
            "X-Frame-Options": "DENY"
          }
        }
      ]
    ]
  }
}
```

</Step>

<Step label="2">

Start the development server or export for production:

<Terminal
  cmd={['$ npx expo start', '', '# Or export for production', '$ npx expo export -p web']}
/>

Headers are automatically applied to all HTML and API route responses.

</Step>

## Configuration

Headers are configured as an object where keys are header names and values are either strings or arrays of strings.

```json app.json
{
  "expo": {
    "plugins": [
      [
        "expo-router",
        {
          "headers": {
            "X-Frame-Options": "DENY",
            "X-Content-Type-Options": "nosniff",
            "Set-Cookie": ["session=abc123; HttpOnly", "preference=dark; Path=/"]
          }
        }
      ]
    ]
  }
}
```

## Examples

<Collapsible summary="Security headers">

Add common security headers to protect your application:

```json app.json
{
  "expo": {
    "plugins": [
      [
        "expo-router",
        {
          "headers": {
            "X-Frame-Options": "DENY",
            "X-Content-Type-Options": "nosniff",
            "Referrer-Policy": "strict-origin-when-cross-origin",
            "X-XSS-Protection": "1; mode=block"
          }
        }
      ]
    ]
  }
}
```

</Collapsible>

<Collapsible summary="Cross-Origin headers for SharedArrayBuffer">

Some web APIs like [`SharedArrayBuffer`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer) require specific Cross-Origin headers. This is required for features like [`expo-sqlite` on web](/versions/latest/sdk/sqlite/#web-setup).

```json app.json
{
  "expo": {
    "plugins": [
      [
        "expo-router",
        {
          "headers": {
            "Cross-Origin-Embedder-Policy": "credentialless",
            "Cross-Origin-Opener-Policy": "same-origin"
          }
        }
      ]
    ]
  }
}
```

</Collapsible>

<Collapsible summary="Cache-Control headers">

Set caching policies for your responses:

```json app.json
{
  "expo": {
    "plugins": [
      [
        "expo-router",
        {
          "headers": {
            "Cache-Control": "public, max-age=3600, s-maxage=86400"
          }
        }
      ]
    ]
  }
}
```

</Collapsible>

<Collapsible summary="Custom headers">

Add custom headers with metadata about your app:

```json app.json
{
  "expo": {
    "plugins": [
      [
        "expo-router",
        {
          "headers": {
            "X-App-Version": "1.0.0",
            "X-Environment": "production"
          }
        }
      ]
    ]
  }
}
```

</Collapsible>

## How it works

### Output modes

Server headers work with both output modes configured in your app config:

- **`static`**: Headers are applied when serving pre-rendered HTML files with [`expo-server`](/versions/latest/sdk/server/)
- **`server`**: Headers are applied to dynamically rendered responses

### Header precedence

Headers defined in the `expo-router` plugin are applied globally but do not override headers set by API routes. If an API route returns a response with a header that is also defined in the plugin configuration, the route-specific header takes precedence.

For example, if you configure `Cache-Control: public, max-age=3600` globally, but an API route that returns real-time data sets `Cache-Control: no-store`, the API route's header takes precedence.

## Known limitations

- **Redirects**: Headers do not apply to redirect responses
- **Static assets**: Headers are only applied to HTML and API route responses, not to static assets like images, fonts, or JavaScript bundles

## Related

<BoxLink
  title="API Routes"
  description="Learn how to create server endpoints with Expo Router."
  href="/router/web/api-routes"
  Icon={BookOpen02Icon}
/>

<BoxLink
  title="Server middleware"
  description="Learn how to create middleware that runs for every request to the server."
  href="/router/web/middleware"
  Icon={BookOpen02Icon}
/>
