import React, { useState } from "react";
import { View, Text, TouchableOpacity } from "react-native";

const challenges = [
  "قبلة لمدة 30 ثانية",
  "تدليك للظهر لمدة دقيقتين",
  "وضعية جريئة يتم اختيارها من القرعة",
  "كلمة سر حميمة بينكما لمدة المرحلة القادمة",
  "لعبة سؤال جريء: من يتخطى يخسر نقطة",
  "تحدي لمس لمدة دقيقة",
  "استخدام مكافأة حميمية من اختيار الفائز",
  "أداء رقصة خاصة للطرف الآخر",
  "لعبة حجر ورقة مقص: الخاسر ينفذ تحدي جرئ",
  "مفاجأة رومانسية للطرف الآخر"
];

export default function App() {
  const [current, setCurrent] = useState(null);
  const [score, setScore] = useState({ player1: 0, player2: 0 });
  const [turn, setTurn] = useState("player1");

  const nextChallenge = () => {
    const i = Math.floor(Math.random() * challenges.length);
    setCurrent(challenges[i]);
  };

  const complete = () => {
    setScore({ ...score, [turn]: score[turn] + 1 });
    setTurn(turn === "player1" ? "player2" : "player1");
    setCurrent(null);
  };

  return (
    <View style={{ flex:1, backgroundColor:'#ffe4e6', alignItems:'center', justifyContent:'center', padding:16 }}>
      <Text style={{ fontSize:32, fontWeight:'bold', color:'#db2777' }}>لعبة تحديات الأزواج</Text>
      <View style={{ flexDirection:'row', marginVertical:16 }}>
        <Text style={{ fontSize:20, color:'#2563eb', marginRight:16 }}>Player 1: {score.player1}</Text>
        <Text style={{ fontSize:20, color:'#dc2626' }}>Player 2: {score.player2}</Text>
      </View>
      <View style={{ width:'100%', maxWidth:400, backgroundColor:'#fff', borderRadius:16, padding:16 }}>
        {current ? (
          <>
            <Text style={{ fontSize:24, textAlign:'center', marginBottom:16, color:'#7e22ce' }}>{current}</Text>
            <TouchableOpacity onPress={complete} style={{ backgroundColor:'#2563eb', padding:12, borderRadius:12 }}>
              <Text style={{ color:'#fff', fontSize:18 }}>تم تنفيذ التحدي</Text>
            </TouchableOpacity>
          </>
        ) : (
          <TouchableOpacity onPress={nextChallenge} style={{ backgroundColor:'#9333ea', padding:12, borderRadius:12 }}>
            <Text style={{ color:'#fff', fontSize:18 }}>اسحب تحدي جديد</Text>
          </TouchableOpacity>
        )}
      </View>
      <TouchableOpacity onPress={() => {setScore({ player1:0, player2:0 }); setCurrent(null); setTurn('player1')}} style={{ marginTop:24, backgroundColor:'#22c55e', padding:12, borderRadius:16 }}>
        <Text style={{ color:'#fff', fontSize:18 }}>إعادة تعيين اللعبة</Text>
      </TouchableOpacity>
    </View>
  );
}
