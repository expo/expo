import React, { useState } from 'react'; import { View, Text, TouchableOpacity, StyleSheet, ScrollView, Image } from 'react-native';

const App = () => { const [result, setResult] = useState(''); const [imageVisible, setImageVisible] = useState(false);

const askAI = async () => { const res = await fetch('https://api.openai.com/v1/chat/completions', { method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer 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' }, body: JSON.stringify({ model: "gpt-3.5-turbo", messages: [ { role: "user", content: "یک متن آموزشی برای دانش‌آموز بنویس" } ] }) });

const data = await res.json();
setResult(data.choices[0].message.content);
setImageVisible(false);

};

return ( <ScrollView contentContainerStyle={styles.container}> <Text style={styles.title}>دستیار هوش مصنوعی</Text>

<TouchableOpacity style={styles.button} onPress={askAI}>
    <Text style={styles.buttonText}>گرفتن متن از AI</Text>
  </TouchableOpacity>

  <TouchableOpacity onPress={() => setImageVisible(true)}>
    <Text style={styles.output}>{result || 'اینجا پاسخ نمایش داده می‌شود'}</Text>
  </TouchableOpacity>

  {imageVisible && (
    <Image
      source={{ uri: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Fronalpstock_big.jpg/800px-Fronalpstock_big.jpg' }}
      style={styles.image}
    />
  )}
</ScrollView>

); };

const styles = StyleSheet.create({ container: { padding: 20, marginTop: 50 }, title: { fontSize: 24, fontWeight: 'bold', marginBottom: 20, textAlign: 'center' }, button: { backgroundColor: '#4CAF50', padding: 15, borderRadius: 10, marginBottom: 10 }, buttonText: { color: '#fff', fontSize: 18, textAlign: 'center' }, output: { marginTop: 20, fontSize: 16, color: '#000' }, image: { marginTop: 20, width: '100%', height: 200, borderRadius: 10 } });

export default App;


