// ---------------------------
// App.js - TrzeFx Pro AI (Net, Expo-ready)
// ---------------------------
import React, { useState } from 'react';
import { View, Text, TextInput, TouchableOpacity, ScrollView, StyleSheet, Alert } from 'react-native';

export default function TrzeFxProAI() {
  const [licenseKey, setLicenseKey] = useState('');
  const [status, setStatus] = useState('');
  const [botActive, setBotActive] = useState(false);

  const otcSymbols = [
    'ZAR/USD','YER/USD','USD/VND','USD/THB','USD/SGD','USD/RUB','USD/PKR',
    'USD/MYR','USD/MXN','USD/JPY','USD/INR','USD/IDR','USD/EGP','USD/DZD',
    'USD/COP','USD/CNH','USD/CLP','USD/CHF','USD/CAD','USD/BRL','USD/ARS',
    'UAH/USD','TND/USD','SAR/CNY','QAR/CNY','OMR/CNY','NGN/USD','MAD/USD',
    'LBP/USD','KES/USD','EUR/USD','EUR/TRY','EUR/RUB','EUR/JPY','EUR/HUF',
    'EUR/CHF','CHF/NOK','CHF/JPY','CAD/JPY','CAD/CHF','BHD/CNY','AUD/USD',
    'AUD/JPY','AUD/CHF','AUD/CAD','AED/CNY'
  ];

  // -------------------------
  // Mock License Verification
  // -------------------------
  const verifyKey = () => {
    // Si key se "TRZEFX2025" ‚Üí valide, sinon invalid
    if (licenseKey.trim().toUpperCase() === 'TRZEFX2025') {
      setStatus('License Valid ‚úÖ');
      setBotActive(true);
    } else {
      setStatus('License Invalid ‚ùå');
      setBotActive(false);
    }
  };

  const handleBuy = (symbol) => {
    Alert.alert('BUY Signal', `Execute BUY for ${symbol}`);
  };

  const handleSell = (symbol) => {
    Alert.alert('SELL Signal', `Execute SELL for ${symbol}`);
  };

  return (
    <ScrollView style={styles.container}>
      <Text style={styles.title}>TrzeFx Pro AI</Text>

      <TextInput
        style={styles.input}
        placeholder="Enter License Key"
        placeholderTextColor="#F4F6F9"
        value={licenseKey}
        onChangeText={setLicenseKey}
      />

      <TouchableOpacity style={styles.button} onPress={verifyKey}>
        <Text style={styles.buttonText}>Verify License</Text>
      </TouchableOpacity>

      <Text style={styles.status}>{status}</Text>

      {botActive && (
        <View style={styles.panel}>
          <Text style={styles.panelTitle}>üöÄ OTC Signals Active</Text>
          {otcSymbols.map((symbol, i) => (
            <View key={i} style={styles.symbolRow}>
              <Text style={styles.panelText}>{symbol}</Text>
              <View style={styles.symbolButtons}>
                <TouchableOpacity style={styles.buyButton} onPress={() => handleBuy(symbol)}>
                  <Text style={styles.buttonTextSmall}>BUY ‚¨ÜÔ∏è</Text>
                </TouchableOpacity>
                <TouchableOpacity style={styles.sellButton} onPress={() => handleSell(symbol)}>
                  <Text style={styles.buttonTextSmall}>SELL ‚¨áÔ∏è</Text>
                </TouchableOpacity>
              </View>
            </View>
          ))}
        </View>
      )}
    </ScrollView>
  );
}

// ----------------------
// Styles
// ----------------------
const styles = StyleSheet.create({
  container: { flex: 1, backgroundColor: '#0A0A0F', padding: 10 },
  title: { color: '#9b5cff', fontSize: 28, fontWeight: 'bold', marginVertical: 15, textAlign: 'center' },
  input: { borderWidth: 1, borderColor: '#F4F6F9', color: '#F4F6F9', padding: 12, borderRadius: 10, marginBottom: 12 },
  button: { backgroundColor: '#9b5cff', padding: 12, borderRadius: 10, alignItems: 'center', marginBottom: 12 },
  buttonText: { color: '#F4F6F9', fontWeight: 'bold', fontSize: 16 },
  buttonTextSmall: { color: '#F4F6F9', fontWeight: 'bold', fontSize: 12 },
  status: { color: '#F4F6F9', fontWeight: 'bold', fontSize: 16, marginBottom: 10, textAlign: 'center' },
  panel: { borderWidth: 1, borderColor: '#9b5cff', borderRadius: 12, padding: 12, marginTop: 15 },
  panelTitle: { color: '#9b5cff', fontSize: 20, fontWeight: 'bold', marginBottom: 8, textAlign: 'center' },
  panelText: { color: '#F4F6F9', fontSize: 16 },
  symbolRow: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: 5 },
  symbolButtons: { flexDirection: 'row' },
  buyButton: { backgroundColor: 'green', padding: 5, borderRadius: 6, marginRight: 5 },
  sellButton: { backgroundColor: 'red', padding: 5, borderRadius: 6 },
});
