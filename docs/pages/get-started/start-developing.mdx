---/* RescueRide — Protótipo de app estilo iFood para chaveiros e guincheiros Arquivo: RescueApp.jsx (single-file React component, estilizado com Tailwind)

Fluxo simulado:

Cliente seleciona tipo de serviço e pede socorro

App mostra prestadores próximos (mockados)

Pedido é criado e após delay é aceito automaticamente

Rastreamento em tempo real simulado (prestador se movendo até o cliente)

Prestador pode alternar status (offline/online)


Nota: este é apenas um protótipo front-end. Para produção, integrar Firebase/Maps/Stripe etc. */

import React, { useState, useEffect } from 'react';

// Mock data const mockProviders = [ { id: 'p1', name: 'João - Guincho', type: 'guincho', distanceKm: 1.2, rating: 4.8 }, { id: 'p2', name: 'Carlos - Chaveiro', type: 'chaveiro', distanceKm: 2.1, rating: 4.6 }, { id: 'p3', name: 'Ana - Guincho', type: 'guincho', distanceKm: 3.5, rating: 4.9 }, ];

function Header({ mode, setMode }) { return ( <div className="flex items-center justify-between p-4 bg-white shadow-md"> <h1 className="text-xl font-semibold">RescueRide</h1> <div className="flex gap-2"> <button onClick={() => setMode('client')} className={px-3 py-1 rounded ${mode === 'client' ? 'bg-indigo-600 text-white' : 'bg-gray-100'}} > Cliente </button> <button onClick={() => setMode('provider')} className={px-3 py-1 rounded ${mode === 'provider' ? 'bg-indigo-600 text-white' : 'bg-gray-100'}} > Prestador </button> </div> </div> ); }

function MapPlaceholder({ center, providerPos }) { return ( <div className="relative w-full h-64 bg-gradient-to-br from-gray-100 to-gray-200 rounded-md border-2 border-dashed border-gray-300 flex items-center justify-center"> <div className="text-center"> <div className="text-sm text-gray-600 mb-2">Mapa (simulado)</div> <div className="text-xs text-gray-500"> Centro: {center?.lat?.toFixed(3)}, {center?.lng?.toFixed(3)} </div> </div> {/* marcador cliente /} <div className="absolute w-4 h-4 bg-blue-600 rounded-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"></div> {/ marcador prestador */} {providerPos && ( <div className="absolute w-4 h-4 bg-green-600 rounded-full" style={{ top: ${50 + providerPos.latOffset}%, left: ${50 + providerPos.lngOffset}%, transform: 'translate(-50%, -50%)', }} ></div> )} </div> ); }

function ProviderCard({ p, onSelect }) { return ( <div className="p-3 bg-white rounded-md shadow-sm flex justify-between items-center"> <div> <div className="font-medium">{p.name} <span className="text-xs text-gray-500">({p.type})</span></div> <div className="text-sm text-gray-500">{p.distanceKm} km • {p.rating}★</div> </div> <button onClick={() => onSelect(p)} className="px-3 py-1 bg-indigo-600 text-white rounded">Pedir</button> </div> ); }

export default function RescueApp() { const [mode, setMode] = useState('client'); const [center] = useState({ lat: -23.623, lng: -46.535 }); const [serviceType, setServiceType] = useState('chaveiro'); const [nearby, setNearby] = useState(mockProviders); const [activeRequest, setActiveRequest] = useState(null); const [providerStatus, setProviderStatus] = useState('offline'); const [providerPos, setProviderPos] = useState(null);

useEffect(() => { setNearby(mockProviders.filter(p => p.type === serviceType || serviceType === 'any')); }, [serviceType]);

function createRequest(provider) { const req = { id: 'r_' + Math.random().toString(36).slice(2, 8), client: { id: 'c1', name: 'Cliente Demo', lat: center.lat, lng: center.lng }, type: serviceType, status: 'searching', assignedProvider: provider ? provider.id : null, }; setActiveRequest(req);

setTimeout(() => {
  const chosen = provider || nearby[0];
  if (chosen) {
    setActiveRequest({ ...req, status: 'accepted', assignedProvider: chosen.id });
    // iniciar rastreamento simulado
    simulateTracking();
  } else {
    setActiveRequest({ ...req, status: 'no_providers' });
  }
}, 1500);

}

function cancelRequest() { setActiveRequest(null); setProviderPos(null); }

function simulateTracking() { let step = 0; const interval = setInterval(() => { step++; setProviderPos({ latOffset: -30 + step * 2, lngOffset: -30 + step * 2 }); if (step >= 30) { clearInterval(interval); setActiveRequest(r => r ? { ...r, status: 'arrived' } : r); } }, 300); }

return ( <div className="min-h-screen bg-gray-50"> <Header mode={mode} setMode={setMode} /> <div className="p-4 space-y-4"> {mode === 'client' && ( <> <MapPlaceholder center={center} providerPos={providerPos} /> <div className="flex gap-2"> <select value={serviceType} onChange={e => setServiceType(e.target.value)} className="border p-2 rounded w-full" > <option value="chaveiro">Chaveiro</option> <option value="guincho">Guincho</option> <option value="any">Qualquer</option> </select> </div>

{!activeRequest && (
          <div className="space-y-2">
            {nearby.map(p => (
              <ProviderCard key={p.id} p={p} onSelect={createRequest} />
            ))}
            {nearby.length === 0 && (
              <p className="text-gray-500 text-sm">Nenhum prestador disponível.</p>
            )}
          </div>
        )}

        {activeRequest && (
          <div className="p-3 bg-white rounded-md shadow">
            {activeRequest.status === 'searching' && <p>Buscando prestadores...</p>}
            {activeRequest.status === 'accepted' && <p>Pedido aceito! Prestador a caminho...</p>}
            {activeRequest.status === 'arrived' && <p>O prestador chegou ao local!</p>}
            {activeRequest.status === 'no_providers' && <p>Nenhum prestador disponível.</p>}
            <button
              onClick={cancelRequest}
              className="mt-2 px-3 py-1 bg-red-500 text-white rounded"
            >
              Cancelar
            </button>
          </div>
        )}
      </>
    )}

    {mode === 'provider' && (
      <div className="space-y-4">
        <MapPlaceholder center={center} />
        <div>
          <p>Status: <span className="font-medium">{providerStatus}</span></p>
          {providerStatus === 'offline' ? (
            <button onClick={() => setProviderStatus('online')} className="px-3 py-1 bg-indigo-600 text-white rounded">Ficar Online</button>
          ) : (
            <button onClick={() => setProviderStatus('offline')} className="px-3 py-1 bg-red-500 text-white rounded">Sair</button>
          )}
        </div>
      </div>
    )}
  </div>
</div>

); }


title: Start developing
description: Make your first change to an Expo project and see it live on your device.
hideTOC: true
---

import { ProjectStructure } from '~/scenes/get-started/start-developing/ProjectStructure';
import { TemplateFeatures } from '~/scenes/get-started/start-developing/TemplateFeatures';
import { Collapsible } from '~/ui/components/Collapsible';
import { ContentSpotlight } from '~/ui/components/ContentSpotlight';
import { Terminal, DiffBlock } from '~/ui/components/Snippet';
import { Step } from '~/ui/components/Step';

<Step label="1">
## Start a development server
To start the development server, run the following command:

<Terminal cmd={['$ npx expo start']} />

</Step>

<Step label="2">
## Open the app on your device

After running the command above, you will see a QR code in your terminal. Scan this QR code to open the app on your device.

If you're using an Android Emulator or iOS Simulator, you can press <kbd>a</kbd> or <kbd>i</kbd> respectively to open the app.

<Collapsible summary="Having problems?">

Make sure you are on the same Wi-Fi network on your computer and your device.

If it still doesn't work, it may be due to the router configuration &mdash; this is common for public networks. You can work around this by choosing the **Tunnel** connection type when starting the development server, then scanning the QR code again.

<Terminal cmd={['$ npx expo start --tunnel']} />

> Using the **Tunnel** connection type will make the app reloads considerably slower than on **LAN** or **Local**, so it's best to avoid tunnel when possible. You may want to install and use an emulator or simulator to speed up development if **Tunnel** is required to access your machine from another device on your network.

</Collapsible>

</Step>

<Step label="3">

## Make your first change

Open the **app/(tabs)/index.tsx** file in your code editor and make a change.

<DiffBlock
  raw={`diff --git a/app/(tabs)/index.tsx b/app/(tabs)/index.tsx
index 45cfa0e..4d1b384 100644
--- a/app/(tabs)/index.tsx
+++ b/app/(tabs)/index.tsx
@@ -17,7 +17,7 @@ export default function HomeScreen() {
      }
    >
      <ThemedView style={styles.titleContainer}>
-       <ThemedText type="title">Welcome!</ThemedText>
+       <ThemedText type="title">Hello World!</ThemedText>
        <HelloWave />
      </ThemedView>
      <ThemedView style={styles.stepContainer}>
  `}
/>

<Collapsible summary="Changes not showing up on your device?">

Expo Go is configured by default to automatically reload the app whenever a file is changed, but let's make sure to go over the steps to enable it in case somehow things aren't working.

- Make sure you have the [development mode enabled in Expo CLI](/workflow/development-mode#development-mode).
- Close the Expo app and reopen it.
- Once the app is open again, shake your device to reveal the developer menu. If you are using an emulator, press <kbd>Ctrl</kbd> + <kbd>M</kbd> for Android or <kbd>Cmd ⌘</kbd> + <kbd>D</kbd> for iOS.
- If you see **Enable Fast Refresh**, press it. If you see **Disable Fast Refresh**, dismiss the developer menu. Now try making another change.

  <ContentSpotlight
    alt="Developer menu in Expo Go app."
    src="/static/images/get-started/developer-menu.png"
    className="max-w-[540px]"
  />

</Collapsible>

</Step>

---

## File structure

Below, you can get familiar with the default project's file structure:

<ProjectStructure />

## Features

The default project template has the following features:

<TemplateFeatures />
