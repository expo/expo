    import React, { useState } from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import { Sun, Droplet, Sprout, DollarSign, Bell, Camera, MapPin, Plus } from 'lucide-react';

// This is a single-file React demo for the "ркорк╛рк░рлА рк╡рк╛ркбрлА" app UI.
// Built-as: a simple React web component (uses Tailwind + shadcn-like components).

export default function MariVadiApp() {
  // Simple in-memory state for the demo
  const [crops, setCrops] = useState([
    { id: 1, name: "ркХрлЗрк░рлА", water: "3 рк▓рк┐ркЯрк░/ркжрк┐рк╡рк╕", pesticide: "Neem Oil", notes: "рклрлВрк▓ ркЖрк╡рлА рк░рк╣рлНркпрк╛ ркЫрлЗ" },
    { id: 2, name: "ркЪрлАркХрлБ", water: "2 рк▓рк┐ркЯрк░/ркжрк┐рк╡рк╕", pesticide: "None", notes: "ркорлГркжрк╛ рк╕рлВркХрлА" }
  ]);
  const [showAddCrop, setShowAddCrop] = useState(false);
  const [newCrop, setNewCrop] = useState({ name: "", water: "", pesticide: "", notes: "" });

  const [photos, setPhotos] = useState([]);
  const [reminders, setReminders] = useState([
    { id: 1, text: "ркЖркЬрлЗ ркЪрлАркХрлБ рккрк░ ркжрк╡рк╛ ркЫрк╛ркВркЯрк╡рлА" },
    { id: 2, text: "ркжрлНрк░рк╛ркХрлНрк╖ркирлЗ рккрк╛ркгрлА ркЖрккрк╡рлБркВ" }
  ]);
  const [newReminder, setNewReminder] = useState("");

  // Handlers
  function addCrop(e) {
    e.preventDefault();
    if (!newCrop.name) return;
    const id = Date.now();
    setCrops([...crops, { id, ...newCrop }]);
    setNewCrop({ name: "", water: "", pesticide: "", notes: "" });
    setShowAddCrop(false);
  }

  function handlePhotoUpload(e) {
    const files = Array.from(e.target.files);
    const added = files.map((f, i) => ({ id: Date.now() + i, name: f.name, url: URL.createObjectURL(f) }));
    setPhotos([...photos, ...added]);
  }

  function addReminder(e) {
    e.preventDefault();
    if (!newReminder.trim()) return;
    setReminders([...reminders, { id: Date.now(), text: newReminder.trim() }]);
    setNewReminder("");
  }

  return (
    <div className="min-h-screen bg-green-50 p-6">
      <h1 className="text-3xl font-bold text-green-700 mb-6 text-center">ЁЯМ┐ ркорк╛рк░рлА рк╡рк╛ркбрлА тАФ ркбрлЗрк╢ркмрлЛрк░рлНркб</h1>

      {/* Weather + Summary */}
      <div className="grid md:grid-cols-3 gap-4 mb-6">
        <Card>
          <CardContent className="flex items-center justify-between p-4">
            <div>
              <h2 className="text-xl font-semibold text-gray-700">ркЖркЬркирлБркВ рк╣рк╡рк╛ркорк╛рки</h2>
              <p className="text-gray-600">ркдрк╛рккркорк╛рки: 32┬░C | рк╡рк░рк╕рк╛ркжркирлА рк╢ркХрлНркпркдрк╛: 40%</p>
            </div>
            <Sun className="text-yellow-500 w-10 h-10" />
          </CardContent>
        </Card>

        <Card>
          <CardContent className="p-4 text-gray-700">
            <div className="flex items-center justify-between">
              <div className="flex items-center gap-2"><DollarSign className="w-5 h-5"/> <div>
                <div className="text-sm">ркХрлБрк▓ ркЦрк░рлНркЪ</div>
                <div className="font-semibold">тВ╣ 12,500</div>
              </div></div>

              <div className="flex items-center gap-2"><Sprout className="w-5 h-5"/> <div>
                <div className="text-sm">ркЖрк╡ркХ</div>
                <div className="font-semibold text-green-700">тВ╣ 28,000</div>
              </div></div>
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardContent className="p-4 text-gray-700">
            <div className="flex items-center gap-3">
              <Bell className="w-5 h-5"/>
              <div>
                <div className="text-sm">ркЖркЬркирлА рк╕рлВркЪркирк╛ркУ</div>
                <div className="font-medium">{reminders.length} рк╕рлВркЪрки ркеркпрк╛ ркЫрлЗ</div>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Crop Management */}
      <div className="mb-6">
        <div className="flex items-center justify-between mb-3">
          <h2 className="text-2xl font-semibold text-green-700">ЁЯМ╛ рккрк╛ркХ ркорлЗркирлЗркЬркорлЗркирлНркЯ</h2>
          <Button onClick={() => setShowAddCrop(!showAddCrop)} className="flex items-center gap-2"><Plus className="w-4 h-4"/> ркирк╡рлБркВ рккрк╛ркХ ркЙркорлЗрк░рлЛ</Button>
        </div>

        {showAddCrop && (
          <Card className="mb-4">
            <CardContent>
              <form onSubmit={addCrop} className="grid grid-cols-1 md:grid-cols-2 gap-3">
                <div>
                  <Label>рккрк╛ркХркирлБркВ ркирк╛рко</Label>
                  <Input value={newCrop.name} onChange={e => setNewCrop({...newCrop, name: e.target.value})} placeholder="ркЬрлЗрко - ркХрлЗрк░рлА" />
                </div>
                <div>
                  <Label>рккрк╛ркгрлА</Label>
                  <Input value={newCrop.water} onChange={e => setNewCrop({...newCrop, water: e.target.value})} placeholder="ркЬрлЗрко - 3 рк▓рк┐ркЯрк░/ркжрк┐рк╡рк╕" />
                </div>
                <div>
                  <Label>ркжрк╡рк╛ / ркЦрк╛ркдрк░</Label>
                  <Input value={newCrop.pesticide} onChange={e => setNewCrop({...newCrop, pesticide: e.target.value})} placeholder="ркЬрлЗрко - Neem Oil" />
                </div>
                <div>
                  <Label>ркирлЛркВркз</Label>
                  <Textarea value={newCrop.notes} onChange={e => setNewCrop({...newCrop, notes: e.target.value})} placeholder="ркУркЫрк╛ рк╢ркмрлНркжрлЛркорк╛ркВ ркирлЛркВркзрлЛ" />
                </div>
                <div className="md:col-span-2 flex justify-end gap-2">
                  <Button type="button" onClick={() => setShowAddCrop(false)}>рк░ркж ркХрк░рлЛ</Button>
                  <Button type="submit" className="bg-green-600 text-white">ркЙркорлЗрк░рлЛ</Button>
                </div>
              </form>
            </CardContent>
          </Card>
        )}

        <div className="grid md:grid-cols-3 gap-4">
          {crops.map(crop => (
            <Card key={crop.id} className="shadow-sm">
              <CardContent>
                <div className="flex items-start justify-between">
                  <div>
                    <h3 className="text-lg font-semibold text-gray-700">{crop.name}</h3>
                    <p className="text-sm text-gray-500">рккрк╛ркгрлА: {crop.water}</p>
                    <p className="text-sm text-gray-500">ркжрк╡рк╛: {crop.pesticide}</p>
                    <p className="text-sm mt-2">{crop.notes}</p>
                  </div>
                  <div className="flex flex-col items-end gap-2">
                    <Button className="text-sm">рк╡рк┐ркЧркд ркЬрлБркУ</Button>
                    <Button className="text-sm">рк╕ркВрккрк╛ркжрк┐ркд ркХрк░рлЛ</Button>
                  </div>
                </div>
              </CardContent>
            </Card>
          ))}
        </div>
      </div>

      {/* Map Section */}
      <div className="mb-6">
        <div className="flex items-center justify-between mb-3">
          <h2 className="text-2xl font-semibold text-green-700">ЁЯЧ║я╕П рк╡рк╛ркбрлАркирлЛ ркиркХрк╢рлЛ</h2>
          <div className="text-sm text-gray-500 flex items-center gap-2"><MapPin className="w-4 h-4"/> рк╕рлНркерк╛рки ркЬрлЛркбрк╡рк╛ ркорк╛ркЯрлЗ рккрк░рк╡рк╛ркиркЧрлА ркЖрккрлЛ</div>
        </div>

        <Card>
          <CardContent className="p-0">
            {/* Placeholder map тАФ replace with Google Maps component and API key in production */}
            <div className="w-full h-56 md:h-72 bg-gray-100 flex items-center justify-center">
              <div className="text-center text-gray-500">
                <div className="mb-2">[Map Placeholder]</div>
                <div className="text-sm">Google Maps API
    

