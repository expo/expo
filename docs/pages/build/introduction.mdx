import React, { useState } from "react";
import { getStorage, ref, uploadBytes, getDownloadURL } from "firebase/storage";
import { initializeApp } from "firebase/app";

// ðŸ”¹ Firebase Config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "yourapp.firebaseapp.com",
  projectId: "yourapp",
  storageBucket: "yourapp.appspot.com",
  messagingSenderId: "123456",
  appId: "1:123456:web:abc123"
};

// ðŸ”¹ Firebase Init
const app = initializeApp(firebaseConfig);
const storage = getStorage(app);

export default function YouTubeClone() {
  const [video, setVideo] = useState(null);
  const [url, setUrl] = useState("");

  const uploadVideo = async () => {
    if (!video) return;
    const videoRef = ref(storage, `videos/${video.name}`);
    await uploadBytes(videoRef, video);
    const downloadURL = await getDownloadURL(videoRef);
    setUrl(downloadURL);
    alert("âœ… Video Uploaded!");
  };

  return (
    <div className="p-5">
      <h1 className="text-xl font-bold">ðŸŽ¥ YouTube Clone</h1>
      
      <input
        type="file"
        accept="video/*"
        onChange={(e) => setVideo(e.target.files[0])}
      />
      <button
        onClick={uploadVideo}
        className="bg-red-500 text-white px-4 py-2 rounded mt-2"
      >
        Upload Video
      </button>

      {url && (
        <video controls width="400" className="mt-4">
          <source src={url} type="video/mp4" />
        </video>
      )}
    </div>
  );
}
