import React, { useState } from 'react';
import { View, Text, ScrollView, StyleSheet, TouchableOpacity, Alert } from 'react-native';

// N√ºmun…ô m…ôhsullar (m…ôtn tam Az…ôrbaycan dilind…ôdir)
const mehsullar = [
  { id: 1, ad: 'Qadƒ±n T√ºnd G√∂y Don', qiymet: '45.00 AZN' },
  { id: 2, ad: 'Ki≈üi Qara Slim Fit K√∂yn…ôk', qiymet: '29.99 AZN' },
  { id: 3, ad: 'U≈üaq Cins ≈ûalvarƒ±', qiymet: '19.50 AZN' },
  { id: 4, ad: 'Qƒ±≈ü Sviteri', qiymet: '55.50 AZN' },
];

export default function App() {
  // S…ôb…ôt…ô …ôlav…ô olunan m…ôhsullarƒ± saxlamaq √º√ß√ºn d…ôyi≈ü…ôn
  const [sebetSayi, setSebetSayi] = useState(0);

  // M…ôhsulu s…ôb…ôt…ô …ôlav…ô etm…ô funksiyasƒ±
  const sebeteElaveEt = (mehsulAdi) => {
    setSebetSayi(prevSayi => prevSayi + 1);
    Alert.alert("∆èlav…ô Edildi", `${mehsulAdi} s…ôb…ôt…ô …ôlav…ô olundu!`);
  };

  return (
    <View style={styles.container}>
      {/* BA≈ûLIQ */}
      <View style={styles.header}>
        <Text style={styles.logo}>Moda Maƒüazam</Text>
        <TouchableOpacity style={styles.cartContainer} onPress={() => Alert.alert("S…ôb…ôtiniz", `S…ôb…ôtd…ô ${sebetSayi} m…ôhsul var.`)}>
          <Text style={{ fontSize: 24 }}>üõí</Text>
          {sebetSayi > 0 && (
            <View style={styles.badge}>
              <Text style={styles.badgeText}>{sebetSayi}</Text>
            </View>
          )}
        </TouchableOpacity>
      </View>

      {/* M∆èHSUL Sƒ∞YAHISI */}
      <ScrollView contentContainerStyle={styles.content}>
        <Text style={styles.sectionTitle}>Yeni G…ôl…ônl…ôr</Text>
        
        <View style={styles.productGrid}>
          {mehsullar.map((mehsul) => (
            <View key={mehsul.id} style={styles.productCard}>
              <View style={styles.imagePlaceholder}><Text>≈û…ôkil Yeri</Text></View>
              <Text style={styles.productName}>{mehsul.ad}</Text>
              <Text style={styles.productPrice}>{mehsul.qiymet}</Text>
              
              {/* S…ôb…ôt…ô ∆èlav…ô Et D√ºym…ôsi */}
              <TouchableOpacity 
                style={styles.addButton}
                onPress={() => sebeteElaveEt(mehsul.ad)}
              >
                <Text style={styles.addButtonText}>üõí S…ôb…ôt…ô ∆èlav…ô Et</Text>
              </TouchableOpacity>
            </View>
          ))}
        </View>
      </ScrollView>
    </View>
  );
}

// √úslublar (Dizayn Kodlarƒ±)
const styles = StyleSheet.create({
  container: { flex: 1, backgroundColor: '#f8f8f8', paddingTop: 50 },
  header: { flexDirection: 'row', justifyContent: 'space-between', padding: 15, backgroundColor: '#fff', borderBottomWidth: 1, borderBottomColor: '#ff6f00' },
  logo: { fontSize: 22, fontWeight: 'bold', color: '#ff6f00' },
  cartContainer: { position: 'relative' },
  badge: {
    position: 'absolute', top: -5, right: -5, backgroundColor: 'red',
    borderRadius: 9, width: 18, height: 18, justifyContent: 'center', alignItems: 'center',
  },
  badgeText: { color: 'white', fontSize: 10, fontWeight: 'bold' },
  content: { padding: 10 },
  sectionTitle: { fontSize: 18, fontWeight: 'bold', marginVertical: 15, color: '#333' },
  productGrid: { flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'space-between' },
  productCard: { width: '48%', marginBottom: 20, backgroundColor: '#fff', borderRadius: 8, padding: 10, alignItems: 'center', elevation: 2 },
  imagePlaceholder: { width: '100%', height: 150, backgroundColor: '#e0e0e0', borderRadius: 6, marginBottom: 10, justifyContent: 'center', alignItems: 'center' },
  productName: { fontSize: 14, fontWeight: '600', textAlign: 'center', marginBottom: 5 },
  productPrice: { fontSize: 16, fontWeight: 'bold', color: '#ff6f00', marginBottom: 10 },
  addButton: { backgroundColor: '#00bcd4', padding: 10, borderRadius: 5, width: '100%', alignItems: 'center' },
  addButtonText: { color: 'white', fontWeight: 'bold' },
});
