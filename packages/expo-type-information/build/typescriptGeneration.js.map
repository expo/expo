{"version":3,"file":"typescriptGeneration.js","sourceRoot":"","sources":["../src/typescriptGeneration.ts"],"names":[],"mappings":"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","sourcesContent":["'use strict';\nimport path from 'path';\nimport prettier from 'prettier';\nimport ts, { MethodDeclaration } from 'typescript';\n\nimport {\n  Argument,\n  ArrayType,\n  BasicType,\n  ClassDeclaration,\n  ConstructorDeclaration,\n  DictionaryType,\n  EnumType,\n  EventDeclaration,\n  FileTypeInformation,\n  FunctionDeclaration,\n  ModuleClassDeclaration,\n  ParametrizedType,\n  PropDeclaration,\n  PropertyDeclaration,\n  RecordType,\n  SumType,\n  Type,\n  TypeKind,\n  ViewDeclaration,\n} from './typeInformation';\n\nconst prefix = `Automatically generated by expo-type-information.\n\nThis autogenerated file provides TS types for native Expo module or view,\nand works out of the box with inline modules.\n`;\n\nfunction getPrefix() {\n  return [ts.factory.createJSDocComment(prefix)];\n}\n\nfunction getUnresolvedTypesNamespaceNameForFile(filePath: string) {\n  const fileNameWithExtension = path.basename(filePath);\n  return fileNameWithExtension.slice(0, fileNameWithExtension.lastIndexOf('.')) + 'Types';\n}\n\nconst newlineIdentifier = ts.factory.createIdentifier('\\n\\n') as any;\n\nfunction getOneNamedImport(importedName: string, importFromName: string) {\n  return ts.factory.createImportDeclaration(\n    undefined,\n    ts.factory.createImportClause(\n      undefined,\n      undefined,\n      ts.factory.createNamedImports([\n        ts.factory.createImportSpecifier(\n          false,\n          undefined,\n          ts.factory.createIdentifier(importedName)\n        ),\n      ])\n    ),\n    ts.factory.createStringLiteral(importFromName),\n    undefined\n  );\n}\n\nfunction getPropEventElementDeclaration(eventDeclaration: EventDeclaration): ts.TypeElement {\n  return ts.factory.createPropertySignature(\n    undefined,\n    eventDeclaration,\n    undefined,\n    ts.factory.createFunctionTypeNode(\n      undefined,\n      [\n        ts.factory.createParameterDeclaration(\n          undefined,\n          undefined,\n          'event',\n          undefined,\n          ts.factory.createKeywordTypeNode(ts.SyntaxKind.AnyKeyword)\n        ),\n      ],\n      ts.factory.createKeywordTypeNode(ts.SyntaxKind.VoidKeyword)\n    )\n  );\n}\n\nfunction getPropTypeElementDeclaration(\n  propDeclaration: PropDeclaration\n): ts.TypeElement | undefined {\n  if (!propDeclaration || !propDeclaration.arguments || propDeclaration.arguments.length < 2) {\n    return undefined;\n  }\n  return ts.factory.createPropertySignature(\n    undefined,\n    propDeclaration.name,\n    undefined,\n    mapTypeToTsTypeNode(propDeclaration.arguments[1].type)\n  );\n}\n\nexport function getPropsTypeDeclaration(\n  propsTypeName: string,\n  propsDeclaration: PropDeclaration[],\n  events: EventDeclaration[],\n  exported: boolean = true\n): ts.Node[] {\n  return ([] as ts.Node[]).concat(\n    ts.factory.createTypeAliasDeclaration(\n      exported ? [ts.factory.createModifier(ts.SyntaxKind.ExportKeyword)] : [],\n      propsTypeName,\n      undefined,\n      ts.factory.createTypeLiteralNode([\n        ...(propsDeclaration\n          .map(getPropTypeElementDeclaration)\n          .filter((p) => p) as ts.PropertySignature[]),\n        ...events.map(getPropEventElementDeclaration),\n      ])\n    )\n  );\n}\n\nexport function wrapWithPromise(typeNode: ts.TypeNode): ts.TypeNode {\n  return ts.factory.createTypeReferenceNode('Promise', [typeNode]);\n}\n\nfunction getClassPropertyDeclaration(declaration: PropertyDeclaration): ts.PropertyDeclaration {\n  return ts.factory.createPropertyDeclaration(\n    [ts.factory.createModifier(ts.SyntaxKind.ReadonlyKeyword)],\n    declaration.name,\n    undefined,\n    mapTypeToTsTypeNode(declaration.type),\n    undefined\n  );\n}\n\nfunction getClassDeclarationInModule(classDeclaration: ClassDeclaration): ts.ClassElement {\n  return ts.factory.createPropertyDeclaration(\n    undefined,\n    classDeclaration.name,\n    undefined,\n    // TODO that's a hack, but I couldn't find a proper way to do this\n    // The problem is that declare class semantics seem somewhat different than class semantics.\n    ts.factory.createTypeReferenceNode('typeof ' + classDeclaration.name),\n    undefined\n  );\n}\n\nfunction getExportDeclareModifiers(): ts.ModifierLike[] {\n  return [\n    ts.factory.createModifier(ts.SyntaxKind.ExportKeyword),\n    ts.factory.createToken(ts.SyntaxKind.DeclareKeyword),\n  ];\n}\n\nfunction getExportedModuleDeclaration(moduleClassDeclaration: ModuleClassDeclaration): ts.Node[] {\n  return [\n    ts.factory.createClassDeclaration(\n      getExportDeclareModifiers(),\n      moduleClassDeclaration.name,\n      undefined,\n      [\n        ts.factory.createHeritageClause(ts.SyntaxKind.ExtendsKeyword, [\n          ts.factory.createExpressionWithTypeArguments(\n            ts.factory.createIdentifier('NativeModule'),\n            undefined\n          ),\n        ]),\n      ],\n      ([] as ts.ClassElement[]).concat(\n        moduleClassDeclaration.constants.map(getClassPropertyDeclaration),\n        moduleClassDeclaration.properties.map(getClassPropertyDeclaration),\n        moduleClassDeclaration.functions.map(getSyncMethodDeclaration),\n        moduleClassDeclaration.asyncFunctions.map(getAsyncMethodDeclaration),\n        moduleClassDeclaration.classes.map(getClassDeclarationInModule)\n      )\n    ),\n  ];\n}\n\nexport function getArgumentDeclaration(arg: Argument): ts.ParameterDeclaration {\n  const optional = arg.type.kind === TypeKind.OPTIONAL;\n  const argType = optional ? (arg.type.type as Type) : arg.type;\n\n  return ts.factory.createParameterDeclaration(\n    undefined,\n    undefined,\n    arg.name,\n    optional ? ts.factory.createToken(ts.SyntaxKind.QuestionToken) : undefined,\n    mapTypeToTsTypeNode(argType),\n    undefined\n  );\n}\n\nfunction getAsyncMethodDeclaration(functionDeclaration: FunctionDeclaration): ts.MethodDeclaration {\n  return getTsFunction(functionDeclaration, true, true, false, true) as ts.MethodDeclaration;\n}\n\nfunction getSyncMethodDeclaration(functionDeclaration: FunctionDeclaration): ts.MethodDeclaration {\n  return getTsFunction(functionDeclaration, false, true, false, true) as MethodDeclaration;\n}\n\nexport function getTsFunction(\n  functionDeclaration: FunctionDeclaration,\n  async: boolean,\n  method: boolean,\n  exported: boolean,\n  declaration: boolean,\n  returnStatement?: null | ts.ReturnStatement[]\n): ts.FunctionDeclaration | ts.MethodDeclaration {\n  const functionModifiers: ts.ModifierLike[] = [];\n  const customReturn = !!returnStatement;\n  let returnTypeNode = mapTypeToTsTypeNode(functionDeclaration.returnType);\n\n  if (exported) {\n    functionModifiers.push(ts.factory.createModifier(ts.SyntaxKind.ExportKeyword));\n  }\n\n  if (async) {\n    returnTypeNode = wrapWithPromise(returnTypeNode);\n    if (!declaration) {\n      functionModifiers.push(ts.factory.createModifier(ts.SyntaxKind.AsyncKeyword));\n    }\n  }\n\n  if (method) {\n    return ts.factory.createMethodDeclaration(\n      functionModifiers,\n      undefined,\n      functionDeclaration.name,\n      undefined,\n      undefined,\n      functionDeclaration.arguments.map(getArgumentDeclaration),\n      returnTypeNode,\n      declaration ? undefined : ts.factory.createBlock(customReturn ? returnStatement : [])\n    );\n  }\n  return ts.factory.createFunctionDeclaration(\n    functionModifiers,\n    undefined,\n    functionDeclaration.name,\n    undefined,\n    functionDeclaration.arguments.map(getArgumentDeclaration),\n    returnTypeNode,\n    declaration ? undefined : ts.factory.createBlock(customReturn ? returnStatement : [])\n  );\n}\n\nfunction mapBasicTypeToTsNode(basicType: BasicType): ts.TypeNode {\n  if (basicType === BasicType.UNRESOLVED) {\n    return ts.addSyntheticTrailingComment(\n      ts.factory.createKeywordTypeNode(ts.SyntaxKind.UnknownKeyword),\n      ts.SyntaxKind.MultiLineCommentTrivia,\n      \"The type couldn't be resolved automatically.\"\n    );\n  }\n  return ts.factory.createKeywordTypeNode(\n    (() => {\n      switch (basicType) {\n        case BasicType.ANY:\n          return ts.SyntaxKind.AnyKeyword;\n        case BasicType.BOOLEAN:\n          return ts.SyntaxKind.BooleanKeyword;\n        case BasicType.NUMBER:\n          return ts.SyntaxKind.NumberKeyword;\n        case BasicType.STRING:\n          return ts.SyntaxKind.StringKeyword;\n        case BasicType.VOID:\n          return ts.SyntaxKind.VoidKeyword;\n        case BasicType.UNDEFINED:\n          return ts.SyntaxKind.UndefinedKeyword;\n      }\n    })()\n  );\n}\n\nfunction createDictionaryTypeNode(type: DictionaryType): ts.TypeNode {\n  return ts.factory.createTypeLiteralNode([\n    ts.factory.createIndexSignature(\n      undefined,\n      [\n        ts.factory.createParameterDeclaration(\n          undefined,\n          undefined,\n          'key',\n          undefined,\n          mapTypeToTsTypeNode(type.key),\n          undefined\n        ),\n      ],\n      mapTypeToTsTypeNode(type.value)\n    ),\n  ]);\n}\n\nexport function mapTypeToTsTypeNode(type: Type): ts.TypeNode {\n  switch (type.kind) {\n    case TypeKind.BASIC:\n      return mapBasicTypeToTsNode(type.type as BasicType);\n    case TypeKind.IDENTIFIER:\n      return ts.factory.createTypeReferenceNode(type.type as string);\n    case TypeKind.SUM:\n      return ts.factory.createUnionTypeNode((type.type as SumType).types.map(mapTypeToTsTypeNode));\n    case TypeKind.ARRAY:\n      return ts.factory.createArrayTypeNode(mapTypeToTsTypeNode(type.type as ArrayType));\n    case TypeKind.DICTIONARY:\n      return createDictionaryTypeNode(type.type as DictionaryType);\n\n    // Technically this one should only be the top one and it should be handled somewhere else\n    // for example when creating arguemnt adding the '?' token.\n    //\n    // However we can just make it (type | undefined) in here.\n    // TODO Maybe also need null?\n    case TypeKind.OPTIONAL:\n      return ts.factory.createUnionTypeNode([\n        mapTypeToTsTypeNode(type.type as Type),\n        mapBasicTypeToTsNode(BasicType.UNDEFINED),\n      ]);\n    case TypeKind.PARAMETRIZED:\n      return ts.factory.createTypeReferenceNode(\n        (type.type as ParametrizedType).name,\n        (type.type as ParametrizedType).types.map(mapTypeToTsTypeNode)\n      );\n  }\n  return mapBasicTypeToTsNode(BasicType.UNRESOLVED);\n}\n\nexport function getClassConstructorDeclaration(\n  constructor: ConstructorDeclaration,\n  declaration: boolean = true\n): ts.ClassElement {\n  return ts.factory.createConstructorDeclaration(\n    undefined,\n    constructor.arguments.map(getArgumentDeclaration),\n    declaration ? undefined : ts.factory.createBlock([])\n  );\n}\n\n// TODO figure out what about inheritance, should or should not inherit SharedObject\nexport function getTsClass(\n  classDeclaration: ClassDeclaration,\n  fileTypeInformation: FileTypeInformation,\n  exported: boolean,\n  declaration: boolean,\n  getFunctionReturnBlock:\n    | null\n    | ((\n        functionDeclaration: FunctionDeclaration,\n        fileTypeInformation: FileTypeInformation\n      ) => ts.ReturnStatement[])\n): ts.ClassDeclaration {\n  const classModifiers: ts.ModifierLike[] = [];\n  if (exported) {\n    classModifiers.push(ts.factory.createModifier(ts.SyntaxKind.ExportKeyword));\n  }\n  if (declaration) {\n    classModifiers.push(ts.factory.createModifier(ts.SyntaxKind.DeclareKeyword));\n  }\n  const constructorDeclaration = classDeclaration.constructor\n    ? getClassConstructorDeclaration(classDeclaration.constructor, declaration)\n    : undefined;\n  return ts.factory.createClassDeclaration(\n    classModifiers,\n    ts.factory.createIdentifier(classDeclaration.name),\n    undefined,\n    [],\n    // [\n    //   ts.factory.createHeritageClause(ts.SyntaxKind.ExtendsKeyword, [\n    //     ts.factory.createExpressionWithTypeArguments(\n    //       ts.factory.createIdentifier('SharedObject'),\n    //       undefined\n    //     ),\n    //   ]),\n    // ],\n    ([] as (ts.ClassElement | undefined)[])\n      .concat(\n        classDeclaration.methods.map(\n          (method) =>\n            getTsFunction(\n              method,\n              false,\n              true,\n              false,\n              declaration,\n              !declaration && getFunctionReturnBlock\n                ? getFunctionReturnBlock(method, fileTypeInformation)\n                : null\n            ) as ts.MethodDeclaration\n        ),\n        classDeclaration.asyncMethods.map(\n          (method) =>\n            getTsFunction(\n              method,\n              true,\n              true,\n              false,\n              declaration,\n              !declaration && getFunctionReturnBlock\n                ? getFunctionReturnBlock(method, fileTypeInformation)\n                : null\n            ) as ts.MethodDeclaration\n        ),\n        declaration ? classDeclaration.properties.map(getClassPropertyDeclaration) : [],\n        constructorDeclaration\n      )\n      .filter((v) => !!v)\n  );\n}\n\nfunction getExportedClassDeclaration(\n  classDeclaration: ClassDeclaration,\n  fileTypeInformation: FileTypeInformation\n): ts.ClassDeclaration {\n  return getTsClass(classDeclaration, fileTypeInformation, true, true, null);\n}\n\nfunction getModuleDefaultValueExport(defaultValueTypename: string): ts.Node[] {\n  return ([] as ts.Node[]).concat(\n    ts.factory.createParameterDeclaration(\n      [ts.factory.createModifier(ts.SyntaxKind.ConstKeyword)],\n      undefined,\n      '_default',\n      undefined,\n      ts.factory.createTypeReferenceNode(defaultValueTypename),\n      undefined\n    ),\n    ts.factory.createExportDefault(ts.factory.createIdentifier('_default'))\n  );\n}\n\nfunction getNTypeParameterDeclaration(n: number): ts.TypeParameterDeclaration[] {\n  const params: ts.TypeParameterDeclaration[] = [];\n  for (let i = 0; i < n; i += 1) {\n    params.push(ts.factory.createTypeParameterDeclaration(undefined, 'T' + i));\n  }\n  return params;\n}\n\nfunction getNTypeNodes(n: number): ts.TypeNode[] {\n  const params: ts.TypeNode[] = [];\n  for (let i = 0; i < n; i += 1) {\n    params.push(ts.factory.createTypeReferenceNode('T' + i));\n  }\n  return params;\n}\n\nexport function getIdentifierUnknownDeclaration(\n  identifier: string,\n  typeParametersCount: Map<string, number>\n): ts.Statement {\n  return getTypeAliasDeclaration(\n    identifier,\n    ts.factory.createKeywordTypeNode(ts.SyntaxKind.UnknownKeyword),\n    typeParametersCount.get(identifier)\n  );\n}\n\nexport function getTypeAliasDeclaration(\n  alias: string,\n  typeIdentifier: ts.TypeNode,\n  paramCount: number | undefined\n): ts.Statement {\n  return ts.factory.createTypeAliasDeclaration(\n    undefined,\n    alias,\n    paramCount === undefined ? undefined : getNTypeParameterDeclaration(paramCount),\n    typeIdentifier\n  );\n}\n\nexport function getRecordDeclaration(recordType: RecordType): ts.Node {\n  return ts.factory.createTypeAliasDeclaration(\n    undefined,\n    recordType.name,\n    undefined,\n    ts.factory.createTypeLiteralNode(\n      recordType.fields.map((field) => {\n        const optional = field.type.kind === TypeKind.OPTIONAL;\n        const argType = optional ? (field.type.type as Type) : field.type;\n        return ts.factory.createPropertySignature(\n          undefined,\n          field.name,\n          optional ? ts.factory.createToken(ts.SyntaxKind.QuestionToken) : undefined,\n          mapTypeToTsTypeNode(argType)\n        );\n      })\n    )\n  );\n}\n\nexport function getEnumDeclaration(enumType: EnumType): ts.Node {\n  return ts.factory.createEnumDeclaration(\n    undefined,\n    enumType.name,\n    enumType.cases.map((enumcase) => ts.factory.createEnumMember(enumcase))\n  );\n}\n\nfunction getUndeclaredIdentifiersDeclaration(\n  fileTypeInformation: FileTypeInformation,\n  undeclaredTypeIdentifiers: Set<string>,\n  unresolvedTypesNamespace: string\n): ts.Node[] {\n  return ([] as ts.Node[]).concat(\n    [\n      ts.factory.createModuleDeclaration(\n        [ts.factory.createModifier(ts.SyntaxKind.ExportKeyword)],\n        ts.factory.createIdentifier(unresolvedTypesNamespace),\n        ts.factory.createModuleBlock(\n          [...undeclaredTypeIdentifiers].map((identifier) =>\n            getIdentifierUnknownDeclaration(identifier, fileTypeInformation.typeParametersCount)\n          )\n        ),\n        ts.NodeFlags.Namespace\n      ),\n    ],\n    [...undeclaredTypeIdentifiers].map((undeclaredTypeIdentifier) => {\n      const paramCount = fileTypeInformation.typeParametersCount.get(undeclaredTypeIdentifier);\n      return getTypeAliasDeclaration(\n        undeclaredTypeIdentifier,\n        ts.factory.createTypeReferenceNode(\n          ts.factory.createQualifiedName(\n            ts.factory.createIdentifier(unresolvedTypesNamespace),\n            undeclaredTypeIdentifier\n          ),\n          paramCount === undefined ? undefined : getNTypeNodes(paramCount)\n        ),\n        paramCount\n      );\n    })\n  );\n}\n\nfunction getModuleTypesDeclarationsForModule(\n  moduleClassDeclaration: ModuleClassDeclaration,\n  fileTypeInformation: FileTypeInformation,\n  recordTypes: RecordType[],\n  enumTypes: EnumType[],\n  undeclaredTypeIdentifiers: Set<string>,\n  unresolvedTypesNamespace: string\n): ts.Node[] {\n  return ([] as ts.Node[]).concat(\n    getPrefix(),\n    newlineIdentifier,\n    getOneNamedImport('NativeModule', 'expo'),\n    newlineIdentifier,\n    getUndeclaredIdentifiersDeclaration(\n      fileTypeInformation,\n      undeclaredTypeIdentifiers,\n      unresolvedTypesNamespace\n    ),\n    newlineIdentifier,\n    recordTypes.flatMap(getRecordDeclaration),\n    newlineIdentifier,\n    enumTypes.flatMap(getEnumDeclaration),\n    newlineIdentifier,\n    moduleClassDeclaration.classes.map((c) => getExportedClassDeclaration(c, fileTypeInformation)),\n    newlineIdentifier,\n    getExportedModuleDeclaration(moduleClassDeclaration),\n    newlineIdentifier,\n    getModuleDefaultValueExport(moduleClassDeclaration.name)\n  );\n}\n\nfunction getViewDefaultValueExport(view: ViewDeclaration): ts.Node[] {\n  return ([] as ts.Node[]).concat(\n    ts.factory.createParameterDeclaration(\n      [ts.factory.createModifier(ts.SyntaxKind.ConstKeyword)],\n      undefined,\n      '_default',\n      undefined,\n      ts.factory.createTypeReferenceNode('React.JSXElementConstructor', [\n        ts.factory.createTypeReferenceNode(getViewPropsTypeName(view)),\n      ]),\n      undefined\n    ),\n    ts.factory.createExportDefault(ts.factory.createIdentifier('_default'))\n  );\n}\n\nexport function getViewPropsTypeName(view: ViewDeclaration): string {\n  return view.name + (view.name.endsWith('View') ? 'Props' : 'ViewProps');\n}\n\nfunction getViewTypesDeclarationsForModule(\n  moduleClassDeclaration: ModuleClassDeclaration,\n  fileTypeInformation: FileTypeInformation\n): ts.Node[] {\n  if (moduleClassDeclaration.views.length === 0) {\n    return [];\n  }\n  const mainView = moduleClassDeclaration.views[0];\n  const undeclaredTypeIdentifiers: Set<string> = fileTypeInformation.usedTypeIdentifiers\n    .difference(fileTypeInformation.declaredTypeIdentifiers)\n    .difference(basicTypesIdentifiers());\n  return ([] as ts.Node[]).concat(\n    getPrefix(),\n    newlineIdentifier,\n    getOneNamedImport('SharedObject', 'expo'),\n    newlineIdentifier,\n    getOneNamedImport('ViewProps', 'react-native'),\n    newlineIdentifier,\n    [...undeclaredTypeIdentifiers].map((identifier) =>\n      getIdentifierUnknownDeclaration(identifier, fileTypeInformation.typeParametersCount)\n    ),\n    newlineIdentifier,\n    getPropsTypeDeclaration(getViewPropsTypeName(mainView), mainView.props, mainView.events, false),\n    newlineIdentifier,\n    getViewDefaultValueExport(moduleClassDeclaration.views[0])\n  );\n}\n\nexport async function prettifyCode(text: string, parser: 'babel' | 'typescript' = 'babel') {\n  return await prettier.format(text, {\n    parser,\n    tabWidth: 2,\n    printWidth: 100,\n    trailingComma: 'none',\n    singleQuote: true,\n  });\n}\n\nasync function prettyPrintTSNodesToString(file: string, elements: ts.Node[]): Promise<string> {\n  const printer = ts.createPrinter({ newLine: ts.NewLineKind.LineFeed });\n  const resultFile = ts.createSourceFile(\n    file,\n    '',\n    ts.ScriptTarget.Latest,\n    false,\n    ts.ScriptKind.TSX\n  );\n  const viewTypes = ts.factory.createNodeArray(elements);\n  const printedTs = printer.printList(\n    ts.ListFormat.MultiLine + ts.ListFormat.PreserveLines,\n    viewTypes,\n    resultFile\n  );\n  return await prettifyCode(printedTs, 'typescript');\n}\n\nexport function basicTypesIdentifiers(): Set<string> {\n  return new Set<string>(['any', 'number', 'string', 'undefined', 'null', 'Map', 'Set']);\n}\n\nexport async function getGeneratedViewTypesFileContent(\n  file: string,\n  fileTypeInformation: FileTypeInformation\n): Promise<string> {\n  const outputModuleDefinition = fileTypeInformation.moduleClasses[0];\n  return prettyPrintTSNodesToString(\n    file,\n    getViewTypesDeclarationsForModule(outputModuleDefinition, fileTypeInformation)\n  );\n}\n\nexport async function getGeneratedModuleTypesFileContent(\n  file: string,\n  fileTypeInformation: FileTypeInformation\n): Promise<string> {\n  const moduleClassDeclaration: ModuleClassDeclaration = fileTypeInformation.moduleClasses.at(\n    0\n  ) ?? {\n    name: 'EmptyModule',\n    asyncFunctions: [],\n    functions: [],\n    properties: [],\n    classes: [],\n    views: [],\n    constants: [],\n    props: [],\n    events: [],\n  };\n  return prettyPrintTSNodesToString(\n    file,\n    getModuleTypesDeclarationsForModule(\n      moduleClassDeclaration,\n      fileTypeInformation,\n      fileTypeInformation.records,\n      fileTypeInformation.enums,\n      fileTypeInformation.usedTypeIdentifiers\n        .difference(fileTypeInformation.declaredTypeIdentifiers)\n        .difference(basicTypesIdentifiers()),\n      getUnresolvedTypesNamespaceNameForFile(file)\n    )\n  );\n}\n"]}