{"version":3,"file":"build.js","sourceRoot":"","sources":["../../../src/cli/commands/build.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAwB;AAGxB,sDAAqD;AAErD,SAAsB,UAAU,CAAC,MAAoB;;;;;;oBAC3C,UAAU,GAAkB,MAAM,WAAxB,EAAE,WAAW,GAAK,MAAM,YAAX,CAAY;0BAET,EAAV,yBAAU;;;yBAAV,CAAA,wBAAU,CAAA;oBAAvB,SAAS;oBACZ,QAAQ,GAAG,cAAI,CAAC,IAAI,CAAC,8BAA8B,EAAE;wBACzD,GAAG,EAAE,SAAS;wBACd,MAAM,EAAE,CAAC,oBAAoB,EAAE,WAAW,EAAE,eAAe,CAAC;qBAC7D,CAAC,CAAC;oBAEH,qBAAM,IAAA,iCAAe,EAAC,QAAQ,EAAE,EAAE,SAAS,WAAA,EAAE,WAAW,aAAA,EAAE,CAAC,EAAA;;oBAA3D,SAA2D,CAAC;;;oBANtC,IAAU,CAAA;;;;;;CAQnC;AAXD,gCAWC","sourcesContent":["import glob from 'glob';\n\nimport { StoryOptions } from '../../types';\nimport { addStoriesAsync } from '../addStoriesAsync';\n\nexport async function buildAsync(config: StoryOptions) {\n  const { watchRoots, projectRoot } = config;\n\n  for (const watchRoot of watchRoots) {\n    const relPaths = glob.sync('**/*.stories.{tsx,ts,js,jsx}', {\n      cwd: watchRoot,\n      ignore: ['**/node_modules/**', '**/ios/**', '**/android/**'],\n    });\n\n    await addStoriesAsync(relPaths, { watchRoot, projectRoot });\n  }\n}\n"]}