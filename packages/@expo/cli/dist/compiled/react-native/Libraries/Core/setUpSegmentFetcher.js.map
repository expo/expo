{"version":3,"names":["__fetchSegment","segmentId","options","callback","SegmentFetcher","require","default","fetchSegment","errorObject","error","Error","message","code","global"],"sources":["setUpSegmentFetcher.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n */\n\n'use strict';\n\nexport type FetchSegmentFunction = typeof __fetchSegment;\n\n/**\n * Set up SegmentFetcher.\n * You can use this module directly, or just require InitializeCore.\n */\n\nfunction __fetchSegment(\n  segmentId: number,\n  options: $ReadOnly<{\n    otaBuildNumber: ?string,\n    requestedModuleName: string,\n    segmentHash: string,\n  }>,\n  callback: (?Error) => void,\n) {\n  const SegmentFetcher =\n    require('./SegmentFetcher/NativeSegmentFetcher').default;\n  SegmentFetcher.fetchSegment(\n    segmentId,\n    options,\n    (\n      errorObject: ?{\n        message: string,\n        code: string,\n        ...\n      },\n    ) => {\n      if (errorObject) {\n        const error = new Error(errorObject.message);\n        (error: any).code = errorObject.code; // flowlint-line unclear-type: off\n        callback(error);\n      }\n\n      callback(null);\n    },\n  );\n}\n\nglobal.__fetchSegment = __fetchSegment;\n"],"mappings":"AAUA,YAAY;;AASZ,SAASA,cAAcA,CACrBC,SAAiB,EACjBC,OAIE,EACFC,QAA0B,EAC1B;EACA,IAAMC,cAAc,GAClBC,OAAO,yCAAyC,CAACC,OAAO;EAC1DF,cAAc,CAACG,YAAY,CACzBN,SAAS,EACTC,OAAO,EACP,UACEM,WAIC,EACE;IACH,IAAIA,WAAW,EAAE;MACf,IAAMC,KAAK,GAAG,IAAIC,KAAK,CAACF,WAAW,CAACG,OAAO,CAAC;MAC3CF,KAAK,CAAOG,IAAI,GAAGJ,WAAW,CAACI,IAAI;MACpCT,QAAQ,CAACM,KAAK,CAAC;IACjB;IAEAN,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC,CACF;AACH;AAEAU,MAAM,CAACb,cAAc,GAAGA,cAAc"}