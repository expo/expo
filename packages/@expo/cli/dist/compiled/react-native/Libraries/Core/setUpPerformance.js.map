{"version":3,"names":["_NativePerformance","_interopRequireDefault","require","_Performance","NativePerformance","global","performance","Performance","now","performanceNow","nativePerformanceNow","Date"],"sources":["setUpPerformance.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n */\n\nimport NativePerformance from '../WebPerformance/NativePerformance';\nimport Performance from '../WebPerformance/Performance';\n\n// In case if the native implementation of the Performance API is available, use it,\n// otherwise fall back to the legacy/default one, which only defines 'Performance.now()'\nif (NativePerformance) {\n  // $FlowExpectedError[cannot-write]\n  global.performance = new Performance();\n} else {\n  if (!global.performance) {\n    // $FlowExpectedError[cannot-write]\n    global.performance = ({}: {now?: () => number});\n  }\n\n  /**\n   * Returns a double, measured in milliseconds.\n   * https://developer.mozilla.org/en-US/docs/Web/API/Performance/now\n   */\n  if (typeof global.performance.now !== 'function') {\n    // $FlowExpectedError[cannot-write]\n    global.performance.now = function () {\n      const performanceNow = global.nativePerformanceNow || Date.now;\n      return performanceNow();\n    };\n  }\n}\n"],"mappings":";AAUA,IAAAA,kBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAIA,IAAIE,0BAAiB,EAAE;EAErBC,MAAM,CAACC,WAAW,GAAG,IAAIC,oBAAW,EAAE;AACxC,CAAC,MAAM;EACL,IAAI,CAACF,MAAM,CAACC,WAAW,EAAE;IAEvBD,MAAM,CAACC,WAAW,GAAI,CAAC,CAAwB;EACjD;EAMA,IAAI,OAAOD,MAAM,CAACC,WAAW,CAACE,GAAG,KAAK,UAAU,EAAE;IAEhDH,MAAM,CAACC,WAAW,CAACE,GAAG,GAAG,YAAY;MACnC,IAAMC,cAAc,GAAGJ,MAAM,CAACK,oBAAoB,IAAIC,IAAI,CAACH,GAAG;MAC9D,OAAOC,cAAc,EAAE;IACzB,CAAC;EACH;AACF"}