{"version":3,"names":["invariant","require","React","hook","window","__REACT_DEVTOOLS_GLOBAL_HOOK__","renderers","findRenderers","allRenderers","Array","from","values","length","module","exports","getInspectorDataForViewAtPoint","inspectedView","locationX","locationY","callback","shouldBreak","i","_renderer$rendererCon","renderer","rendererConfig","viewData","hierarchy"],"sources":["getInspectorDataForViewAtPoint.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\nimport type {\n  HostComponent,\n  TouchedViewDataAtPoint,\n} from '../Renderer/shims/ReactNativeTypes';\n\nconst invariant = require('invariant');\nconst React = require('react');\n\nexport type HostRef = React.ElementRef<HostComponent<mixed>>;\nexport type ReactRenderer = {\n  rendererConfig: {\n    getInspectorDataForViewAtPoint: (\n      inspectedView: ?HostRef,\n      locationX: number,\n      locationY: number,\n      callback: Function,\n    ) => void,\n    ...\n  },\n};\n\nconst hook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\nconst renderers = findRenderers();\n\nfunction findRenderers(): $ReadOnlyArray<ReactRenderer> {\n  const allRenderers = Array.from(hook.renderers.values());\n  invariant(\n    allRenderers.length >= 1,\n    'Expected to find at least one React Native renderer on DevTools hook.',\n  );\n  return allRenderers;\n}\n\nmodule.exports = function getInspectorDataForViewAtPoint(\n  inspectedView: ?HostRef,\n  locationX: number,\n  locationY: number,\n  callback: (viewData: TouchedViewDataAtPoint) => boolean,\n) {\n  let shouldBreak = false;\n  // Check all renderers for inspector data.\n  for (let i = 0; i < renderers.length; i++) {\n    if (shouldBreak) {\n      break;\n    }\n    const renderer = renderers[i];\n    if (renderer?.rendererConfig?.getInspectorDataForViewAtPoint != null) {\n      renderer.rendererConfig.getInspectorDataForViewAtPoint(\n        inspectedView,\n        locationX,\n        locationY,\n        viewData => {\n          // Only return with non-empty view data since only one renderer will have this view.\n          if (viewData && viewData.hierarchy.length > 0) {\n            shouldBreak = callback(viewData);\n          }\n        },\n      );\n    }\n  }\n};\n"],"mappings":"AAeA,IAAMA,SAAS,GAAGC,OAAO,CAAC,WAAW,CAAC;AACtC,IAAMC,KAAK,GAAGD,OAAO,CAAC,OAAO,CAAC;AAe9B,IAAME,IAAI,GAAGC,MAAM,CAACC,8BAA8B;AAClD,IAAMC,SAAS,GAAGC,aAAa,EAAE;AAEjC,SAASA,aAAaA,CAAA,EAAkC;EACtD,IAAMC,YAAY,GAAGC,KAAK,CAACC,IAAI,CAACP,IAAI,CAACG,SAAS,CAACK,MAAM,EAAE,CAAC;EACxDX,SAAS,CACPQ,YAAY,CAACI,MAAM,IAAI,CAAC,EACxB,uEAAuE,CACxE;EACD,OAAOJ,YAAY;AACrB;AAEAK,MAAM,CAACC,OAAO,GAAG,SAASC,8BAA8BA,CACtDC,aAAuB,EACvBC,SAAiB,EACjBC,SAAiB,EACjBC,QAAuD,EACvD;EACA,IAAIC,WAAW,GAAG,KAAK;EAEvB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGf,SAAS,CAACM,MAAM,EAAES,CAAC,EAAE,EAAE;IAAA,IAAAC,qBAAA;IACzC,IAAIF,WAAW,EAAE;MACf;IACF;IACA,IAAMG,QAAQ,GAAGjB,SAAS,CAACe,CAAC,CAAC;IAC7B,IAAI,CAAAE,QAAQ,qBAAAD,qBAAA,GAARC,QAAQ,CAAEC,cAAc,qBAAxBF,qBAAA,CAA0BP,8BAA8B,KAAI,IAAI,EAAE;MACpEQ,QAAQ,CAACC,cAAc,CAACT,8BAA8B,CACpDC,aAAa,EACbC,SAAS,EACTC,SAAS,EACT,UAAAO,QAAQ,EAAI;QAEV,IAAIA,QAAQ,IAAIA,QAAQ,CAACC,SAAS,CAACd,MAAM,GAAG,CAAC,EAAE;UAC7CQ,WAAW,GAAGD,QAAQ,CAACM,QAAQ,CAAC;QAClC;MACF,CAAC,CACF;IACH;EACF;AACF,CAAC"}