{"version":3,"file":"UsesNonExemptEncryption.js","names":["_applePlugins","data","require","withUsesNonExemptEncryption","applePlatform","createInfoPlistPluginWithPropertyGuard","config","ITSAppUsesNonExemptEncryption","infoPlist","setUsesNonExemptEncryption","infoPlistProperty","expoConfigProperty","exports","getUsesNonExemptEncryption","usesNonExemptEncryption"],"sources":["../../src/apple/UsesNonExemptEncryption.ts"],"sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { InfoPlist } from './AppleConfig.types';\nimport { createInfoPlistPluginWithPropertyGuard } from '../plugins/apple-plugins';\n\nexport const withUsesNonExemptEncryption = (applePlatform: 'ios' | 'macos') =>\n  createInfoPlistPluginWithPropertyGuard(applePlatform)(\n    (\n      config: Pick<ExpoConfig, typeof applePlatform>,\n      { ITSAppUsesNonExemptEncryption, ...infoPlist }: InfoPlist\n    ) => setUsesNonExemptEncryption(applePlatform)(config, infoPlist),\n    {\n      infoPlistProperty: 'ITSAppUsesNonExemptEncryption',\n      expoConfigProperty: `${applePlatform}.config.usesNonExemptEncryption`,\n    },\n    'withUsesNonExemptEncryption'\n  );\n\nexport const getUsesNonExemptEncryption =\n  (applePlatform: 'ios' | 'macos') => (config: Pick<ExpoConfig, typeof applePlatform>) =>\n    config?.[applePlatform]?.config?.usesNonExemptEncryption ?? null;\n\nexport const setUsesNonExemptEncryption =\n  (applePlatform: 'ios' | 'macos') =>\n  (\n    config: Pick<ExpoConfig, typeof applePlatform>,\n    { ITSAppUsesNonExemptEncryption, ...infoPlist }: InfoPlist\n  ): InfoPlist => {\n    const usesNonExemptEncryption = getUsesNonExemptEncryption(applePlatform)(config);\n\n    // Make no changes if the key is left blank\n    if (usesNonExemptEncryption === null) {\n      return infoPlist;\n    }\n\n    return {\n      ...infoPlist,\n      ITSAppUsesNonExemptEncryption: usesNonExemptEncryption,\n    };\n  };\n"],"mappings":";;;;;;AAGA,SAAAA,cAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,aAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEO,MAAME,2BAA2B,GAAIC,aAA8B,IACxE,IAAAC,sDAAsC,EAACD,aAAa,CAAC,CACnD,CACEE,MAA8C,EAC9C;EAAEC,6BAA6B;EAAE,GAAGC;AAAqB,CAAC,KACvDC,0BAA0B,CAACL,aAAa,CAAC,CAACE,MAAM,EAAEE,SAAS,CAAC,EACjE;EACEE,iBAAiB,EAAE,+BAA+B;EAClDC,kBAAkB,EAAG,GAAEP,aAAc;AACvC,CAAC,EACD,6BACF,CAAC;AAACQ,OAAA,CAAAT,2BAAA,GAAAA,2BAAA;AAEG,MAAMU,0BAA0B,GACpCT,aAA8B,IAAME,MAA8C,IACjFA,MAAM,GAAGF,aAAa,CAAC,EAAEE,MAAM,EAAEQ,uBAAuB,IAAI,IAAI;AAACF,OAAA,CAAAC,0BAAA,GAAAA,0BAAA;AAE9D,MAAMJ,0BAA0B,GACpCL,aAA8B,IAC/B,CACEE,MAA8C,EAC9C;EAAEC,6BAA6B;EAAE,GAAGC;AAAqB,CAAC,KAC5C;EACd,MAAMM,uBAAuB,GAAGD,0BAA0B,CAACT,aAAa,CAAC,CAACE,MAAM,CAAC;;EAEjF;EACA,IAAIQ,uBAAuB,KAAK,IAAI,EAAE;IACpC,OAAON,SAAS;EAClB;EAEA,OAAO;IACL,GAAGA,SAAS;IACZD,6BAA6B,EAAEO;EACjC,CAAC;AACH,CAAC;AAACF,OAAA,CAAAH,0BAAA,GAAAA,0BAAA"}