{"version":3,"file":"Paths.js","names":["_fs","data","require","_glob","path","_interopRequireWildcard","Entitlements","_errors","_glob2","_warnings","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ignoredPaths","getAppDelegateHeaderFilePath","projectRoot","platform","using","extra","withSortedGlobResult","globSync","absolute","cwd","ignore","UnexpectedError","length","warnMultipleFiles","tag","fileName","getAppDelegateFilePath","getAppDelegateObjcHeaderFilePath","getPodfilePath","getLanguage","filePath","extension","extname","basename","getFileInfo","normalize","contents","readFileSync","language","getAppDelegate","getSourceRoot","appDelegate","dirname","findSchemePaths","findSchemeNames","schemePaths","map","schemePath","parse","name","getAllXcodeProjectPaths","pbxprojPaths","replace","filter","project","test","sort","b","isAInPlatform","isBInPlatform","value","join","getXcodeProjectPath","getAllPBXProjectPaths","projectPaths","paths","existsSync","getPBXProjectPath","getAllInfoPlistPaths","getInfoPlistPath","getAllEntitlementsPaths","getEntitlementsPath","getSupportingPath","resolve","getExpoPlistPath","supportingPath","usingPath","relative","extraPaths","v","addWarningIOS","JSON","stringify"],"sources":["../../src/ios/Paths.ts"],"sourcesContent":["import { existsSync, readFileSync } from 'fs';\nimport { globSync } from 'glob';\nimport * as path from 'path';\n\nimport * as Entitlements from './Entitlements';\nimport { ModPlatform } from '../Plugin.types';\nimport { UnexpectedError } from '../utils/errors';\nimport { withSortedGlobResult } from '../utils/glob';\nimport { addWarningIOS } from '../utils/warnings';\n\nconst ignoredPaths = ['**/@(Carthage|Pods|vendor|node_modules)/**'];\n\ninterface ProjectFile<L extends string = string> {\n  path: string;\n  language: L;\n  contents: string;\n}\n\ntype AppleLanguage = 'objc' | 'objcpp' | 'swift' | 'rb';\n\nexport type PodfileProjectFile = ProjectFile<'rb'>;\nexport type AppDelegateProjectFile = ProjectFile<AppleLanguage>;\n\nexport function getAppDelegateHeaderFilePath(projectRoot: string, platform: ModPlatform): string {\n  const [using, ...extra] = withSortedGlobResult(\n    globSync(`${platform}/*/AppDelegate.h`, {\n      absolute: true,\n      cwd: projectRoot,\n      ignore: ignoredPaths,\n    })\n  );\n\n  if (!using) {\n    throw new UnexpectedError(\n      `Could not locate a valid AppDelegate header at root: \"${projectRoot}\"`\n    );\n  }\n\n  if (extra.length) {\n    warnMultipleFiles({\n      tag: 'app-delegate-header',\n      fileName: 'AppDelegate',\n      projectRoot,\n      using,\n      extra,\n    });\n  }\n\n  return using;\n}\n\nexport function getAppDelegateFilePath(projectRoot: string, platform: ModPlatform): string {\n  const [using, ...extra] = withSortedGlobResult(\n    globSync(`${platform}/*/AppDelegate.@(m|mm|swift)`, {\n      absolute: true,\n      cwd: projectRoot,\n      ignore: ignoredPaths,\n    })\n  );\n\n  if (!using) {\n    throw new UnexpectedError(`Could not locate a valid AppDelegate at root: \"${projectRoot}\"`);\n  }\n\n  if (extra.length) {\n    warnMultipleFiles({\n      tag: 'app-delegate',\n      fileName: 'AppDelegate',\n      projectRoot,\n      using,\n      extra,\n    });\n  }\n\n  return using;\n}\n\nexport function getAppDelegateObjcHeaderFilePath(\n  projectRoot: string,\n  platform: ModPlatform\n): string {\n  const [using, ...extra] = withSortedGlobResult(\n    globSync(`${platform}/*/AppDelegate.h`, {\n      absolute: true,\n      cwd: projectRoot,\n      ignore: ignoredPaths,\n    })\n  );\n\n  if (!using) {\n    throw new UnexpectedError(`Could not locate a valid AppDelegate.h at root: \"${projectRoot}\"`);\n  }\n\n  if (extra.length) {\n    warnMultipleFiles({\n      tag: 'app-delegate-objc-header',\n      fileName: 'AppDelegate.h',\n      projectRoot,\n      using,\n      extra,\n    });\n  }\n\n  return using;\n}\n\nexport function getPodfilePath(projectRoot: string, platform: ModPlatform): string {\n  const [using, ...extra] = withSortedGlobResult(\n    globSync(`${platform}/Podfile`, {\n      absolute: true,\n      cwd: projectRoot,\n      ignore: ignoredPaths,\n    })\n  );\n\n  if (!using) {\n    throw new UnexpectedError(`Could not locate a valid Podfile at root: \"${projectRoot}\"`);\n  }\n\n  if (extra.length) {\n    warnMultipleFiles({\n      tag: 'podfile',\n      fileName: 'Podfile',\n      projectRoot,\n      using,\n      extra,\n    });\n  }\n\n  return using;\n}\n\nfunction getLanguage(filePath: string): AppleLanguage {\n  const extension = path.extname(filePath);\n  if (!extension && path.basename(filePath) === 'Podfile') {\n    return 'rb';\n  }\n  switch (extension) {\n    case '.mm':\n      return 'objcpp';\n    case '.m':\n    case '.h':\n      return 'objc';\n    case '.swift':\n      return 'swift';\n    default:\n      throw new UnexpectedError(`Unexpected iOS file extension: ${extension}`);\n  }\n}\n\nexport function getFileInfo(filePath: string) {\n  return {\n    path: path.normalize(filePath),\n    contents: readFileSync(filePath, 'utf8'),\n    language: getLanguage(filePath),\n  };\n}\n\nexport function getAppDelegate(projectRoot: string, platform: ModPlatform): AppDelegateProjectFile {\n  const filePath = getAppDelegateFilePath(projectRoot, platform);\n  return getFileInfo(filePath);\n}\n\nexport function getSourceRoot(projectRoot: string, platform: ModPlatform): string {\n  const appDelegate = getAppDelegate(projectRoot, platform);\n  return path.dirname(appDelegate.path);\n}\n\nexport function findSchemePaths(projectRoot: string, platform: ModPlatform): string[] {\n  return withSortedGlobResult(\n    globSync(`${platform}/*.xcodeproj/xcshareddata/xcschemes/*.xcscheme`, {\n      absolute: true,\n      cwd: projectRoot,\n      ignore: ignoredPaths,\n    })\n  );\n}\n\nexport function findSchemeNames(projectRoot: string, platform: ModPlatform): string[] {\n  const schemePaths = findSchemePaths(projectRoot, platform);\n  return schemePaths.map((schemePath) => path.parse(schemePath).name);\n}\n\nexport function getAllXcodeProjectPaths(projectRoot: string, platform: ModPlatform): string[] {\n  const pbxprojPaths = withSortedGlobResult(\n    globSync(`${platform}/**/*.xcodeproj`, { cwd: projectRoot, ignore: ignoredPaths })\n      // Drop leading `/` from glob results to mimick glob@<9 behavior\n      .map((filePath) => filePath.replace(/^\\//, ''))\n      .filter(\n        (project) => !/test|example|sample/i.test(project) || path.dirname(project) === platform\n      )\n  ).sort((a, b) => {\n    const isAInPlatform = path.dirname(a) === platform;\n    const isBInPlatform = path.dirname(b) === platform;\n    // preserve previous sort order\n    if ((isAInPlatform && isBInPlatform) || (!isAInPlatform && !isBInPlatform)) {\n      return 0;\n    }\n    return isAInPlatform ? -1 : 1;\n  });\n\n  if (!pbxprojPaths.length) {\n    throw new UnexpectedError(\n      `Failed to locate the ${platform}/*.xcodeproj files relative to path \"${projectRoot}\".`\n    );\n  }\n  return pbxprojPaths.map((value) => path.join(projectRoot, value));\n}\n\n/**\n * Get the pbxproj for the given path\n */\nexport function getXcodeProjectPath(projectRoot: string, platform: ModPlatform): string {\n  const [using, ...extra] = getAllXcodeProjectPaths(projectRoot, platform);\n\n  if (extra.length) {\n    warnMultipleFiles({\n      tag: 'xcodeproj',\n      fileName: '*.xcodeproj',\n      projectRoot,\n      using,\n      extra,\n    });\n  }\n\n  return using;\n}\n\nexport function getAllPBXProjectPaths(projectRoot: string, platform: ModPlatform): string[] {\n  const projectPaths = getAllXcodeProjectPaths(projectRoot, platform);\n  const paths = projectPaths\n    .map((value) => path.join(value, 'project.pbxproj'))\n    .filter((value) => existsSync(value));\n\n  if (!paths.length) {\n    throw new UnexpectedError(\n      `Failed to locate the ${platform}/*.xcodeproj/project.pbxproj files relative to path \"${projectRoot}\".`\n    );\n  }\n  return paths;\n}\n\nexport function getPBXProjectPath(projectRoot: string, platform: ModPlatform): string {\n  const [using, ...extra] = getAllPBXProjectPaths(projectRoot, platform);\n\n  if (extra.length) {\n    warnMultipleFiles({\n      tag: 'project-pbxproj',\n      fileName: 'project.pbxproj',\n      projectRoot,\n      using,\n      extra,\n    });\n  }\n\n  return using;\n}\n\nexport function getAllInfoPlistPaths(projectRoot: string, platform: ModPlatform): string[] {\n  const paths = withSortedGlobResult(\n    globSync(`${platform}/*/Info.plist`, {\n      absolute: true,\n      cwd: projectRoot,\n      ignore: ignoredPaths,\n    })\n  ).sort(\n    // longer name means more suffixes, we want the shortest possible one to be first.\n    (a, b) => a.length - b.length\n  );\n\n  if (!paths.length) {\n    throw new UnexpectedError(\n      `Failed to locate Info.plist files relative to path \"${projectRoot}\".`\n    );\n  }\n  return paths;\n}\n\nexport function getInfoPlistPath(projectRoot: string, platform: ModPlatform): string {\n  const [using, ...extra] = getAllInfoPlistPaths(projectRoot, platform);\n\n  if (extra.length) {\n    warnMultipleFiles({\n      tag: 'info-plist',\n      fileName: 'Info.plist',\n      projectRoot,\n      using,\n      extra,\n    });\n  }\n\n  return using;\n}\n\nexport function getAllEntitlementsPaths(projectRoot: string, platform: ModPlatform): string[] {\n  const paths = globSync(`${platform}/*/*.entitlements`, {\n    absolute: true,\n    cwd: projectRoot,\n    ignore: ignoredPaths,\n  });\n  return paths;\n}\n\n/**\n * @deprecated: use Entitlements.getEntitlementsPath instead\n */\nexport function getEntitlementsPath(projectRoot: string, platform: ModPlatform): string | null {\n  return Entitlements.getEntitlementsPath(projectRoot, platform);\n}\n\nexport function getSupportingPath(projectRoot: string, platform: ModPlatform): string {\n  return path.resolve(\n    projectRoot,\n    platform,\n    path.basename(getSourceRoot(projectRoot, platform)),\n    'Supporting'\n  );\n}\n\nexport function getExpoPlistPath(projectRoot: string, platform: ModPlatform): string {\n  const supportingPath = getSupportingPath(projectRoot, platform);\n  return path.join(supportingPath, 'Expo.plist');\n}\n\nfunction warnMultipleFiles({\n  tag,\n  fileName,\n  projectRoot,\n  using,\n  extra,\n}: {\n  tag: string;\n  fileName: string;\n  projectRoot?: string;\n  using: string;\n  extra: string[];\n}) {\n  const usingPath = projectRoot ? path.relative(projectRoot, using) : using;\n  const extraPaths = projectRoot ? extra.map((v) => path.relative(projectRoot, v)) : extra;\n  addWarningIOS(\n    `paths-${tag}`,\n    `Found multiple ${fileName} file paths, using \"${usingPath}\". Ignored paths: ${JSON.stringify(\n      extraPaths\n    )}`\n  );\n}\n"],"mappings":"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","ignoreList":[]}