{"version":3,"file":"withIosBranch.js","names":["_configPlugins","data","require","withIosBranch","config","withInfoPlist","modResults","setBranchApiKey","exports","getBranchApiKey","_config$ios$config$br","_config$ios","_config$ios$config","_config$ios$config$br2","ios","branch","apiKey","infoPlist","branch_key","live"],"sources":["../../../../src/plugins/unversioned/expo-branch/withIosBranch.ts"],"sourcesContent":["import { ConfigPlugin, InfoPlist, withInfoPlist } from '@expo/config-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\nexport const withIosBranch: ConfigPlugin = (config) => {\n  return withInfoPlist(config, (config) => {\n    config.modResults = setBranchApiKey(config, config.modResults);\n    return config;\n  });\n};\n\nexport function getBranchApiKey(config: Pick<ExpoConfig, 'ios'>) {\n  return config.ios?.config?.branch?.apiKey ?? null;\n}\n\nexport function setBranchApiKey(config: Pick<ExpoConfig, 'ios'>, infoPlist: InfoPlist): InfoPlist {\n  const apiKey = getBranchApiKey(config);\n\n  if (apiKey === null) {\n    return infoPlist;\n  }\n\n  return {\n    ...infoPlist,\n    branch_key: {\n      live: apiKey,\n    },\n  };\n}\n"],"mappings":";;;;;;;;AAAA,SAAAA,eAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,cAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAGO,MAAME,aAA2B,GAAIC,MAAM,IAAK;EACrD,OAAO,IAAAC,8BAAa,EAACD,MAAM,EAAGA,MAAM,IAAK;IACvCA,MAAM,CAACE,UAAU,GAAGC,eAAe,CAACH,MAAM,EAAEA,MAAM,CAACE,UAAU,CAAC;IAC9D,OAAOF,MAAM;EACf,CAAC,CAAC;AACJ,CAAC;AAACI,OAAA,CAAAL,aAAA,GAAAA,aAAA;AAEK,SAASM,eAAeA,CAACL,MAA+B,EAAE;EAAA,IAAAM,qBAAA,EAAAC,WAAA,EAAAC,kBAAA,EAAAC,sBAAA;EAC/D,QAAAH,qBAAA,IAAAC,WAAA,GAAOP,MAAM,CAACU,GAAG,cAAAH,WAAA,wBAAAC,kBAAA,GAAVD,WAAA,CAAYP,MAAM,cAAAQ,kBAAA,wBAAAC,sBAAA,GAAlBD,kBAAA,CAAoBG,MAAM,cAAAF,sBAAA,uBAA1BA,sBAAA,CAA4BG,MAAM,cAAAN,qBAAA,cAAAA,qBAAA,GAAI,IAAI;AACnD;AAEO,SAASH,eAAeA,CAACH,MAA+B,EAAEa,SAAoB,EAAa;EAChG,MAAMD,MAAM,GAAGP,eAAe,CAACL,MAAM,CAAC;EAEtC,IAAIY,MAAM,KAAK,IAAI,EAAE;IACnB,OAAOC,SAAS;EAClB;EAEA,OAAO;IACL,GAAGA,SAAS;IACZC,UAAU,EAAE;MACVC,IAAI,EAAEH;IACR;EACF,CAAC;AACH"}