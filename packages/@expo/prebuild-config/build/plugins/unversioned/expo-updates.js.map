{"version":3,"file":"expo-updates.js","names":["packageName","withExpoUpdates","config","props","withStaticPlugin","_isLegacyPlugin","plugin","fallback","createRunOncePlugin","withUnversionedUpdates","AndroidConfig","Updates","withUpdates","IOSConfig"],"sources":["../../../src/plugins/unversioned/expo-updates.ts"],"sourcesContent":["import {\n  AndroidConfig,\n  ConfigPlugin,\n  createRunOncePlugin,\n  IOSConfig,\n  withStaticPlugin,\n} from '@expo/config-plugins';\n\n// Local unversioned updates plugin\n\nconst packageName = 'expo-updates';\n\nexport const withExpoUpdates: ConfigPlugin<{ expoUsername: string }> = (config, props) => {\n  return withStaticPlugin(config, {\n    _isLegacyPlugin: true,\n    // Pass props to the static plugin if it exists.\n    plugin: [packageName, props],\n    // If the static plugin isn't found, use the unversioned one.\n    fallback: createRunOncePlugin((config) => withUnversionedUpdates(config, props), packageName),\n  });\n};\n\nconst withUnversionedUpdates: ConfigPlugin<{ expoUsername: string }> = (config, props) => {\n  config = AndroidConfig.Updates.withUpdates(config, props);\n  config = IOSConfig.Updates.withUpdates(config, props);\n  return config;\n};\n\nexport default withExpoUpdates;\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAQA;;AAEA,MAAMA,WAAW,GAAG,cAAc;AAE3B,MAAMC,eAAuD,GAAG,CAACC,MAAM,EAAEC,KAAK,KAAK;EACxF,OAAO,IAAAC,iCAAgB,EAACF,MAAM,EAAE;IAC9BG,eAAe,EAAE,IAAI;IACrB;IACAC,MAAM,EAAE,CAACN,WAAW,EAAEG,KAAK,CAAC;IAC5B;IACAI,QAAQ,EAAE,IAAAC,oCAAmB,EAAEN,MAAM,IAAKO,sBAAsB,CAACP,MAAM,EAAEC,KAAK,CAAC,EAAEH,WAAW;EAC9F,CAAC,CAAC;AACJ,CAAC;AAAC;AAEF,MAAMS,sBAA8D,GAAG,CAACP,MAAM,EAAEC,KAAK,KAAK;EACxFD,MAAM,GAAGQ,8BAAa,CAACC,OAAO,CAACC,WAAW,CAACV,MAAM,EAAEC,KAAK,CAAC;EACzDD,MAAM,GAAGW,0BAAS,CAACF,OAAO,CAACC,WAAW,CAACV,MAAM,EAAEC,KAAK,CAAC;EACrD,OAAOD,MAAM;AACf,CAAC;AAAC,eAEaD,eAAe;AAAA"}