{"version":3,"file":"withInlineModules.js","names":["_configPlugins","data","require","createBuildGradlePropsConfigPlugin","AndroidConfig","BuildProperties","createBuildPodfilePropsConfigPlugin","IOSConfig","withInlineModules","config","props","propName","propValueGetter","conf","experiments","inlineModules","JSON","stringify","watchedDirectories","exports","_default","default"],"sources":["../../../../src/plugins/unversioned/expo-inline-modules/withInlineModules.ts"],"sourcesContent":["import { ExpoConfig } from '@expo/config-types';\nimport { AndroidConfig, IOSConfig } from 'expo/config-plugins';\nconst { createBuildGradlePropsConfigPlugin } = AndroidConfig.BuildProperties;\nconst { createBuildPodfilePropsConfigPlugin } = IOSConfig.BuildProperties;\n\nexport const withInlineModules = (config: ExpoConfig, props: any) => {\n  config = createBuildGradlePropsConfigPlugin(\n    [\n      {\n        propName: 'expo.inlineModules.watchedDirectories',\n        propValueGetter: (conf) => {\n          if (!conf.experiments?.inlineModules) {\n            return JSON.stringify([]);\n          }\n          return JSON.stringify(conf.experiments?.inlineModules?.watchedDirectories ?? []);\n        },\n      },\n    ],\n    'withAndroidInlineModules'\n  )(config);\n\n  config = createBuildPodfilePropsConfigPlugin(\n    [\n      {\n        propName: 'expo.inlineModules.watchedDirectories',\n        propValueGetter: (conf) => {\n          if (!conf.experiments?.inlineModules) {\n            return JSON.stringify([]);\n          }\n          return JSON.stringify(conf.experiments?.inlineModules?.watchedDirectories ?? []);\n        },\n      },\n    ],\n    'withIosInlineModules'\n  )(config);\n\n  return config;\n};\n\nexport default withInlineModules;\n"],"mappings":";;;;;;AACA,SAAAA,eAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,cAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,MAAM;EAAEE;AAAmC,CAAC,GAAGC,8BAAa,CAACC,eAAe;AAC5E,MAAM;EAAEC;AAAoC,CAAC,GAAGC,0BAAS,CAACF,eAAe;AAElE,MAAMG,iBAAiB,GAAGA,CAACC,MAAkB,EAAEC,KAAU,KAAK;EACnED,MAAM,GAAGN,kCAAkC,CACzC,CACE;IACEQ,QAAQ,EAAE,uCAAuC;IACjDC,eAAe,EAAGC,IAAI,IAAK;MACzB,IAAI,CAACA,IAAI,CAACC,WAAW,EAAEC,aAAa,EAAE;QACpC,OAAOC,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC;MAC3B;MACA,OAAOD,IAAI,CAACC,SAAS,CAACJ,IAAI,CAACC,WAAW,EAAEC,aAAa,EAAEG,kBAAkB,IAAI,EAAE,CAAC;IAClF;EACF,CAAC,CACF,EACD,0BACF,CAAC,CAACT,MAAM,CAAC;EAETA,MAAM,GAAGH,mCAAmC,CAC1C,CACE;IACEK,QAAQ,EAAE,uCAAuC;IACjDC,eAAe,EAAGC,IAAI,IAAK;MACzB,IAAI,CAACA,IAAI,CAACC,WAAW,EAAEC,aAAa,EAAE;QACpC,OAAOC,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC;MAC3B;MACA,OAAOD,IAAI,CAACC,SAAS,CAACJ,IAAI,CAACC,WAAW,EAAEC,aAAa,EAAEG,kBAAkB,IAAI,EAAE,CAAC;IAClF;EACF,CAAC,CACF,EACD,sBACF,CAAC,CAACT,MAAM,CAAC;EAET,OAAOA,MAAM;AACf,CAAC;AAACU,OAAA,CAAAX,iBAAA,GAAAA,iBAAA;AAAA,IAAAY,QAAA,GAAAD,OAAA,CAAAE,OAAA,GAEab,iBAAiB","ignoreList":[]}