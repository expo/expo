{"version":3,"file":"withInlineModules.js","names":["_configPlugins","data","require","createBuildGradlePropsConfigPlugin","AndroidConfig","BuildProperties","createBuildPodfilePropsConfigPlugin","IOSConfig","withInlineModules","config","props","propName","propValueGetter","conf","experiments","inlineModules","toString","JSON","stringify","watchedDirs","exports","_default","default"],"sources":["../../../../src/plugins/unversioned/expo-inline-modules/withInlineModules.ts"],"sourcesContent":["import { ExpoConfig } from '@expo/config-types';\nimport { AndroidConfig, IOSConfig } from 'expo/config-plugins';\nconst { createBuildGradlePropsConfigPlugin } = AndroidConfig.BuildProperties;\nconst { createBuildPodfilePropsConfigPlugin } = IOSConfig.BuildProperties;\n\nexport const withInlineModules = (config: ExpoConfig, props: any) => {\n  config = createBuildGradlePropsConfigPlugin(\n    [\n      {\n        propName: 'expo.inlineModules.enabled',\n        propValueGetter: (conf) => (conf.experiments?.inlineModules === true).toString(),\n      },\n      {\n        propName: 'expo.inlineModules.watchedDirs',\n        propValueGetter: (conf) => {\n          if (conf.experiments?.inlineModules !== true) {\n            return JSON.stringify([]);\n          }\n          return JSON.stringify(conf.inlineModules?.watchedDirs ?? []);\n        },\n      },\n    ],\n    'withAndroidInlineModules'\n  )(config);\n\n  config = createBuildPodfilePropsConfigPlugin(\n    [\n      {\n        propName: 'expo.inlineModules.enabled',\n        propValueGetter: (conf) => (conf.experiments?.inlineModules === true).toString(),\n      },\n      {\n        propName: 'expo.inlineModules.watchedDirs',\n        propValueGetter: (conf) => {\n          if (conf.experiments?.inlineModules !== true) {\n            return JSON.stringify([]);\n          }\n          return JSON.stringify(conf.inlineModules?.watchedDirs ?? []);\n        },\n      },\n    ],\n    'withIosInlineModules'\n  )(config);\n\n  return config;\n};\n\nexport default withInlineModules;\n"],"mappings":";;;;;;AACA,SAAAA,eAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,cAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,MAAM;EAAEE;AAAmC,CAAC,GAAGC,8BAAa,CAACC,eAAe;AAC5E,MAAM;EAAEC;AAAoC,CAAC,GAAGC,0BAAS,CAACF,eAAe;AAElE,MAAMG,iBAAiB,GAAGA,CAACC,MAAkB,EAAEC,KAAU,KAAK;EACnED,MAAM,GAAGN,kCAAkC,CACzC,CACE;IACEQ,QAAQ,EAAE,4BAA4B;IACtCC,eAAe,EAAGC,IAAI,IAAK,CAACA,IAAI,CAACC,WAAW,EAAEC,aAAa,KAAK,IAAI,EAAEC,QAAQ,CAAC;EACjF,CAAC,EACD;IACEL,QAAQ,EAAE,gCAAgC;IAC1CC,eAAe,EAAGC,IAAI,IAAK;MACzB,IAAIA,IAAI,CAACC,WAAW,EAAEC,aAAa,KAAK,IAAI,EAAE;QAC5C,OAAOE,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC;MAC3B;MACA,OAAOD,IAAI,CAACC,SAAS,CAACL,IAAI,CAACE,aAAa,EAAEI,WAAW,IAAI,EAAE,CAAC;IAC9D;EACF,CAAC,CACF,EACD,0BACF,CAAC,CAACV,MAAM,CAAC;EAETA,MAAM,GAAGH,mCAAmC,CAC1C,CACE;IACEK,QAAQ,EAAE,4BAA4B;IACtCC,eAAe,EAAGC,IAAI,IAAK,CAACA,IAAI,CAACC,WAAW,EAAEC,aAAa,KAAK,IAAI,EAAEC,QAAQ,CAAC;EACjF,CAAC,EACD;IACEL,QAAQ,EAAE,gCAAgC;IAC1CC,eAAe,EAAGC,IAAI,IAAK;MACzB,IAAIA,IAAI,CAACC,WAAW,EAAEC,aAAa,KAAK,IAAI,EAAE;QAC5C,OAAOE,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC;MAC3B;MACA,OAAOD,IAAI,CAACC,SAAS,CAACL,IAAI,CAACE,aAAa,EAAEI,WAAW,IAAI,EAAE,CAAC;IAC9D;EACF,CAAC,CACF,EACD,sBACF,CAAC,CAACV,MAAM,CAAC;EAET,OAAOA,MAAM;AACf,CAAC;AAACW,OAAA,CAAAZ,iBAAA,GAAAA,iBAAA;AAAA,IAAAa,QAAA,GAAAD,OAAA,CAAAE,OAAA,GAEad,iBAAiB","ignoreList":[]}