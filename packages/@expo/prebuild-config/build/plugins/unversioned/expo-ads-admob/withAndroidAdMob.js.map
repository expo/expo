{"version":3,"file":"withAndroidAdMob.js","names":["_configPlugins","data","require","addMetaDataItemToMainApplication","getMainApplicationOrThrow","removeMetaDataItemFromMainApplication","AndroidConfig","Manifest","META_APPLICATION_ID","META_DELAY_APP_MEASUREMENT_INIT","withAndroidAdMob","config","withAndroidManifest","modResults","setAdMobConfig","exports","getGoogleMobileAdsAppId","_config$android$confi","_config$android","android","googleMobileAdsAppId","getGoogleMobileAdsAutoInit","_config$android$confi2","_config$android2","googleMobileAdsAutoInit","androidManifest","appId","autoInit","mainApplication","String"],"sources":["../../../../src/plugins/unversioned/expo-ads-admob/withAndroidAdMob.ts"],"sourcesContent":["import { AndroidConfig, ConfigPlugin, withAndroidManifest } from '@expo/config-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\nconst {\n  addMetaDataItemToMainApplication,\n  getMainApplicationOrThrow,\n  removeMetaDataItemFromMainApplication,\n} = AndroidConfig.Manifest;\n\nconst META_APPLICATION_ID = 'com.google.android.gms.ads.APPLICATION_ID';\nconst META_DELAY_APP_MEASUREMENT_INIT = 'com.google.android.gms.ads.DELAY_APP_MEASUREMENT_INIT';\n\nexport const withAndroidAdMob: ConfigPlugin = (config) => {\n  return withAndroidManifest(config, (config) => {\n    config.modResults = setAdMobConfig(config, config.modResults);\n    return config;\n  });\n};\n\nexport function getGoogleMobileAdsAppId(config: Pick<ExpoConfig, 'android'>) {\n  return config.android?.config?.googleMobileAdsAppId ?? null;\n}\n\nexport function getGoogleMobileAdsAutoInit(config: Pick<ExpoConfig, 'android'>) {\n  return config.android?.config?.googleMobileAdsAutoInit ?? false;\n}\n\nexport function setAdMobConfig(\n  config: Pick<ExpoConfig, 'android'>,\n  androidManifest: AndroidConfig.Manifest.AndroidManifest\n) {\n  const appId = getGoogleMobileAdsAppId(config);\n  const autoInit = getGoogleMobileAdsAutoInit(config);\n  const mainApplication = getMainApplicationOrThrow(androidManifest);\n\n  if (appId) {\n    addMetaDataItemToMainApplication(mainApplication, META_APPLICATION_ID, appId);\n    addMetaDataItemToMainApplication(\n      mainApplication,\n      META_DELAY_APP_MEASUREMENT_INIT,\n      String(!autoInit)\n    );\n  } else {\n    removeMetaDataItemFromMainApplication(mainApplication, META_APPLICATION_ID);\n    removeMetaDataItemFromMainApplication(mainApplication, META_DELAY_APP_MEASUREMENT_INIT);\n  }\n\n  return androidManifest;\n}\n"],"mappings":";;;;;;;;;AAAA,SAAAA,eAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,cAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAGA,MAAM;EACJE,gCAAgC;EAChCC,yBAAyB;EACzBC;AACF,CAAC,GAAGC,8BAAa,CAACC,QAAQ;AAE1B,MAAMC,mBAAmB,GAAG,2CAA2C;AACvE,MAAMC,+BAA+B,GAAG,uDAAuD;AAExF,MAAMC,gBAA8B,GAAIC,MAAM,IAAK;EACxD,OAAO,IAAAC,oCAAmB,EAACD,MAAM,EAAGA,MAAM,IAAK;IAC7CA,MAAM,CAACE,UAAU,GAAGC,cAAc,CAACH,MAAM,EAAEA,MAAM,CAACE,UAAU,CAAC;IAC7D,OAAOF,MAAM;EACf,CAAC,CAAC;AACJ,CAAC;AAACI,OAAA,CAAAL,gBAAA,GAAAA,gBAAA;AAEK,SAASM,uBAAuBA,CAACL,MAAmC,EAAE;EAAA,IAAAM,qBAAA,EAAAC,eAAA;EAC3E,QAAAD,qBAAA,IAAAC,eAAA,GAAOP,MAAM,CAACQ,OAAO,cAAAD,eAAA,gBAAAA,eAAA,GAAdA,eAAA,CAAgBP,MAAM,cAAAO,eAAA,uBAAtBA,eAAA,CAAwBE,oBAAoB,cAAAH,qBAAA,cAAAA,qBAAA,GAAI,IAAI;AAC7D;AAEO,SAASI,0BAA0BA,CAACV,MAAmC,EAAE;EAAA,IAAAW,sBAAA,EAAAC,gBAAA;EAC9E,QAAAD,sBAAA,IAAAC,gBAAA,GAAOZ,MAAM,CAACQ,OAAO,cAAAI,gBAAA,gBAAAA,gBAAA,GAAdA,gBAAA,CAAgBZ,MAAM,cAAAY,gBAAA,uBAAtBA,gBAAA,CAAwBC,uBAAuB,cAAAF,sBAAA,cAAAA,sBAAA,GAAI,KAAK;AACjE;AAEO,SAASR,cAAcA,CAC5BH,MAAmC,EACnCc,eAAuD,EACvD;EACA,MAAMC,KAAK,GAAGV,uBAAuB,CAACL,MAAM,CAAC;EAC7C,MAAMgB,QAAQ,GAAGN,0BAA0B,CAACV,MAAM,CAAC;EACnD,MAAMiB,eAAe,GAAGxB,yBAAyB,CAACqB,eAAe,CAAC;EAElE,IAAIC,KAAK,EAAE;IACTvB,gCAAgC,CAACyB,eAAe,EAAEpB,mBAAmB,EAAEkB,KAAK,CAAC;IAC7EvB,gCAAgC,CAC9ByB,eAAe,EACfnB,+BAA+B,EAC/BoB,MAAM,CAAC,CAACF,QAAQ,CAClB,CAAC;EACH,CAAC,MAAM;IACLtB,qCAAqC,CAACuB,eAAe,EAAEpB,mBAAmB,CAAC;IAC3EH,qCAAqC,CAACuB,eAAe,EAAEnB,+BAA+B,CAAC;EACzF;EAEA,OAAOgB,eAAe;AACxB"}