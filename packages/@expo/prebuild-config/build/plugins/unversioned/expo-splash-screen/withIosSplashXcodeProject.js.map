{"version":3,"file":"withIosSplashXcodeProject.js","names":["debug","require","withIosSplashXcodeProject","config","withXcodeProject","modResults","setSplashStoryboardAsync","projectName","modRequest","project","storyboardFilePath","path","join","STORYBOARD_FILE_PATH","hasFile","IOSConfig","XcodeUtils","addResourceFileToGroup","filepath","groupName"],"sources":["../../../../src/plugins/unversioned/expo-splash-screen/withIosSplashXcodeProject.ts"],"sourcesContent":["import { ConfigPlugin, IOSConfig, withXcodeProject } from '@expo/config-plugins';\nimport path from 'path';\nimport { XcodeProject } from 'xcode';\n\nimport { STORYBOARD_FILE_PATH } from './withIosSplashScreenStoryboard';\n\nconst debug = require('debug')(\n  'expo:prebuild-config:expo-splash-screen:ios:xcodeproj'\n) as typeof console.log;\n\nexport const withIosSplashXcodeProject: ConfigPlugin = (config) => {\n  return withXcodeProject(config, async (config) => {\n    config.modResults = await setSplashStoryboardAsync({\n      projectName: config.modRequest.projectName!,\n      project: config.modResults,\n    });\n    return config;\n  });\n};\n\n/**\n * Modifies `.pbxproj` by:\n * - adding reference for `.storyboard` file\n */\nexport async function setSplashStoryboardAsync({\n  projectName,\n  project,\n}: {\n  projectName: string;\n  project: XcodeProject;\n}): Promise<XcodeProject> {\n  // Check if `${projectName}/SplashScreen.storyboard` already exists\n  // Path relative to `ios` directory\n  const storyboardFilePath = path.join(projectName, STORYBOARD_FILE_PATH);\n  if (!project.hasFile(storyboardFilePath)) {\n    debug(`Adding ${storyboardFilePath} to Xcode project`);\n    IOSConfig.XcodeUtils.addResourceFileToGroup({\n      filepath: storyboardFilePath,\n      groupName: projectName,\n      project,\n    });\n  }\n\n  return project;\n}\n"],"mappings":";;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAGA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAuE;AAEvE,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC,CAC5B,uDAAuD,CAClC;AAEhB,MAAMC,yBAAuC,GAAIC,MAAM,IAAK;EACjE,OAAO,IAAAC,iCAAgB,EAACD,MAAM,EAAE,MAAOA,MAAM,IAAK;IAChDA,MAAM,CAACE,UAAU,GAAG,MAAMC,wBAAwB,CAAC;MACjDC,WAAW,EAAEJ,MAAM,CAACK,UAAU,CAACD,WAAY;MAC3CE,OAAO,EAAEN,MAAM,CAACE;IAClB,CAAC,CAAC;IACF,OAAOF,MAAM;EACf,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AAHA;AAIO,eAAeG,wBAAwB,CAAC;EAC7CC,WAAW;EACXE;AAIF,CAAC,EAAyB;EACxB;EACA;EACA,MAAMC,kBAAkB,GAAGC,eAAI,CAACC,IAAI,CAACL,WAAW,EAAEM,qDAAoB,CAAC;EACvE,IAAI,CAACJ,OAAO,CAACK,OAAO,CAACJ,kBAAkB,CAAC,EAAE;IACxCV,KAAK,CAAE,UAASU,kBAAmB,mBAAkB,CAAC;IACtDK,0BAAS,CAACC,UAAU,CAACC,sBAAsB,CAAC;MAC1CC,QAAQ,EAAER,kBAAkB;MAC5BS,SAAS,EAAEZ,WAAW;MACtBE;IACF,CAAC,CAAC;EACJ;EAEA,OAAOA,OAAO;AAChB"}