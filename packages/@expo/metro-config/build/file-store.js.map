{"version":3,"file":"file-store.js","names":["_FileStore","data","_interopRequireDefault","require","obj","__esModule","default","debug","FileStore","UpstreamFileStore","set","key","value","_value$output","_value$output$","_value$output$$data","_value$output$$data$c","output","css","skipCache","path","exports"],"sources":["../src/file-store.ts"],"sourcesContent":["import UpstreamFileStore from 'metro-cache/src/stores/FileStore';\n\nconst debug = require('debug')('expo:metro:cache') as typeof console.log;\n\nexport class FileStore<T> extends UpstreamFileStore<T> {\n  async set(key: Buffer, value: any): Promise<void> {\n    // Prevent caching of CSS files that have the skipCache flag set.\n    if (value?.output?.[0]?.data?.css?.skipCache) {\n      debug('Skipping caching for CSS file:', value.path);\n      return;\n    }\n    return await super.set(key, value);\n  }\n}\n"],"mappings":";;;;;;AAAA,SAAAA,WAAA;EAAA,MAAAC,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAH,UAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAiE,SAAAC,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEjE,MAAMG,KAAK,GAAGJ,OAAO,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAuB;AAEjE,MAAMK,SAAS,SAAYC,oBAAiB,CAAI;EACrD,MAAMC,GAAGA,CAACC,GAAW,EAAEC,KAAU,EAAiB;IAAA,IAAAC,aAAA,EAAAC,cAAA,EAAAC,mBAAA,EAAAC,qBAAA;IAChD;IACA,IAAIJ,KAAK,aAALA,KAAK,gBAAAC,aAAA,GAALD,KAAK,CAAEK,MAAM,cAAAJ,aAAA,gBAAAC,cAAA,GAAbD,aAAA,CAAgB,CAAC,CAAC,cAAAC,cAAA,gBAAAC,mBAAA,GAAlBD,cAAA,CAAoBb,IAAI,cAAAc,mBAAA,gBAAAC,qBAAA,GAAxBD,mBAAA,CAA0BG,GAAG,cAAAF,qBAAA,eAA7BA,qBAAA,CAA+BG,SAAS,EAAE;MAC5CZ,KAAK,CAAC,gCAAgC,EAAEK,KAAK,CAACQ,IAAI,CAAC;MACnD;IACF;IACA,OAAO,MAAM,KAAK,CAACV,GAAG,CAACC,GAAG,EAAEC,KAAK,CAAC;EACpC;AACF;AAACS,OAAA,CAAAb,SAAA,GAAAA,SAAA"}