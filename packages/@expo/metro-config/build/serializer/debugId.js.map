{"version":3,"file":"debugId.js","names":["_nodeCrypto","data","_interopRequireDefault","require","obj","__esModule","default","stringToUUID","str","md5sum","crypto","createHash","update","md5Hash","digest","v4variant","substring","charCodeAt","toLowerCase"],"sources":["../../src/serializer/debugId.ts"],"sourcesContent":["import crypto from 'node:crypto';\n\n/**\n * Copyright Â© 2023 650 Industries.\n * Copyright (c) 2022, Sentry.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * Deterministically hashes a string and turns the hash into a uuid.\n * https://github.com/getsentry/sentry-javascript-bundler-plugins/blob/58271f1af2ade6b3e64d393d70376ae53bc5bd2f/packages/bundler-plugin-core/src/utils.ts#L174\n */\nexport function stringToUUID(str: string): string {\n  const md5sum = crypto.createHash('md5');\n  md5sum.update(str);\n  const md5Hash = md5sum.digest('hex');\n\n  // Position 16 is fixed to either 8, 9, a, or b in the uuid v4 spec (10xx in binary)\n  // RFC 4122 section 4.4\n  const v4variant = ['8', '9', 'a', 'b'][md5Hash.substring(16, 17).charCodeAt(0) % 4] as string;\n\n  return (\n    md5Hash.substring(0, 8) +\n    '-' +\n    md5Hash.substring(8, 12) +\n    '-4' +\n    md5Hash.substring(13, 16) +\n    '-' +\n    v4variant +\n    md5Hash.substring(17, 20) +\n    '-' +\n    md5Hash.substring(20)\n  ).toLowerCase();\n}\n"],"mappings":";;;;;;AAAA,SAAAA,YAAA;EAAA,MAAAC,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAH,WAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAiC,SAAAC,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACO,SAASG,YAAYA,CAACC,GAAW,EAAU;EAChD,MAAMC,MAAM,GAAGC,qBAAM,CAACC,UAAU,CAAC,KAAK,CAAC;EACvCF,MAAM,CAACG,MAAM,CAACJ,GAAG,CAAC;EAClB,MAAMK,OAAO,GAAGJ,MAAM,CAACK,MAAM,CAAC,KAAK,CAAC;;EAEpC;EACA;EACA,MAAMC,SAAS,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAACF,OAAO,CAACG,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAW;EAE7F,OAAO,CACLJ,OAAO,CAACG,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GACvB,GAAG,GACHH,OAAO,CAACG,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GACxB,IAAI,GACJH,OAAO,CAACG,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,GACzB,GAAG,GACHD,SAAS,GACTF,OAAO,CAACG,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,GACzB,GAAG,GACHH,OAAO,CAACG,SAAS,CAAC,EAAE,CAAC,EACrBE,WAAW,CAAC,CAAC;AACjB"}