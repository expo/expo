{"version":3,"file":"exportPath.js","names":["_path","data","_interopRequireDefault","require","_getCssDeps","obj","__esModule","default","getExportPathForDependencyWithOptions","dependencyPath","platform","serverRoot","bundlePath","path","relative","relativePathname","join","dirname","basename","extname","name","fileNameFromContents","filepath","src"],"sources":["../../src/serializer/exportPath.ts"],"sourcesContent":["/**\n * Copyright Â© 2023 650 Industries.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport path from 'path';\n\nimport { fileNameFromContents } from './getCssDeps';\n\nexport function getExportPathForDependencyWithOptions(\n  dependencyPath: string,\n  { platform, serverRoot }: { platform: string; serverRoot: string }\n): string {\n  const bundlePath = path.relative(serverRoot, dependencyPath);\n  const relativePathname = path.join(\n    path.dirname(bundlePath),\n    // Strip the file extension\n    path.basename(bundlePath, path.extname(bundlePath))\n  );\n  const name = fileNameFromContents({\n    filepath: relativePathname,\n    // TODO: Add content hash\n    src: relativePathname,\n  });\n  return (\n    `_expo/static/js/${platform}/` +\n    // make filename safe\n    // dependency.data.data.key.replace(/[^a-z0-9]/gi, '_') +\n    name +\n    '.js'\n  );\n}\n"],"mappings":";;;;;;AAMA,SAAAA,MAAA;EAAA,MAAAC,IAAA,GAAAC,sBAAA,CAAAC,OAAA;EAAAH,KAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA,SAAAG,YAAA;EAAA,MAAAH,IAAA,GAAAE,OAAA;EAAAC,WAAA,YAAAA,CAAA;IAAA,OAAAH,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAoD,SAAAC,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AARpD;AACA;AACA;AACA;AACA;AACA;;AAKO,SAASG,qCAAqCA,CACnDC,cAAsB,EACtB;EAAEC,QAAQ;EAAEC;AAAqD,CAAC,EAC1D;EACR,MAAMC,UAAU,GAAGC,eAAI,CAACC,QAAQ,CAACH,UAAU,EAAEF,cAAc,CAAC;EAC5D,MAAMM,gBAAgB,GAAGF,eAAI,CAACG,IAAI,CAChCH,eAAI,CAACI,OAAO,CAACL,UAAU,CAAC;EACxB;EACAC,eAAI,CAACK,QAAQ,CAACN,UAAU,EAAEC,eAAI,CAACM,OAAO,CAACP,UAAU,CAAC,CAAC,CACpD;EACD,MAAMQ,IAAI,GAAG,IAAAC,kCAAoB,EAAC;IAChCC,QAAQ,EAAEP,gBAAgB;IAC1B;IACAQ,GAAG,EAAER;EACP,CAAC,CAAC;EACF,OACG,mBAAkBL,QAAS,GAAE;EAC9B;EACA;EACAU,IAAI,GACJ,KAAK;AAET"}