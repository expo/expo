{"version":3,"file":"CliJSInspector.js","sourceRoot":"","sources":["../src/CliJSInspector.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,YAAY,CAAC;AAI/B,MAAM,CAAC,KAAK,UAAU,0BAA0B,CAC9C,iBAAyB;IAEzB,MAAM,IAAI,GAAG,MAAM,KAAK,CAAC,GAAG,iBAAiB,YAAY,CAAC,CAAC;IAC3D,qDAAqD;IACrD,uDAAuD;IACvD,OAAQ,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,EAAgC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;AAC9F,CAAC;AAED,SAAS,eAAe,CAAC,GAA4B;IACnD,MAAM,YAAY,GAAG,GAAG,CAAC,WAAW,EAAE,YAAY,IAAI,EAAE,CAAC;IACzD,OAAO,mBAAmB,IAAI,YAAY,IAAI,YAAY,CAAC,iBAAiB,KAAK,IAAI,CAAC;AACxF,CAAC","sourcesContent":["import fetch from 'node-fetch';\n\nimport { ExpoCliExtensionAppInfo } from './CliExtension.types.js';\n\nexport async function queryAllInspectorAppsAsync(\n  metroServerOrigin: string\n): Promise<ExpoCliExtensionAppInfo[]> {\n  const resp = await fetch(`${metroServerOrigin}/json/list`);\n  // The newest runtime will be at the end of the list,\n  // reversing the result would save time from try-error.\n  return ((await resp.json()).reverse() as ExpoCliExtensionAppInfo[]).filter(pageIsSupported);\n}\n\nfunction pageIsSupported(app: ExpoCliExtensionAppInfo): boolean {\n  const capabilities = app.reactNative?.capabilities ?? {};\n  return 'nativePageReloads' in capabilities && capabilities.nativePageReloads === true;\n}\n"]}