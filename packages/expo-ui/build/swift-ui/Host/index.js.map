{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/swift-ui/Host/index.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,iBAAiB,EAAE,MAAM,MAAM,CAAC;AACzC,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAgCjC,MAAM,cAAc,GAAmC,iBAAiB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;AAE/F;;GAEG;AACH,MAAM,UAAU,IAAI,CAAC,KAAgB;IACnC,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,SAAS,EAAE,GAAG,KAAK,CAAC;IACtE,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAG,QAAQ,CAAmB,IAAI,CAAC,CAAC;IAE7E,OAAO,CACL,CAAC,cAAc,CACb,KAAK,CAAC,CAAC,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC,CAC/B,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;YACrB,eAAe,EAAE,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,aAAa,EAAE,CAAC;gBAClB,MAAM,aAAa,GACjB,OAAO,aAAa,KAAK,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC;gBAC7E,MAAM,eAAe,GACnB,OAAO,aAAa,KAAK,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,aAAa,CAAC;gBAC/E,MAAM,iBAAiB,GAAc,EAAE,CAAC;gBACxC,IAAI,aAAa,EAAE,CAAC;oBAClB,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC;gBAClD,CAAC;gBACD,IAAI,eAAe,EAAE,CAAC;oBACpB,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC;gBAChD,CAAC;gBACD,iBAAiB,CAAC,iBAAiB,CAAC,CAAC;YACvC,CAAC;QACH,CAAC,CAAC,CACF,IAAI,SAAS,CAAC,EACd,CACH,CAAC;AACJ,CAAC","sourcesContent":["import { requireNativeView } from 'expo';\nimport { useState } from 'react';\nimport { StyleProp, ViewStyle, type ColorSchemeName } from 'react-native';\n\nexport type HostProps = {\n  /**\n   * When true, the host view will update its size in the React Native view tree to match the content's layout from SwiftUI.\n   * @default false\n   */\n  matchContents?: boolean | { vertical?: boolean; horizontal?: boolean };\n\n  /**\n   * When true and no explicit size is provided, the host will use the viewport size as the proposed size for SwiftUI layout.\n   * This is particularly useful for SwiftUI views that need to fill their available space, such as `Form`.\n   * @default false\n   */\n  useViewportSizeMeasurement?: boolean;\n\n  /**\n   * Callback function that is triggered when the SwiftUI content completes its layout.\n   * Provides the current dimensions of the content, which may change as the content updates.\n   */\n  onLayoutContent?: (event: { nativeEvent: { width: number; height: number } }) => void;\n\n  /**\n   * The color scheme of the host view.\n   */\n  colorScheme?: ColorSchemeName;\n\n  children: React.ReactNode;\n  style?: StyleProp<ViewStyle>;\n};\n\nconst HostNativeView: React.ComponentType<HostProps> = requireNativeView('ExpoUI', 'HostView');\n\n/**\n * A hosting component for SwiftUI views.\n */\nexport function Host(props: HostProps) {\n  const { matchContents, onLayoutContent, style, ...restProps } = props;\n  const [containerStyle, setContainerStyle] = useState<ViewStyle | null>(null);\n\n  return (\n    <HostNativeView\n      style={[style, containerStyle]}\n      onLayoutContent={(e) => {\n        onLayoutContent?.(e);\n        if (matchContents) {\n          const matchVertical =\n            typeof matchContents === 'object' ? matchContents.vertical : matchContents;\n          const matchHorizontal =\n            typeof matchContents === 'object' ? matchContents.horizontal : matchContents;\n          const newContainerStyle: ViewStyle = {};\n          if (matchVertical) {\n            newContainerStyle.height = e.nativeEvent.height;\n          }\n          if (matchHorizontal) {\n            newContainerStyle.width = e.nativeEvent.width;\n          }\n          setContainerStyle(newContainerStyle);\n        }\n      }}\n      {...restProps}\n    />\n  );\n}\n"]}