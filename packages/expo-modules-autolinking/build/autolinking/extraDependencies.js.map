{"version":3,"file":"extraDependencies.js","sourceRoot":"","sources":["../../src/autolinking/extraDependencies.ts"],"names":[],"mappings":";;;;;;AAAA,yCAAyC;AACzC,gDAAwB;AAExB,+DAAuE;AA0BvE;;GAEG;AACI,KAAK,UAAU,uBAAuB,CAAC,WAAmB;IAC/D,MAAM,kBAAkB,GAAG,cAAI,CAAC,OAAO,CAAC,MAAM,IAAA,oDAA8B,EAAC,WAAW,CAAC,CAAC,CAAC;IAC3F,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,kBAAS,EAAC,kBAAkB,EAAE,EAAE,yBAAyB,EAAE,IAAI,EAAE,CAAC,CAAC;IACjG,MAAM,qBAAqB,GAAG,MAAM,CAAC,OAAO,EAAE,IAAI,CAChD,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,uBAAuB,CAC9C,EAAE,CAAC,CAAC,CAAC,CAAC;IACP,OAAO,qBAAqB,IAAI,EAAE,CAAC;AACrC,CAAC;AAPD,0DAOC;AAED;;GAEG;AACI,KAAK,UAAU,6BAA6B,CACjD,WAAmB;IAEnB,MAAM,UAAU,GAAG,MAAM,uBAAuB,CAAC,WAAW,CAAC,CAAC;IAC9D,OAAO;QACL,iBAAiB,EAAE,UAAU,CAAC,OAAO,EAAE,eAAe,IAAI,EAAE;QAC5D,OAAO,EAAE,UAAU,CAAC,GAAG,EAAE,SAAS,IAAI,EAAE;KACzC,CAAC;AACJ,CAAC;AARD,sEAQC","sourcesContent":["import { getConfig } from '@expo/config';\nimport path from 'path';\n\nimport { getProjectPackageJsonPathAsync } from './mergeLinkingOptions';\n\ninterface AndroidMavenRepository {\n  url: string;\n}\n\ninterface IosPod {\n  name: string;\n  version?: string;\n  configurations?: string[];\n  modular_headers?: boolean;\n  source?: string;\n  path?: string;\n  podspec?: string;\n  testspecs?: string[];\n  git?: string;\n  branch?: string;\n  tag?: string;\n  commit?: string;\n}\n\ninterface ExtraDependencies {\n  androidMavenRepos: AndroidMavenRepository[];\n  iosPods?: IosPod[];\n}\n\n/**\n * Gets the `expo-build-properties` settings from the app config.\n */\nexport async function getBuildPropertiesAsync(projectRoot: string): Promise<Record<string, any>> {\n  const projectPackageRoot = path.dirname(await getProjectPackageJsonPathAsync(projectRoot));\n  const { exp: config } = await getConfig(projectPackageRoot, { skipSDKVersionRequirement: true });\n  const buildPropertiesPlugin = config.plugins?.find(\n    (item) => item[0] === 'expo-build-properties'\n  )?.[1];\n  return buildPropertiesPlugin ?? {};\n}\n\n/**\n * Resolves the extra dependencies from `expo-build-properties` settings.\n */\nexport async function resolveExtraDependenciesAsync(\n  projectRoot: string\n): Promise<Partial<ExtraDependencies>> {\n  const buildProps = await getBuildPropertiesAsync(projectRoot);\n  return {\n    androidMavenRepos: buildProps.android?.extraMavenRepos ?? [],\n    iosPods: buildProps.ios?.extraPods ?? {},\n  };\n}\n"]}