function A6(B){switch(B){case 9:return"delete";case 18:return"insert";case 23:return"update";default:return"unknown"}}class Kj{enableChangeListener=!1;useNewConnection=!1;finalizeUnusedStatementsBeforeClosing=!0;constructor(B){this.enableChangeListener=B.enableChangeListener??!1,this.useNewConnection=B.useNewConnection??!1,this.finalizeUnusedStatementsBeforeClosing=B.finalizeUnusedStatementsBeforeClosing??!0}equals(B){return this.enableChangeListener===B.enableChangeListener&&this.finalizeUnusedStatementsBeforeClosing===B.finalizeUnusedStatementsBeforeClosing&&this.useNewConnection===B.useNewConnection}toString(){return JSON.stringify({enableChangeListener:this.enableChangeListener,finalizeUnusedStatementsBeforeClosing:this.finalizeUnusedStatementsBeforeClosing,useNewConnection:this.useNewConnection})}}function Wj(B){return JSON.stringify(B,(G,N)=>{if(N instanceof Uint8Array)return{["__uint8array__"]:!0,data:Array.from(N)};return N})}var eq=2;function j6({id:B,result:G,error:N,syncTrait:q}){if(q){let{lockBuffer:R,resultBuffer:P}=q,X=new Int32Array(R),w=new Uint8Array(P),u=G?Wj({result:G}):Wj({error:N}),n=new TextEncoder().encode(u),o=n.length;w.set(new Uint32Array([o]),0),w.set(n,4),Atomics.store(X,0,eq)}else if(G)self.postMessage({id:B,result:G});else self.postMessage({id:B,error:N})}var S=0,Rj=1;var bA=10;var sA=12;var IA=14;var Tj=21;var tA=25;var E6=27;var OA=100,YA=101;var SA=522;var q6=778;var VA=2,$A=4,cA=8;var k6=64;var aA=256,B6=512,F6=1024,eA=2048,G6=4096,$6=8192,Aj=16384;var jj=524288;var D6=2048;var gA=1,hA=2,yA=3,uA=4,fA=5;var J6=1,N6=2;var Ak=512;class Uj{name;mxPathname=64;_module;constructor(B,G){this.name=B,this._module=G}close(){}isReady(){return!0}hasAsyncMethod(B){return!1}xOpen(B,G,N,q,R){return IA}xDelete(B,G,N){return S}xAccess(B,G,N,q){return S}xFullPathname(B,G,N,q){return S}xGetLastError(B,G,N){return S}xClose(B){return S}xRead(B,G,N,q,R){return S}xWrite(B,G,N,q,R){return S}xTruncate(B,G,N){return S}xSync(B,G){return S}xFileSize(B,G){return S}xLock(B,G){return S}xUnlock(B,G){return S}xCheckReservedLock(B,G){return S}xFileControl(B,G,N){return sA}xSectorSize(B){return Ak}xDeviceCharacteristics(B){return 0}}var v0=[aA,eA,B6,G6,F6,$6,Aj,jj].reduce((B,G)=>B|G);var jk=Object.getPrototypeOf(async function(){}).constructor;class nA extends Uj{constructor(B,G){super(B,G)}hasAsyncMethod(B){let G=`j${B.slice(1)}`;return this[G]instanceof jk}getFilename(B){throw new Error("unimplemented")}jOpen(B,G,N,q){return IA}jDelete(B,G){return S}jAccess(B,G,N){return S}jFullPathname(B,G){let{read:N,written:q}=new TextEncoder().encodeInto(B,G);if(N<B.length)return bA;if(q>=G.length)return bA;return G[q]=0,S}jGetLastError(B){return S}jClose(B){return S}jRead(B,G,N){return G.fill(0),SA}jWrite(B,G,N){return q6}jTruncate(B,G){return S}jSync(B,G){return S}jFileSize(B,G){return S}jLock(B,G){return S}jUnlock(B,G){return S}jCheckReservedLock(B,G){return G.setInt32(0,0,!0),S}jFileControl(B,G,N){return sA}jSectorSize(B){return super.xSectorSize(B)}jDeviceCharacteristics(B){return 0}xOpen(B,G,N,q,R){let P=this.#A(G,q),X=this.#k("Int32",R);return this.log?.("jOpen",P,N,"0x"+q.toString(16)),this.jOpen(P,N,q,X)}xDelete(B,G,N){let q=this._module.UTF8ToString(G);return this.log?.("jDelete",q,N),this.jDelete(q,N)}xAccess(B,G,N,q){let R=this._module.UTF8ToString(G),P=this.#k("Int32",q);return this.log?.("jAccess",R,N),this.jAccess(R,N,P)}xFullPathname(B,G,N,q){let R=this._module.UTF8ToString(G),P=this._module.HEAPU8.subarray(q,q+N);return this.log?.("jFullPathname",R,N),this.jFullPathname(R,P)}xGetLastError(B,G,N){let q=this._module.HEAPU8.subarray(N,N+G);return this.log?.("jGetLastError",G),this.jGetLastError(q)}xClose(B){return this.log?.("jClose",B),this.jClose(B)}xRead(B,G,N,q,R){let P=this.#j(G,N),X=Xj(q,R);return this.log?.("jRead",B,N,X),this.jRead(B,P,X)}xWrite(B,G,N,q,R){let P=this.#j(G,N),X=Xj(q,R);return this.log?.("jWrite",B,P,X),this.jWrite(B,P,X)}xTruncate(B,G,N){let q=Xj(G,N);return this.log?.("jTruncate",B,q),this.jTruncate(B,q)}xSync(B,G){return this.log?.("jSync",B,G),this.jSync(B,G)}xFileSize(B,G){let N=this.#k("BigInt64",G);return this.log?.("jFileSize",B),this.jFileSize(B,N)}xLock(B,G){return this.log?.("jLock",B,G),this.jLock(B,G)}xUnlock(B,G){return this.log?.("jUnlock",B,G),this.jUnlock(B,G)}xCheckReservedLock(B,G){let N=this.#k("Int32",G);return this.log?.("jCheckReservedLock",B),this.jCheckReservedLock(B,N)}xFileControl(B,G,N){let q=new DataView(this._module.HEAPU8.buffer,this._module.HEAPU8.byteOffset+N);return this.log?.("jFileControl",B,G,q),this.jFileControl(B,G,q)}xSectorSize(B){return this.log?.("jSectorSize",B),this.jSectorSize(B)}xDeviceCharacteristics(B){return this.log?.("jDeviceCharacteristics",B),this.jDeviceCharacteristics(B)}#k(B,G){let N=B==="Int32"?4:8,q=`get${B}`,R=`set${B}`,P=()=>new DataView(this._module.HEAPU8.buffer,this._module.HEAPU8.byteOffset+G,N),X=P();return new Proxy(X,{get(w,u){if(X.buffer.byteLength===0)X=P();if(u===q)return function(o,z){if(!z)throw new Error("must be little endian");return X[u](o,z)};if(u===R)return function(o,z,f){if(!f)throw new Error("must be little endian");return X[u](o,z,f)};if(typeof u==="string"&&u.match(/^(get)|(set)/))throw new Error("invalid type");let n=X[u];return typeof n==="function"?n.bind(X):n}})}#j(B,G){let N=this._module.HEAPU8.subarray(B,B+G);return new Proxy(N,{get:(q,R,P)=>{if(N.buffer.byteLength===0)N=this._module.HEAPU8.subarray(B,B+G);let X=N[R];return typeof X==="function"?X.bind(N):X}})}#A(B,G){if(G&k6){let N=B,q=1,R=[];while(q){let P=this._module.HEAPU8[N++];if(P)R.push(P);else{if(!this._module.HEAPU8[N])q=null;switch(q){case 1:R.push(63),q=2;break;case 2:R.push(61),q=3;break;case 3:R.push(38),q=2;break}}}return new TextDecoder().decode(new Uint8Array(R))}return B?this._module.UTF8ToString(B):null}}function Xj(B,G){return G*4294967296+B+(B<0?4294967296:0)}var O6=4096,rj=512,Ek=4,qk=8,Mj=rj+Ek,H6=rj,I6=Mj,vA=O6,kk=aA|eA|Aj|jj,Bk=6;class Ej extends nA{log=null;#k;#j;#A=new Map;#E=new Map;#B=new Set;#q=new Map;static async create(B,G){let N=new Ej(B,G);return await N.isReady(),N}constructor(B,G){super(B,G);this.#k=B}jOpen(B,G,N,q){try{let R=B?this.#G(B):Math.random().toString(36),P=this.#E.get(R);if(!P&&N&$A)if(this.getSize()<this.getCapacity())[P]=this.#B.keys(),this.#F(P,R,N);else throw new Error("cannot create file");if(!P)throw new Error("file not found");let X={path:R,flags:N,accessHandle:P};return this.#q.set(G,X),q.setInt32(0,N,!0),S}catch(R){return console.error(R.message),IA}}jClose(B){let G=this.#q.get(B);if(G){if(G.accessHandle.flush(),this.#q.delete(B),G.flags&cA)this.#D(G.path)}return S}jRead(B,G,N){let R=this.#q.get(B).accessHandle.read(G.subarray(),{at:vA+N});if(R<G.byteLength)return G.fill(0,R,G.byteLength),SA;return S}jWrite(B,G,N){return this.#q.get(B).accessHandle.write(G.subarray(),{at:vA+N})===G.byteLength?S:bA}jTruncate(B,G){return this.#q.get(B).accessHandle.truncate(vA+G),S}jSync(B,G){return this.#q.get(B).accessHandle.flush(),S}jFileSize(B,G){let q=this.#q.get(B).accessHandle.getSize()-vA;return G.setBigInt64(0,BigInt(q),!0),S}jSectorSize(B){return O6}jDeviceCharacteristics(B){return D6}jAccess(B,G,N){let q=this.#G(B);return N.setInt32(0,this.#E.has(q)?1:0,!0),S}jDelete(B,G){let N=this.#G(B);return this.#D(N),S}async close(){await this.#N()}async isReady(){if(!this.#j){let B=await navigator.storage.getDirectory();for(let G of this.#k.split("/"))if(G)B=await B.getDirectoryHandle(G,{create:!0});if(this.#j=B,await this.#J(),this.getCapacity()===0)await this.addCapacity(Bk)}return!0}getSize(){return this.#E.size}getCapacity(){return this.#A.size}async addCapacity(B){for(let G=0;G<B;++G){let N=Math.random().toString(36).replace("0.",""),R=await(await this.#j.getFileHandle(N,{create:!0})).createSyncAccessHandle();this.#A.set(R,N),this.#F(R,"",0)}return B}async removeCapacity(B){let G=0;for(let N of Array.from(this.#B)){if(G==B||this.getSize()===this.getCapacity())return G;let q=this.#A.get(N);await N.close(),await this.#j.removeEntry(q),this.#A.delete(N),this.#B.delete(N),++G}return G}async#J(){let B=[];for await(let[G,N]of this.#j)if(N.kind==="file")B.push([G,N]);await Promise.all(B.map(async([G,N])=>{let q=await N.createSyncAccessHandle();this.#A.set(q,G);let R=this.#L(q);if(R)this.#E.set(R,q);else this.#B.add(q)}))}#N(){for(let B of this.#A.keys())B.close();this.#A.clear(),this.#E.clear(),this.#B.clear()}#L(B){let G=new Uint8Array(Mj);B.read(G,{at:0});let q=new DataView(G.buffer,G.byteOffset).getUint32(H6);if(G[0]&&(q&cA||(q&kk)===0))return console.warn(`Remove file with unexpected flags ${q.toString(16)}`),this.#F(B,"",0),"";let R=new Uint32Array(qk/4);B.read(R,{at:I6});let P=this.#$(G);if(R.every((X,w)=>X===P[w])){let X=G.findIndex((w)=>w===0);if(X===0)B.truncate(vA);return new TextDecoder().decode(G.subarray(0,X))}else return console.warn("Disassociating file with bad digest."),this.#F(B,"",0),""}#F(B,G,N){let q=new Uint8Array(Mj);if(new TextEncoder().encodeInto(G,q).written>=rj)throw new Error("path too long");new DataView(q.buffer,q.byteOffset).setUint32(H6,N);let X=this.#$(q);if(B.write(q,{at:0}),B.write(X,{at:I6}),B.flush(),G)this.#E.set(G,B),this.#B.delete(B);else B.truncate(vA),this.#B.add(B)}#$(B){if(!B[0])return new Uint32Array([4274806656,2899230775]);let G=3735928559,N=1103547991;for(let q of B)G=Math.imul(G^q,2654435761),N=Math.imul(N^q,1597334677);return G=Math.imul(G^G>>>16,2246822507)^Math.imul(N^N>>>13,3266489909),N=Math.imul(N^N>>>16,2246822507)^Math.imul(G^G>>>13,3266489909),new Uint32Array([G>>>0,N>>>0])}#G(B){return(typeof B==="string"?new URL(B,"file://localhost/"):B).pathname}#D(B){let G=this.#E.get(B);if(G)this.#E.delete(B),this.#F(G,"",0)}}class qj extends nA{mapNameToFile=new Map;mapIdToFile=new Map;static async create(B,G){let N=new qj(B,G);return await N.isReady(),N}constructor(B,G){super(B,G)}close(){for(let B of this.mapIdToFile.keys())this.jClose(B)}jOpen(B,G,N,q){let P=new URL(B||Math.random().toString(36).slice(2),"file://").pathname,X=this.mapNameToFile.get(P);if(!X)if(N&$A)X={pathname:P,flags:N,size:0,data:new ArrayBuffer(0)},this.mapNameToFile.set(P,X);else return IA;return this.mapIdToFile.set(G,X),q.setInt32(0,N,!0),S}jClose(B){let G=this.mapIdToFile.get(B);if(this.mapIdToFile.delete(B),G.flags&cA)this.mapNameToFile.delete(G.pathname);return S}jRead(B,G,N){let q=this.mapIdToFile.get(B),R=Math.min(N,q.size),X=Math.min(N+G.byteLength,q.size)-R;if(X)G.set(new Uint8Array(q.data,R,X));if(X<G.byteLength)return G.fill(0,X),SA;return S}jWrite(B,G,N){let q=this.mapIdToFile.get(B);if(N+G.byteLength>q.data.byteLength){let R=Math.max(N+G.byteLength,2*q.data.byteLength),P=new ArrayBuffer(R);new Uint8Array(P).set(new Uint8Array(q.data,0,q.size)),q.data=P}return new Uint8Array(q.data,N,G.byteLength).set(G),q.size=Math.max(q.size,N+G.byteLength),S}jTruncate(B,G){let N=this.mapIdToFile.get(B);return N.size=Math.min(N.size,G),S}jFileSize(B,G){let N=this.mapIdToFile.get(B);return G.setBigInt64(0,BigInt(N.size),!0),S}jDelete(B,G){let q=new URL(B,"file://").pathname;return this.mapNameToFile.delete(q),S}jAccess(B,G,N){let R=new URL(B,"file://").pathname,P=this.mapNameToFile.get(R);return N.setInt32(0,P?1:0,!0),S}}var K6=0x7fffffffffffffffn,W6=-0x8000000000000000n,Qj=Object.getPrototypeOf(async function(){}).constructor;class CA extends Error{constructor(B,G){super(B);this.code=G}}var oA=!0;function R6(B){let G={};B.retryOps=[];let N=B._getSqliteFree(),q=B._malloc(8),R=[q,q+4];function P(K){if(typeof K!=="string")return 0;let O=new TextEncoder().encode(K),H=B._sqlite3_malloc(O.byteLength+1);return B.HEAPU8.set(O,H),B.HEAPU8[H+O.byteLength]=0,H}function X(K,O){return BigInt(O)<<32n|BigInt(K)&0xffffffffn}let w=function(){let K=BigInt(Number.MAX_SAFE_INTEGER)>>32n,O=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(H,W){if(W>K||W<O)return X(H,W);else return W*4294967296+(H&2147483647)-(H&2147483648)}}(),u=new Set;function n(K){if(!u.has(K))throw new CA("not a database",Tj)}let o=new Map;function z(K){if(!o.has(K))throw new CA("not a statement",Tj)}G.backup=function(){let K=B.cwrap("sqlite3_backup_init",...V("nsns:n")),O=B.cwrap("sqlite3_backup_step",...V("nn:n")),H=B.cwrap("sqlite3_backup_finish",...V("n:n"));return async function(W,U,M,v){n(W),n(M);let b=K(W,U,M,v);if(!b){f("sqlite3_backup_init",Rj,W);return}O(b,-1);let m=H(b);return f("sqlite3_backup_finish",m,W)}}(),G.bind_collection=function(K,O){z(K);let H=Array.isArray(O),W=G.bind_parameter_count(K);for(let U=1;U<=W;++U){let M=H?U-1:G.bind_parameter_name(K,U),v=O[M];if(v!==void 0)G.bind(K,U,v)}return S},G.bind=function(K,O,H){switch(z(K),typeof H){case"number":if(H===(H|0))return G.bind_int(K,O,H);else return G.bind_double(K,O,H);case"string":return G.bind_text(K,O,H);default:if(H instanceof Uint8Array||Array.isArray(H))return G.bind_blob(K,O,H);else if(H===null)return G.bind_null(K,O);else if(typeof H==="bigint")return G.bind_int64(K,O,H);else if(H===void 0)return E6;else return console.warn("unknown binding converted to null",H),G.bind_null(K,O)}},G.bind_blob=function(){let O=B.cwrap("sqlite3_bind_blob",...V("nnnnn:n"));return function(H,W,U){z(H);let M=U.byteLength??U.length,v=B._sqlite3_malloc(M);B.HEAPU8.subarray(v).set(U);let b=O(H,W,v,M,N);return f("sqlite3_bind_blob",b,o.get(H))}}(),G.bind_parameter_count=function(){let O=B.cwrap("sqlite3_bind_parameter_count",...V("n:n"));return function(H){return z(H),O(H)}}(),G.bind_double=function(){let O=B.cwrap("sqlite3_bind_double",...V("nnn:n"));return function(H,W,U){z(H);let M=O(H,W,U);return f("sqlite3_bind_double",M,o.get(H))}}(),G.bind_int=function(){let O=B.cwrap("sqlite3_bind_int",...V("nnn:n"));return function(H,W,U){if(z(H),U>2147483647||U<-2147483648)return tA;let M=O(H,W,U);return f("sqlite3_bind_int",M,o.get(H))}}(),G.bind_int64=function(){let O=B.cwrap("sqlite3_bind_int64",...V("nnnn:n"));return function(H,W,U){if(z(H),U>K6||U<W6)return tA;let M=U&0xffffffffn,v=U>>32n,b=O(H,W,Number(M),Number(v));return f("sqlite3_bind_int64",b,o.get(H))}}(),G.bind_null=function(){let O=B.cwrap("sqlite3_bind_null",...V("nn:n"));return function(H,W){z(H);let U=O(H,W);return f("sqlite3_bind_null",U,o.get(H))}}(),G.bind_parameter_index=function(){let O=B.cwrap("sqlite3_bind_parameter_index",...V("ns:n"));return function(H,W){return z(H),O(H,W)}}(),G.bind_parameter_name=function(){let O=B.cwrap("sqlite3_bind_parameter_name",...V("n:s"));return function(H,W){return z(H),O(H,W)}}(),G.bind_text=function(){let O=B.cwrap("sqlite3_bind_text",...V("nnnnn:n"));return function(H,W,U){z(H);let M=P(U),v=O(H,W,M,-1,N);return f("sqlite3_bind_text",v,o.get(H))}}(),G.changes=function(){let O=B.cwrap("sqlite3_changes",...V("n:n"));return function(H){return n(H),O(H)}}(),G.clear_bindings=function(){let O=B.cwrap("sqlite3_clear_bindings",...V("n:n"));return function(H){z(H);let W=O(H);return f("sqlite3_clear_bindings",W,o.get(H))}}(),G.close=function(){let O=B.cwrap("sqlite3_close",...V("n:n"),{async:oA});return async function(H){n(H);let W=await O(H);return u.delete(H),f("sqlite3_close",W,H)}}(),G.column=function(K,O){z(K);let H=G.column_type(K,O);switch(H){case uA:return G.column_blob(K,O);case hA:return G.column_double(K,O);case gA:let W=G.column_int(K,O),U=B.getTempRet0();return w(W,U);case fA:return null;case yA:return G.column_text(K,O);default:throw new CA("unknown type",H)}},G.column_blob=function(){let O=B.cwrap("sqlite3_column_blob",...V("nn:n"));return function(H,W){z(H);let U=G.column_bytes(H,W),M=O(H,W);return B.HEAPU8.subarray(M,M+U)}}(),G.column_bytes=function(){let O=B.cwrap("sqlite3_column_bytes",...V("nn:n"));return function(H,W){return z(H),O(H,W)}}(),G.column_count=function(){let O=B.cwrap("sqlite3_column_count",...V("n:n"));return function(H){return z(H),O(H)}}(),G.column_double=function(){let O=B.cwrap("sqlite3_column_double",...V("nn:n"));return function(H,W){return z(H),O(H,W)}}(),G.column_int=function(){let O=B.cwrap("sqlite3_column_int64",...V("nn:n"));return function(H,W){return z(H),O(H,W)}}(),G.column_int64=function(){let O=B.cwrap("sqlite3_column_int64",...V("nn:n"));return function(H,W){z(H);let U=O(H,W),M=B.getTempRet0();return X(U,M)}}(),G.column_int_safe=function(){let O=B.cwrap("sqlite3_column_int64",...V("nn:n"));return function(H,W){z(H);let U=O(H,W),M=B.getTempRet0();return w(U,M)}}(),G.column_name=function(){let O=B.cwrap("sqlite3_column_name",...V("nn:s"));return function(H,W){return z(H),O(H,W)}}(),G.column_names=function(K){let O=[],H=G.column_count(K);for(let W=0;W<H;++W)O.push(G.column_name(K,W));return O},G.column_text=function(){let O=B.cwrap("sqlite3_column_text",...V("nn:s"));return function(H,W){return z(H),O(H,W)}}(),G.column_type=function(){let O=B.cwrap("sqlite3_column_type",...V("nn:n"));return function(H,W){return z(H),O(H,W)}}(),G.create_function=function(K,O,H,W,U,M,v,b){n(K);function m(y){return y instanceof Qj?async(p,a,FA)=>y(p,B.HEAP32.subarray(FA/4,FA/4+a)):(p,a,FA)=>y(p,B.HEAP32.subarray(FA/4,FA/4+a))}let s=B.create_function(K,O,H,W,U,M&&m(M),v&&m(v),b);return f("sqlite3_create_function",s,K)},G.data_count=function(){let O=B.cwrap("sqlite3_data_count",...V("n:n"));return function(H){return z(H),O(H)}}(),G.db_filename=function(){let O=B.cwrap("sqlite3_db_filename",...V("ns:s"));return function(H,W){return n(H),O(H,W)}}(),G.deserialize=function(){let O=B.cwrap("sqlite3_deserialize",...V("nsnnnn:n"));return function(H,W,U){let M=N6|J6;n(H);let v=U.byteLength,b=B._sqlite3_malloc(v);B.HEAPU8.subarray(b).set(U);let m=O(H,W,b,v,v,M);return f("sqlite3_deserialize",m,H)}}(),G.exec=async function(K,O,H){for await(let W of G.statements(K,O)){let U;while(await G.step(W)===OA)if(H){U=U??G.column_names(W);let M=G.row(W);await H(M,U)}}return S},G.finalize=function(){let O=B.cwrap("sqlite3_finalize",...V("n:n"),{async:oA});return async function(H){let W=await O(H);return o.delete(H),W}}(),G.get_autocommit=function(){let O=B.cwrap("sqlite3_get_autocommit",...V("n:n"));return function(H){return O(H)}}(),G.last_insert_rowid=function(){let O=B.cwrap("sqlite3_last_insert_rowid",...V("n:n"));return function(H){let W=O(H),U=B.getTempRet0();return w(W,U)}}(),G.libversion=function(){let O=B.cwrap("sqlite3_libversion",...V(":s"));return function(){return O()}}(),G.libversion_number=function(){let O=B.cwrap("sqlite3_libversion_number",...V(":n"));return function(){return O()}}(),G.limit=function(){let O=B.cwrap("sqlite3_limit",...V("nnn:n"));return function(H,W,U){return O(H,W,U)}}(),G.next_stmt=function(){let O=B.cwrap("sqlite3_next_stmt",...V("nn:n"));return function(H,W){return n(H),O(H,W||0)}}(),G.open_v2=function(){let O=B.cwrap("sqlite3_open_v2",...V("snnn:n"),{async:oA});return async function(H,W,U){W=W||$A|VA,U=P(U);try{let M=await RA(()=>O(H,R[0],W,U)),v=B.getValue(R[0],"*");return u.add(v),B.ccall("RegisterExtensionFunctions","void",["number"],[v]),f("sqlite3_open_v2",M),v}finally{B._sqlite3_free(U)}}}(),G.progress_handler=function(K,O,H,W){n(K),B.progress_handler(K,O,H,W)},G.reset=function(){let O=B.cwrap("sqlite3_reset",...V("n:n"),{async:oA});return async function(H){z(H);let W=await O(H);return f("sqlite3_reset",W,o.get(H))}}(),G.result=function(K,O){switch(typeof O){case"number":if(O===(O|0))G.result_int(K,O);else G.result_double(K,O);break;case"string":G.result_text(K,O);break;default:if(O instanceof Uint8Array||Array.isArray(O))G.result_blob(K,O);else if(O===null)G.result_null(K);else if(typeof O==="bigint")return G.result_int64(K,O);else console.warn("unknown result converted to null",O),G.result_null(K);break}},G.result_blob=function(){let O=B.cwrap("sqlite3_result_blob",...V("nnnn:n"));return function(H,W){let U=W.byteLength??W.length,M=B._sqlite3_malloc(U);B.HEAPU8.subarray(M).set(W),O(H,M,U,N)}}(),G.result_double=function(){let O=B.cwrap("sqlite3_result_double",...V("nn:n"));return function(H,W){O(H,W)}}(),G.result_int=function(){let O=B.cwrap("sqlite3_result_int",...V("nn:n"));return function(H,W){O(H,W)}}(),G.result_int64=function(){let O=B.cwrap("sqlite3_result_int64",...V("nnn:n"));return function(H,W){if(W>K6||W<W6)return tA;let U=W&0xffffffffn,M=W>>32n;O(H,Number(U),Number(M))}}(),G.result_null=function(){let O=B.cwrap("sqlite3_result_null",...V("n:n"));return function(H){O(H)}}(),G.result_text=function(){let O=B.cwrap("sqlite3_result_text",...V("nnnn:n"));return function(H,W){let U=P(W);O(H,U,-1,N)}}(),G.row=function(K){let O=[],H=G.data_count(K);for(let W=0;W<H;++W){let U=G.column(K,W);O.push(U?.buffer===B.HEAPU8.buffer?U.slice():U)}return O},G.serialize=function(){let O=B.cwrap("sqlite3_serialize",...V("nsnn:n"));return function(H,W){n(H);let U=R[0],v=O(H,W,U,0);if(!v)return f("sqlite3_serialize",Rj,H),null;let b=B.getValue(U,"*"),m=B.HEAPU8.subarray(v,v+b),s=new Uint8Array(m);return B._sqlite3_free(v),s}}(),G.set_authorizer=function(K,O,H){n(K);function W(v,b,m,s,y,p){return[v,b,B.UTF8ToString(m),B.UTF8ToString(s),B.UTF8ToString(y),B.UTF8ToString(p)]}function U(v){return v instanceof Qj?async(b,m,s,y,p,a)=>v(...W(b,m,s,y,p,a)):(b,m,s,y,p,a)=>v(...W(b,m,s,y,p,a))}let M=B.set_authorizer(K,U(O),H);return f("sqlite3_set_authorizer",M,K)},G.sql=function(){let O=B.cwrap("sqlite3_sql",...V("n:s"));return function(H){return z(H),O(H)}}(),G.statements=function(K,O,H={}){let W=B.cwrap("sqlite3_prepare_v3","number",["number","number","number","number","number","number"],{async:!0});return async function*(){let U=[];try{let a=function(){if(p&&!H.unscoped)G.finalize(p);p=0},M=new TextEncoder().encode(O),v=M.byteLength-M.byteLength%4+12,b=B._sqlite3_malloc(v),m=b+M.byteLength+1;U.push(()=>B._sqlite3_free(b)),B.HEAPU8.set(M,b),B.HEAPU8[m-1]=0;let s=b+v-8,y=b+v-4,p;U.push(a),B.setValue(y,b,"*");do{a();let FA=B.getValue(y,"*"),Q=await RA(()=>{return W(K,FA,m-y,H.flags||0,s,y)});if(Q!==S)f("sqlite3_prepare_v3",Q,K);if(p=B.getValue(s,"*"),p)o.set(p,K),yield p}while(p)}finally{while(U.length)U.pop()()}}()},G.step=function(){let O=B.cwrap("sqlite3_step",...V("n:n"),{async:oA});return async function(H){z(H);let W=await RA(()=>O(H));return f("sqlite3_step",W,o.get(H),[OA,YA])}}(),G.commit_hook=function(K,O){n(K),B.commit_hook(K,O)},G.update_hook=function(K,O){n(K);function H(U,M,v,b,m){return[U,B.UTF8ToString(M),B.UTF8ToString(v),X(b,m)]}function W(U){return U instanceof Qj?async(M,v,b,m,s)=>U(...H(M,v,b,m,s)):(M,v,b,m,s)=>U(...H(M,v,b,m,s))}B.update_hook(K,W(O))},G.value=function(K){let O=G.value_type(K);switch(O){case uA:return G.value_blob(K);case hA:return G.value_double(K);case gA:let H=G.value_int(K),W=B.getTempRet0();return w(H,W);case fA:return null;case yA:return G.value_text(K);default:throw new CA("unknown type",O)}},G.value_blob=function(){let O=B.cwrap("sqlite3_value_blob",...V("n:n"));return function(H){let W=G.value_bytes(H),U=O(H);return B.HEAPU8.subarray(U,U+W)}}(),G.value_bytes=function(){let O=B.cwrap("sqlite3_value_bytes",...V("n:n"));return function(H){return O(H)}}(),G.value_double=function(){let O=B.cwrap("sqlite3_value_double",...V("n:n"));return function(H){return O(H)}}(),G.value_int=function(){let O=B.cwrap("sqlite3_value_int64",...V("n:n"));return function(H){return O(H)}}(),G.value_int64=function(){let O=B.cwrap("sqlite3_value_int64",...V("n:n"));return function(H){let W=O(H),U=B.getTempRet0();return X(W,U)}}(),G.value_text=function(){let O=B.cwrap("sqlite3_value_text",...V("n:s"));return function(H){return O(H)}}(),G.value_type=function(){let O=B.cwrap("sqlite3_value_type",...V("n:n"));return function(H){return O(H)}}(),G.vfs_register=function(K,O){let H=B.vfs_register(K,O);return f("sqlite3_vfs_register",H)};function f(K,O,H=null,W=[S]){if(W.includes(O))return O;let U;if(H){let M=B.ccall("sqlite3_errcode","number",["number"],[H]),v=B.ccall("sqlite3_errmsg","string",["number"],[H]);U="Error code "+M+": "+v}else U=K;throw new CA(U,O)}async function RA(K){let O;do{if(B.retryOps.length)await Promise.all(B.retryOps),B.retryOps=[];O=await K()}while(O&&B.retryOps.length);return O}return G}function V(B){let G=[],N=B.match(/([ns@]*):([nsv@])/);switch(N[2]){case"n":G.push("number");break;case"s":G.push("string");break;case"v":G.push(null);break}let q=[];for(let R of N[1])switch(R){case"n":q.push("number");break;case"s":q.push("string");break}return G.push(q),G}var Gk=(()=>{var B=import.meta.url;return async function(G={}){var N,q=G,R,P,X=new Promise((A,j)=>{R=A,P=j}),w=typeof window=="object",u=typeof WorkerGlobalScope!="undefined",n=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",o=Object.assign({},q),z=[],f="./this.program",RA=(A,j)=>{throw j},K="";function O(A){if(q.locateFile)return q.locateFile(A,K);return K+A}var H,W;if(w||u){if(u)K=self.location.href;else if(typeof document!="undefined"&&document.currentScript)K=document.currentScript.src;if(B)K=B;if(K.startsWith("blob:"))K="";else K=K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1);{if(u)W=(A)=>{var j=new XMLHttpRequest;return j.open("GET",A,!1),j.responseType="arraybuffer",j.send(null),new Uint8Array(j.response)};H=async(A)=>{var j=await fetch(A,{credentials:"same-origin"});if(j.ok)return j.arrayBuffer();throw new Error(j.status+" : "+j.url)}}}var U=q.print||console.log.bind(console),M=q.printErr||console.error.bind(console);if(Object.assign(q,o),o=null,q.arguments)z=q.arguments;if(q.thisProgram)f=q.thisProgram;var v=q.wasmBinary,b,m=!1,s,y,p,a,FA,Q,e,kj,Bj,Q6=!1,Y6="data:application/octet-stream;base64,",vj=(A)=>A.startsWith(Y6);function Cj(){var A=b.buffer;q.HEAP8=y=new Int8Array(A),q.HEAP16=a=new Int16Array(A),q.HEAPU8=p=new Uint8Array(A),q.HEAPU16=FA=new Uint16Array(A),q.HEAP32=Q=new Int32Array(A),q.HEAPU32=e=new Uint32Array(A),q.HEAPF32=kj=new Float32Array(A),q.HEAPF64=Bj=new Float64Array(A)}var Zj=[],_j=[],S6=[],xj=[];function V6(){if(q.preRun){if(typeof q.preRun=="function")q.preRun=[q.preRun];while(q.preRun.length)_6(q.preRun.shift())}iA(Zj)}function v6(){if(Q6=!0,!q.noFSInit&&!k.initialized)k.init();k.ignorePermissions=!1,NA.init(),iA(_j)}function C6(){iA(S6)}function Z6(){if(q.postRun){if(typeof q.postRun=="function")q.postRun=[q.postRun];while(q.postRun.length)l6(q.postRun.shift())}iA(xj)}function _6(A){Zj.unshift(A)}function x6(A){_j.unshift(A)}function l6(A){xj.unshift(A)}var KA=0,_A=null;function w6(A){return A}function lj(A){KA++,q.monitorRunDependencies?.(KA)}function Fj(A){if(KA--,q.monitorRunDependencies?.(KA),KA==0){if(_A){var j=_A;_A=null,j()}}}function JA(A){q.onAbort?.(A),A="Aborted("+A+")",M(A),m=!0,A+=". Build with -sASSERTIONS for more info.";var j=new WebAssembly.RuntimeError(A);throw P(j),j}var Gj;function z6(){if(q.locateFile){var A="wa-sqlite.wasm";if(!vj(A))return O(A);return A}return new URL("wa-sqlite.wasm",import.meta.url).href}function b6(A){if(A==Gj&&v)return new Uint8Array(v);if(W)return W(A);throw"both async and sync fetching of the wasm failed"}async function c6(A){if(!v)try{var j=await H(A);return new Uint8Array(j)}catch{}return b6(A)}async function g6(A,j){try{var E=await c6(A),F=await WebAssembly.instantiate(E,j);return F}catch($){M(`failed to asynchronously prepare wasm: ${$}`),JA($)}}async function h6(A,j,E){if(!A&&typeof WebAssembly.instantiateStreaming=="function"&&!vj(j))try{var F=fetch(j,{credentials:"same-origin"}),$=await WebAssembly.instantiateStreaming(F,E);return $}catch(J){M(`wasm streaming compile failed: ${J}`),M("falling back to ArrayBuffer instantiation")}return g6(j,E)}function y6(){return{a:nq}}async function u6(){function A(J,L){return D=J.exports,b=D.pa,Cj(),MA=D.jf,x6(D.qa),Fj("wasm-instantiate"),D}lj("wasm-instantiate");function j(J){return A(J.instance)}var E=y6();if(q.instantiateWasm)try{return q.instantiateWasm(E,A)}catch(J){M(`Module.instantiateWasm callback failed with error: ${J}`),P(J)}Gj??=z6();try{var F=await h6(v,Gj,E),$=j(F);return $}catch(J){return P(J),Promise.reject(J)}}var C,d;class $j{name="ExitStatus";constructor(A){this.message=`Program terminated with exit(${A})`,this.status=A}}var iA=(A)=>{while(A.length>0)A.shift()(q)};function wj(A,j="i8"){if(j.endsWith("*"))j="*";switch(j){case"i1":return y[A];case"i8":return y[A];case"i16":return a[A>>1];case"i32":return Q[A>>2];case"i64":JA("to do getValue(i64) use WASM_BIGINT");case"float":return kj[A>>2];case"double":return Bj[A>>3];case"*":return e[A>>2];default:JA(`invalid type for getValue: ${j}`)}}var zj=q.noExitRuntime||!0;function TA(A,j,E="i8"){if(E.endsWith("*"))E="*";switch(E){case"i1":y[A]=j;break;case"i8":y[A]=j;break;case"i16":a[A>>1]=j;break;case"i32":Q[A>>2]=j;break;case"i64":JA("to do setValue(i64) use WASM_BIGINT");case"float":kj[A>>2]=j;break;case"double":Bj[A>>3]=j;break;case"*":e[A>>2]=j;break;default:JA(`invalid type for setValue: ${E}`)}}var f6=(A)=>dq(A),n6=()=>tq(),bj=typeof TextDecoder!="undefined"?new TextDecoder:void 0,UA=(A,j=0,E=NaN)=>{var F=j+E,$=j;while(A[$]&&!($>=F))++$;if($-j>16&&A.buffer&&bj)return bj.decode(A.subarray(j,$));var J="";while(j<$){var L=A[j++];if(!(L&128)){J+=String.fromCharCode(L);continue}var I=A[j++]&63;if((L&224)==192){J+=String.fromCharCode((L&31)<<6|I);continue}var T=A[j++]&63;if((L&240)==224)L=(L&15)<<12|I<<6|T;else L=(L&7)<<18|I<<12|T<<6|A[j++]&63;if(L<65536)J+=String.fromCharCode(L);else{var r=L-65536;J+=String.fromCharCode(55296|r>>10,56320|r&1023)}}return J},WA=(A,j)=>A?UA(p,A,j):"",o6=(A,j,E,F)=>JA(`Assertion failed: ${WA(A)}, at: `+[j?WA(j):"unknown filename",E,F?WA(F):"unknown function"]),i={isAbs:(A)=>A.charAt(0)==="/",splitPath:(A)=>{var j=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return j.exec(A).slice(1)},normalizeArray:(A,j)=>{var E=0;for(var F=A.length-1;F>=0;F--){var $=A[F];if($===".")A.splice(F,1);else if($==="..")A.splice(F,1),E++;else if(E)A.splice(F,1),E--}if(j)for(;E;E--)A.unshift("..");return A},normalize:(A)=>{var j=i.isAbs(A),E=A.substr(-1)==="/";if(A=i.normalizeArray(A.split("/").filter((F)=>!!F),!j).join("/"),!A&&!j)A=".";if(A&&E)A+="/";return(j?"/":"")+A},dirname:(A)=>{var j=i.splitPath(A),E=j[0],F=j[1];if(!E&&!F)return".";if(F)F=F.substr(0,F.length-1);return E+F},basename:(A)=>A&&A.match(/([^\/]+|\/)\/*$/)[1],join:(...A)=>i.normalize(A.join("/")),join2:(A,j)=>i.normalize(A+"/"+j)},m6=()=>(A)=>crypto.getRandomValues(A),cj=(A)=>{(cj=m6())(A)},PA={resolve:(...A)=>{var j="",E=!1;for(var F=A.length-1;F>=-1&&!E;F--){var $=F>=0?A[F]:k.cwd();if(typeof $!="string")throw new TypeError("Arguments to path.resolve must be strings");else if(!$)return"";j=$+"/"+j,E=i.isAbs($)}return j=i.normalizeArray(j.split("/").filter((J)=>!!J),!E).join("/"),(E?"/":"")+j||"."},relative:(A,j)=>{A=PA.resolve(A).substr(1),j=PA.resolve(j).substr(1);function E(r){var l=0;for(;l<r.length;l++)if(r[l]!=="")break;var g=r.length-1;for(;g>=0;g--)if(r[g]!=="")break;if(l>g)return[];return r.slice(l,g-l+1)}var F=E(A.split("/")),$=E(j.split("/")),J=Math.min(F.length,$.length),L=J;for(var I=0;I<J;I++)if(F[I]!==$[I]){L=I;break}var T=[];for(var I=L;I<F.length;I++)T.push("..");return T=T.concat($.slice(L)),T.join("/")}},Dj=[],XA=(A)=>{var j=0;for(var E=0;E<A.length;++E){var F=A.charCodeAt(E);if(F<=127)j++;else if(F<=2047)j+=2;else if(F>=55296&&F<=57343)j+=4,++E;else j+=3}return j},Jj=(A,j,E,F)=>{if(!(F>0))return 0;var $=E,J=E+F-1;for(var L=0;L<A.length;++L){var I=A.charCodeAt(L);if(I>=55296&&I<=57343){var T=A.charCodeAt(++L);I=65536+((I&1023)<<10)|T&1023}if(I<=127){if(E>=J)break;j[E++]=I}else if(I<=2047){if(E+1>=J)break;j[E++]=192|I>>6,j[E++]=128|I&63}else if(I<=65535){if(E+2>=J)break;j[E++]=224|I>>12,j[E++]=128|I>>6&63,j[E++]=128|I&63}else{if(E+3>=J)break;j[E++]=240|I>>18,j[E++]=128|I>>12&63,j[E++]=128|I>>6&63,j[E++]=128|I&63}}return j[E]=0,E-$};function Nj(A,j,E){var F=E>0?E:XA(A)+1,$=new Array(F),J=Jj(A,$,0,$.length);if(j)$.length=J;return $}var p6=()=>{if(!Dj.length){var A=null;if(typeof window!="undefined"&&typeof window.prompt=="function"){if(A=window.prompt("Input: "),A!==null)A+=`
`}if(!A)return null;Dj=Nj(A,!0)}return Dj.shift()},NA={ttys:[],init(){},shutdown(){},register(A,j){NA.ttys[A]={input:[],output:[],ops:j},k.registerDevice(A,NA.stream_ops)},stream_ops:{open(A){var j=NA.ttys[A.node.rdev];if(!j)throw new k.ErrnoError(43);A.tty=j,A.seekable=!1},close(A){A.tty.ops.fsync(A.tty)},fsync(A){A.tty.ops.fsync(A.tty)},read(A,j,E,F,$){if(!A.tty||!A.tty.ops.get_char)throw new k.ErrnoError(60);var J=0;for(var L=0;L<F;L++){var I;try{I=A.tty.ops.get_char(A.tty)}catch(T){throw new k.ErrnoError(29)}if(I===void 0&&J===0)throw new k.ErrnoError(6);if(I===null||I===void 0)break;J++,j[E+L]=I}if(J)A.node.atime=Date.now();return J},write(A,j,E,F,$){if(!A.tty||!A.tty.ops.put_char)throw new k.ErrnoError(60);try{for(var J=0;J<F;J++)A.tty.ops.put_char(A.tty,j[E+J])}catch(L){throw new k.ErrnoError(29)}if(F)A.node.mtime=A.node.ctime=Date.now();return J}},default_tty_ops:{get_char(A){return p6()},put_char(A,j){if(j===null||j===10)U(UA(A.output)),A.output=[];else if(j!=0)A.output.push(j)},fsync(A){if(A.output&&A.output.length>0)U(UA(A.output)),A.output=[]},ioctl_tcgets(A){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(A,j,E){return 0},ioctl_tiocgwinsz(A){return[24,80]}},default_tty1_ops:{put_char(A,j){if(j===null||j===10)M(UA(A.output)),A.output=[];else if(j!=0)A.output.push(j)},fsync(A){if(A.output&&A.output.length>0)M(UA(A.output)),A.output=[]}}},i6=(A,j)=>{p.fill(0,A,A+j)},gj=(A,j)=>Math.ceil(A/j)*j,hj=(A)=>{A=gj(A,65536);var j=mq(65536,A);if(j)i6(j,A);return j},x={ops_table:null,mount(A){return x.createNode(null,"/",16895,0)},createNode(A,j,E,F){if(k.isBlkdev(E)||k.isFIFO(E))throw new k.ErrnoError(63);x.ops_table||={dir:{node:{getattr:x.node_ops.getattr,setattr:x.node_ops.setattr,lookup:x.node_ops.lookup,mknod:x.node_ops.mknod,rename:x.node_ops.rename,unlink:x.node_ops.unlink,rmdir:x.node_ops.rmdir,readdir:x.node_ops.readdir,symlink:x.node_ops.symlink},stream:{llseek:x.stream_ops.llseek}},file:{node:{getattr:x.node_ops.getattr,setattr:x.node_ops.setattr},stream:{llseek:x.stream_ops.llseek,read:x.stream_ops.read,write:x.stream_ops.write,allocate:x.stream_ops.allocate,mmap:x.stream_ops.mmap,msync:x.stream_ops.msync}},link:{node:{getattr:x.node_ops.getattr,setattr:x.node_ops.setattr,readlink:x.node_ops.readlink},stream:{}},chrdev:{node:{getattr:x.node_ops.getattr,setattr:x.node_ops.setattr},stream:k.chrdev_stream_ops}};var $=k.createNode(A,j,E,F);if(k.isDir($.mode))$.node_ops=x.ops_table.dir.node,$.stream_ops=x.ops_table.dir.stream,$.contents={};else if(k.isFile($.mode))$.node_ops=x.ops_table.file.node,$.stream_ops=x.ops_table.file.stream,$.usedBytes=0,$.contents=null;else if(k.isLink($.mode))$.node_ops=x.ops_table.link.node,$.stream_ops=x.ops_table.link.stream;else if(k.isChrdev($.mode))$.node_ops=x.ops_table.chrdev.node,$.stream_ops=x.ops_table.chrdev.stream;if($.atime=$.mtime=$.ctime=Date.now(),A)A.contents[j]=$,A.atime=A.mtime=A.ctime=$.atime;return $},getFileDataAsTypedArray(A){if(!A.contents)return new Uint8Array(0);if(A.contents.subarray)return A.contents.subarray(0,A.usedBytes);return new Uint8Array(A.contents)},expandFileStorage(A,j){var E=A.contents?A.contents.length:0;if(E>=j)return;var F=1048576;if(j=Math.max(j,E*(E<F?2:1.125)>>>0),E!=0)j=Math.max(j,256);var $=A.contents;if(A.contents=new Uint8Array(j),A.usedBytes>0)A.contents.set($.subarray(0,A.usedBytes),0)},resizeFileStorage(A,j){if(A.usedBytes==j)return;if(j==0)A.contents=null,A.usedBytes=0;else{var E=A.contents;if(A.contents=new Uint8Array(j),E)A.contents.set(E.subarray(0,Math.min(j,A.usedBytes)));A.usedBytes=j}},node_ops:{getattr(A){var j={};if(j.dev=k.isChrdev(A.mode)?A.id:1,j.ino=A.id,j.mode=A.mode,j.nlink=1,j.uid=0,j.gid=0,j.rdev=A.rdev,k.isDir(A.mode))j.size=4096;else if(k.isFile(A.mode))j.size=A.usedBytes;else if(k.isLink(A.mode))j.size=A.link.length;else j.size=0;return j.atime=new Date(A.atime),j.mtime=new Date(A.mtime),j.ctime=new Date(A.ctime),j.blksize=4096,j.blocks=Math.ceil(j.size/j.blksize),j},setattr(A,j){for(let E of["mode","atime","mtime","ctime"])if(j[E]!=null)A[E]=j[E];if(j.size!==void 0)x.resizeFileStorage(A,j.size)},lookup(A,j){throw x.doesNotExistError},mknod(A,j,E,F){return x.createNode(A,j,E,F)},rename(A,j,E){var F;try{F=k.lookupNode(j,E)}catch(J){}if(F){if(k.isDir(A.mode))for(var $ in F.contents)throw new k.ErrnoError(55);k.hashRemoveNode(F)}delete A.parent.contents[A.name],j.contents[E]=A,A.name=E,j.ctime=j.mtime=A.parent.ctime=A.parent.mtime=Date.now()},unlink(A,j){delete A.contents[j],A.ctime=A.mtime=Date.now()},rmdir(A,j){var E=k.lookupNode(A,j);for(var F in E.contents)throw new k.ErrnoError(55);delete A.contents[j],A.ctime=A.mtime=Date.now()},readdir(A){return[".","..",...Object.keys(A.contents)]},symlink(A,j,E){var F=x.createNode(A,j,41471,0);return F.link=E,F},readlink(A){if(!k.isLink(A.mode))throw new k.ErrnoError(28);return A.link}},stream_ops:{read(A,j,E,F,$){var J=A.node.contents;if($>=A.node.usedBytes)return 0;var L=Math.min(A.node.usedBytes-$,F);if(L>8&&J.subarray)j.set(J.subarray($,$+L),E);else for(var I=0;I<L;I++)j[E+I]=J[$+I];return L},write(A,j,E,F,$,J){if(j.buffer===y.buffer)J=!1;if(!F)return 0;var L=A.node;if(L.mtime=L.ctime=Date.now(),j.subarray&&(!L.contents||L.contents.subarray)){if(J)return L.contents=j.subarray(E,E+F),L.usedBytes=F,F;else if(L.usedBytes===0&&$===0)return L.contents=j.slice(E,E+F),L.usedBytes=F,F;else if($+F<=L.usedBytes)return L.contents.set(j.subarray(E,E+F),$),F}if(x.expandFileStorage(L,$+F),L.contents.subarray&&j.subarray)L.contents.set(j.subarray(E,E+F),$);else for(var I=0;I<F;I++)L.contents[$+I]=j[E+I];return L.usedBytes=Math.max(L.usedBytes,$+F),F},llseek(A,j,E){var F=j;if(E===1)F+=A.position;else if(E===2){if(k.isFile(A.node.mode))F+=A.node.usedBytes}if(F<0)throw new k.ErrnoError(28);return F},allocate(A,j,E){x.expandFileStorage(A.node,j+E),A.node.usedBytes=Math.max(A.node.usedBytes,j+E)},mmap(A,j,E,F,$){if(!k.isFile(A.node.mode))throw new k.ErrnoError(43);var J,L,I=A.node.contents;if(!($&2)&&I&&I.buffer===y.buffer)L=!1,J=I.byteOffset;else{if(L=!0,J=hj(j),!J)throw new k.ErrnoError(48);if(I){if(E>0||E+j<I.length)if(I.subarray)I=I.subarray(E,E+j);else I=Array.prototype.slice.call(I,E,E+j);y.set(I,J)}}return{ptr:J,allocated:L}},msync(A,j,E,F,$){return x.stream_ops.write(A,j,0,F,E,!1),0}}},d6=async(A)=>{var j=await H(A);return new Uint8Array(j)},s6=(A,j,E,F,$,J)=>{k.createDataFile(A,j,E,F,$,J)},t6=q.preloadPlugins||[],a6=(A,j,E,F)=>{if(typeof Browser!="undefined")Browser.init();var $=!1;return t6.forEach((J)=>{if($)return;if(J.canHandle(j))J.handle(A,j,E,F),$=!0}),$},e6=(A,j,E,F,$,J,L,I,T,r)=>{var l=j?PA.resolve(i.join2(A,j)):A,g=w6(`cp ${l}`);function Y(_){function Z(t){if(r?.(),!I)s6(A,j,t,F,$,T);J?.(),Fj(g)}if(a6(_,l,Z,()=>{L?.(),Fj(g)}))return;Z(_)}if(lj(g),typeof E=="string")d6(E).then(Y,L);else Y(E)},AE=(A)=>{var j={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},E=j[A];if(typeof E=="undefined")throw new Error(`Unknown file open mode: ${A}`);return E},Lj=(A,j)=>{var E=0;if(A)E|=365;if(j)E|=146;return E},k={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{name="ErrnoError";constructor(A){this.errno=A}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{shared={};get object(){return this.node}set object(A){this.node=A}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(A){this.shared.flags=A}get position(){return this.shared.position}set position(A){this.shared.position=A}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(A,j,E,F){if(!A)A=this;this.parent=A,this.mount=A.mount,this.id=k.nextInode++,this.name=j,this.mode=E,this.rdev=F,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(A){A?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(A){A?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return k.isDir(this.mode)}get isDevice(){return k.isChrdev(this.mode)}},lookupPath(A,j={}){if(!A)throw new k.ErrnoError(44);if(j.follow_mount??=!0,!i.isAbs(A))A=k.cwd()+"/"+A;A:for(var E=0;E<40;E++){var F=A.split("/").filter((r)=>!!r),$=k.root,J="/";for(var L=0;L<F.length;L++){var I=L===F.length-1;if(I&&j.parent)break;if(F[L]===".")continue;if(F[L]===".."){J=i.dirname(J),$=$.parent;continue}J=i.join2(J,F[L]);try{$=k.lookupNode($,F[L])}catch(r){if(r?.errno===44&&I&&j.noent_okay)return{path:J};throw r}if(k.isMountpoint($)&&(!I||j.follow_mount))$=$.mounted.root;if(k.isLink($.mode)&&(!I||j.follow)){if(!$.node_ops.readlink)throw new k.ErrnoError(52);var T=$.node_ops.readlink($);if(!i.isAbs(T))T=i.dirname(J)+"/"+T;A=T+"/"+F.slice(L+1).join("/");continue A}}return{path:J,node:$}}throw new k.ErrnoError(32)},getPath(A){var j;while(!0){if(k.isRoot(A)){var E=A.mount.mountpoint;if(!j)return E;return E[E.length-1]!=="/"?`${E}/${j}`:E+j}j=j?`${A.name}/${j}`:A.name,A=A.parent}},hashName(A,j){var E=0;for(var F=0;F<j.length;F++)E=(E<<5)-E+j.charCodeAt(F)|0;return(A+E>>>0)%k.nameTable.length},hashAddNode(A){var j=k.hashName(A.parent.id,A.name);A.name_next=k.nameTable[j],k.nameTable[j]=A},hashRemoveNode(A){var j=k.hashName(A.parent.id,A.name);if(k.nameTable[j]===A)k.nameTable[j]=A.name_next;else{var E=k.nameTable[j];while(E){if(E.name_next===A){E.name_next=A.name_next;break}E=E.name_next}}},lookupNode(A,j){var E=k.mayLookup(A);if(E)throw new k.ErrnoError(E);var F=k.hashName(A.id,j);for(var $=k.nameTable[F];$;$=$.name_next){var J=$.name;if($.parent.id===A.id&&J===j)return $}return k.lookup(A,j)},createNode(A,j,E,F){var $=new k.FSNode(A,j,E,F);return k.hashAddNode($),$},destroyNode(A){k.hashRemoveNode(A)},isRoot(A){return A===A.parent},isMountpoint(A){return!!A.mounted},isFile(A){return(A&61440)===32768},isDir(A){return(A&61440)===16384},isLink(A){return(A&61440)===40960},isChrdev(A){return(A&61440)===8192},isBlkdev(A){return(A&61440)===24576},isFIFO(A){return(A&61440)===4096},isSocket(A){return(A&49152)===49152},flagsToPermissionString(A){var j=["r","w","rw"][A&3];if(A&512)j+="w";return j},nodePermissions(A,j){if(k.ignorePermissions)return 0;if(j.includes("r")&&!(A.mode&292))return 2;else if(j.includes("w")&&!(A.mode&146))return 2;else if(j.includes("x")&&!(A.mode&73))return 2;return 0},mayLookup(A){if(!k.isDir(A.mode))return 54;var j=k.nodePermissions(A,"x");if(j)return j;if(!A.node_ops.lookup)return 2;return 0},mayCreate(A,j){if(!k.isDir(A.mode))return 54;try{var E=k.lookupNode(A,j);return 20}catch(F){}return k.nodePermissions(A,"wx")},mayDelete(A,j,E){var F;try{F=k.lookupNode(A,j)}catch(J){return J.errno}var $=k.nodePermissions(A,"wx");if($)return $;if(E){if(!k.isDir(F.mode))return 54;if(k.isRoot(F)||k.getPath(F)===k.cwd())return 10}else if(k.isDir(F.mode))return 31;return 0},mayOpen(A,j){if(!A)return 44;if(k.isLink(A.mode))return 32;else if(k.isDir(A.mode)){if(k.flagsToPermissionString(j)!=="r"||j&576)return 31}return k.nodePermissions(A,k.flagsToPermissionString(j))},checkOpExists(A,j){if(!A)throw new k.ErrnoError(j);return A},MAX_OPEN_FDS:4096,nextfd(){for(var A=0;A<=k.MAX_OPEN_FDS;A++)if(!k.streams[A])return A;throw new k.ErrnoError(33)},getStreamChecked(A){var j=k.getStream(A);if(!j)throw new k.ErrnoError(8);return j},getStream:(A)=>k.streams[A],createStream(A,j=-1){if(A=Object.assign(new k.FSStream,A),j==-1)j=k.nextfd();return A.fd=j,k.streams[j]=A,A},closeStream(A){k.streams[A]=null},dupStream(A,j=-1){var E=k.createStream(A,j);return E.stream_ops?.dup?.(E),E},chrdev_stream_ops:{open(A){var j=k.getDevice(A.node.rdev);A.stream_ops=j.stream_ops,A.stream_ops.open?.(A)},llseek(){throw new k.ErrnoError(70)}},major:(A)=>A>>8,minor:(A)=>A&255,makedev:(A,j)=>A<<8|j,registerDevice(A,j){k.devices[A]={stream_ops:j}},getDevice:(A)=>k.devices[A],getMounts(A){var j=[],E=[A];while(E.length){var F=E.pop();j.push(F),E.push(...F.mounts)}return j},syncfs(A,j){if(typeof A=="function")j=A,A=!1;if(k.syncFSRequests++,k.syncFSRequests>1)M(`warning: ${k.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var E=k.getMounts(k.root.mount),F=0;function $(L){return k.syncFSRequests--,j(L)}function J(L){if(L){if(!J.errored)return J.errored=!0,$(L);return}if(++F>=E.length)$(null)}E.forEach((L)=>{if(!L.type.syncfs)return J(null);L.type.syncfs(L,A,J)})},mount(A,j,E){var F=E==="/",$=!E,J;if(F&&k.root)throw new k.ErrnoError(10);else if(!F&&!$){var L=k.lookupPath(E,{follow_mount:!1});if(E=L.path,J=L.node,k.isMountpoint(J))throw new k.ErrnoError(10);if(!k.isDir(J.mode))throw new k.ErrnoError(54)}var I={type:A,opts:j,mountpoint:E,mounts:[]},T=A.mount(I);if(T.mount=I,I.root=T,F)k.root=T;else if(J){if(J.mounted=I,J.mount)J.mount.mounts.push(I)}return T},unmount(A){var j=k.lookupPath(A,{follow_mount:!1});if(!k.isMountpoint(j.node))throw new k.ErrnoError(28);var E=j.node,F=E.mounted,$=k.getMounts(F);Object.keys(k.nameTable).forEach((L)=>{var I=k.nameTable[L];while(I){var T=I.name_next;if($.includes(I.mount))k.destroyNode(I);I=T}}),E.mounted=null;var J=E.mount.mounts.indexOf(F);E.mount.mounts.splice(J,1)},lookup(A,j){return A.node_ops.lookup(A,j)},mknod(A,j,E){var F=k.lookupPath(A,{parent:!0}),$=F.node,J=i.basename(A);if(!J)throw new k.ErrnoError(28);if(J==="."||J==="..")throw new k.ErrnoError(20);var L=k.mayCreate($,J);if(L)throw new k.ErrnoError(L);if(!$.node_ops.mknod)throw new k.ErrnoError(63);return $.node_ops.mknod($,J,j,E)},statfs(A){return k.statfsNode(k.lookupPath(A,{follow:!0}).node)},statfsStream(A){return k.statfsNode(A.node)},statfsNode(A){var j={bsize:4096,frsize:4096,blocks:1e6,bfree:500000,bavail:500000,files:k.nextInode,ffree:k.nextInode-1,fsid:42,flags:2,namelen:255};if(A.node_ops.statfs)Object.assign(j,A.node_ops.statfs(A.mount.opts.root));return j},create(A,j=438){return j&=4095,j|=32768,k.mknod(A,j,0)},mkdir(A,j=511){return j&=1023,j|=16384,k.mknod(A,j,0)},mkdirTree(A,j){var E=A.split("/"),F="";for(var $=0;$<E.length;++$){if(!E[$])continue;F+="/"+E[$];try{k.mkdir(F,j)}catch(J){if(J.errno!=20)throw J}}},mkdev(A,j,E){if(typeof E=="undefined")E=j,j=438;return j|=8192,k.mknod(A,j,E)},symlink(A,j){if(!PA.resolve(A))throw new k.ErrnoError(44);var E=k.lookupPath(j,{parent:!0}),F=E.node;if(!F)throw new k.ErrnoError(44);var $=i.basename(j),J=k.mayCreate(F,$);if(J)throw new k.ErrnoError(J);if(!F.node_ops.symlink)throw new k.ErrnoError(63);return F.node_ops.symlink(F,$,A)},rename(A,j){var E=i.dirname(A),F=i.dirname(j),$=i.basename(A),J=i.basename(j),L,I,T;if(L=k.lookupPath(A,{parent:!0}),I=L.node,L=k.lookupPath(j,{parent:!0}),T=L.node,!I||!T)throw new k.ErrnoError(44);if(I.mount!==T.mount)throw new k.ErrnoError(75);var r=k.lookupNode(I,$),l=PA.relative(A,F);if(l.charAt(0)!==".")throw new k.ErrnoError(28);if(l=PA.relative(j,E),l.charAt(0)!==".")throw new k.ErrnoError(55);var g;try{g=k.lookupNode(T,J)}catch(Z){}if(r===g)return;var Y=k.isDir(r.mode),_=k.mayDelete(I,$,Y);if(_)throw new k.ErrnoError(_);if(_=g?k.mayDelete(T,J,Y):k.mayCreate(T,J),_)throw new k.ErrnoError(_);if(!I.node_ops.rename)throw new k.ErrnoError(63);if(k.isMountpoint(r)||g&&k.isMountpoint(g))throw new k.ErrnoError(10);if(T!==I){if(_=k.nodePermissions(I,"w"),_)throw new k.ErrnoError(_)}k.hashRemoveNode(r);try{I.node_ops.rename(r,T,J),r.parent=T}catch(Z){throw Z}finally{k.hashAddNode(r)}},rmdir(A){var j=k.lookupPath(A,{parent:!0}),E=j.node,F=i.basename(A),$=k.lookupNode(E,F),J=k.mayDelete(E,F,!0);if(J)throw new k.ErrnoError(J);if(!E.node_ops.rmdir)throw new k.ErrnoError(63);if(k.isMountpoint($))throw new k.ErrnoError(10);E.node_ops.rmdir(E,F),k.destroyNode($)},readdir(A){var j=k.lookupPath(A,{follow:!0}),E=j.node,F=k.checkOpExists(E.node_ops.readdir,54);return F(E)},unlink(A){var j=k.lookupPath(A,{parent:!0}),E=j.node;if(!E)throw new k.ErrnoError(44);var F=i.basename(A),$=k.lookupNode(E,F),J=k.mayDelete(E,F,!1);if(J)throw new k.ErrnoError(J);if(!E.node_ops.unlink)throw new k.ErrnoError(63);if(k.isMountpoint($))throw new k.ErrnoError(10);E.node_ops.unlink(E,F),k.destroyNode($)},readlink(A){var j=k.lookupPath(A),E=j.node;if(!E)throw new k.ErrnoError(44);if(!E.node_ops.readlink)throw new k.ErrnoError(28);return E.node_ops.readlink(E)},stat(A,j){var E=k.lookupPath(A,{follow:!j}),F=E.node,$=k.checkOpExists(F.node_ops.getattr,63);return $(F)},lstat(A){return k.stat(A,!0)},chmod(A,j,E){var F;if(typeof A=="string"){var $=k.lookupPath(A,{follow:!E});F=$.node}else F=A;var J=k.checkOpExists(F.node_ops.setattr,63);J(F,{mode:j&4095|F.mode&-4096,ctime:Date.now(),dontFollow:E})},lchmod(A,j){k.chmod(A,j,!0)},fchmod(A,j){var E=k.getStreamChecked(A);k.chmod(E.node,j)},chown(A,j,E,F){var $;if(typeof A=="string"){var J=k.lookupPath(A,{follow:!F});$=J.node}else $=A;var L=k.checkOpExists($.node_ops.setattr,63);L($,{timestamp:Date.now(),dontFollow:F})},lchown(A,j,E){k.chown(A,j,E,!0)},fchown(A,j,E){var F=k.getStreamChecked(A);k.chown(F.node,j,E)},truncate(A,j){if(j<0)throw new k.ErrnoError(28);var E;if(typeof A=="string"){var F=k.lookupPath(A,{follow:!0});E=F.node}else E=A;if(k.isDir(E.mode))throw new k.ErrnoError(31);if(!k.isFile(E.mode))throw new k.ErrnoError(28);var $=k.nodePermissions(E,"w");if($)throw new k.ErrnoError($);var J=k.checkOpExists(E.node_ops.setattr,63);J(E,{size:j,timestamp:Date.now()})},ftruncate(A,j){var E=k.getStreamChecked(A);if((E.flags&2097155)===0)throw new k.ErrnoError(28);k.truncate(E.node,j)},utime(A,j,E){var F=k.lookupPath(A,{follow:!0}),$=F.node,J=k.checkOpExists($.node_ops.setattr,63);J($,{atime:j,mtime:E})},open(A,j,E=438){if(A==="")throw new k.ErrnoError(44);if(j=typeof j=="string"?AE(j):j,j&64)E=E&4095|32768;else E=0;var F,$;if(typeof A=="object")F=A;else{$=A.endsWith("/");var J=k.lookupPath(A,{follow:!(j&131072),noent_okay:!0});F=J.node,A=J.path}var L=!1;if(j&64)if(F){if(j&128)throw new k.ErrnoError(20)}else if($)throw new k.ErrnoError(31);else F=k.mknod(A,E|511,0),L=!0;if(!F)throw new k.ErrnoError(44);if(k.isChrdev(F.mode))j&=-513;if(j&65536&&!k.isDir(F.mode))throw new k.ErrnoError(54);if(!L){var I=k.mayOpen(F,j);if(I)throw new k.ErrnoError(I)}if(j&512&&!L)k.truncate(F,0);j&=-131713;var T=k.createStream({node:F,path:k.getPath(F),flags:j,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});if(T.stream_ops.open)T.stream_ops.open(T);if(L)k.chmod(F,E&511);if(q.logReadFiles&&!(j&1)){if(!(A in k.readFiles))k.readFiles[A]=1}return T},close(A){if(k.isClosed(A))throw new k.ErrnoError(8);if(A.getdents)A.getdents=null;try{if(A.stream_ops.close)A.stream_ops.close(A)}catch(j){throw j}finally{k.closeStream(A.fd)}A.fd=null},isClosed(A){return A.fd===null},llseek(A,j,E){if(k.isClosed(A))throw new k.ErrnoError(8);if(!A.seekable||!A.stream_ops.llseek)throw new k.ErrnoError(70);if(E!=0&&E!=1&&E!=2)throw new k.ErrnoError(28);return A.position=A.stream_ops.llseek(A,j,E),A.ungotten=[],A.position},read(A,j,E,F,$){if(F<0||$<0)throw new k.ErrnoError(28);if(k.isClosed(A))throw new k.ErrnoError(8);if((A.flags&2097155)===1)throw new k.ErrnoError(8);if(k.isDir(A.node.mode))throw new k.ErrnoError(31);if(!A.stream_ops.read)throw new k.ErrnoError(28);var J=typeof $!="undefined";if(!J)$=A.position;else if(!A.seekable)throw new k.ErrnoError(70);var L=A.stream_ops.read(A,j,E,F,$);if(!J)A.position+=L;return L},write(A,j,E,F,$,J){if(F<0||$<0)throw new k.ErrnoError(28);if(k.isClosed(A))throw new k.ErrnoError(8);if((A.flags&2097155)===0)throw new k.ErrnoError(8);if(k.isDir(A.node.mode))throw new k.ErrnoError(31);if(!A.stream_ops.write)throw new k.ErrnoError(28);if(A.seekable&&A.flags&1024)k.llseek(A,0,2);var L=typeof $!="undefined";if(!L)$=A.position;else if(!A.seekable)throw new k.ErrnoError(70);var I=A.stream_ops.write(A,j,E,F,$,J);if(!L)A.position+=I;return I},allocate(A,j,E){if(k.isClosed(A))throw new k.ErrnoError(8);if(j<0||E<=0)throw new k.ErrnoError(28);if((A.flags&2097155)===0)throw new k.ErrnoError(8);if(!k.isFile(A.node.mode)&&!k.isDir(A.node.mode))throw new k.ErrnoError(43);if(!A.stream_ops.allocate)throw new k.ErrnoError(138);A.stream_ops.allocate(A,j,E)},mmap(A,j,E,F,$){if((F&2)!==0&&($&2)===0&&(A.flags&2097155)!==2)throw new k.ErrnoError(2);if((A.flags&2097155)===1)throw new k.ErrnoError(2);if(!A.stream_ops.mmap)throw new k.ErrnoError(43);if(!j)throw new k.ErrnoError(28);return A.stream_ops.mmap(A,j,E,F,$)},msync(A,j,E,F,$){if(!A.stream_ops.msync)return 0;return A.stream_ops.msync(A,j,E,F,$)},ioctl(A,j,E){if(!A.stream_ops.ioctl)throw new k.ErrnoError(59);return A.stream_ops.ioctl(A,j,E)},readFile(A,j={}){if(j.flags=j.flags||0,j.encoding=j.encoding||"binary",j.encoding!=="utf8"&&j.encoding!=="binary")throw new Error(`Invalid encoding type "${j.encoding}"`);var E,F=k.open(A,j.flags),$=k.stat(A),J=$.size,L=new Uint8Array(J);if(k.read(F,L,0,J,0),j.encoding==="utf8")E=UA(L);else if(j.encoding==="binary")E=L;return k.close(F),E},writeFile(A,j,E={}){E.flags=E.flags||577;var F=k.open(A,E.flags,E.mode);if(typeof j=="string"){var $=new Uint8Array(XA(j)+1),J=Jj(j,$,0,$.length);k.write(F,$,0,J,void 0,E.canOwn)}else if(ArrayBuffer.isView(j))k.write(F,j,0,j.byteLength,void 0,E.canOwn);else throw new Error("Unsupported data type");k.close(F)},cwd:()=>k.currentPath,chdir(A){var j=k.lookupPath(A,{follow:!0});if(j.node===null)throw new k.ErrnoError(44);if(!k.isDir(j.node.mode))throw new k.ErrnoError(54);var E=k.nodePermissions(j.node,"x");if(E)throw new k.ErrnoError(E);k.currentPath=j.path},createDefaultDirectories(){k.mkdir("/tmp"),k.mkdir("/home"),k.mkdir("/home/web_user")},createDefaultDevices(){k.mkdir("/dev"),k.registerDevice(k.makedev(1,3),{read:()=>0,write:(F,$,J,L,I)=>L,llseek:()=>0}),k.mkdev("/dev/null",k.makedev(1,3)),NA.register(k.makedev(5,0),NA.default_tty_ops),NA.register(k.makedev(6,0),NA.default_tty1_ops),k.mkdev("/dev/tty",k.makedev(5,0)),k.mkdev("/dev/tty1",k.makedev(6,0));var A=new Uint8Array(1024),j=0,E=()=>{if(j===0)cj(A),j=A.byteLength;return A[--j]};k.createDevice("/dev","random",E),k.createDevice("/dev","urandom",E),k.mkdir("/dev/shm"),k.mkdir("/dev/shm/tmp")},createSpecialDirectories(){k.mkdir("/proc");var A=k.mkdir("/proc/self");k.mkdir("/proc/self/fd"),k.mount({mount(){var j=k.createNode(A,"fd",16895,73);return j.stream_ops={llseek:x.stream_ops.llseek},j.node_ops={lookup(E,F){var $=+F,J=k.getStreamChecked($),L={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>J.path},id:$+1};return L.parent=L,L},readdir(){return Array.from(k.streams.entries()).filter(([E,F])=>F).map(([E,F])=>E.toString())}},j}},{},"/proc/self/fd")},createStandardStreams(A,j,E){if(A)k.createDevice("/dev","stdin",A);else k.symlink("/dev/tty","/dev/stdin");if(j)k.createDevice("/dev","stdout",null,j);else k.symlink("/dev/tty","/dev/stdout");if(E)k.createDevice("/dev","stderr",null,E);else k.symlink("/dev/tty1","/dev/stderr");var F=k.open("/dev/stdin",0),$=k.open("/dev/stdout",1),J=k.open("/dev/stderr",1)},staticInit(){k.nameTable=new Array(4096),k.mount(x,{},"/"),k.createDefaultDirectories(),k.createDefaultDevices(),k.createSpecialDirectories(),k.filesystems={MEMFS:x}},init(A,j,E){k.initialized=!0,A??=q.stdin,j??=q.stdout,E??=q.stderr,k.createStandardStreams(A,j,E)},quit(){k.initialized=!1;for(var A=0;A<k.streams.length;A++){var j=k.streams[A];if(!j)continue;k.close(j)}},findObject(A,j){var E=k.analyzePath(A,j);if(!E.exists)return null;return E.object},analyzePath(A,j){try{var E=k.lookupPath(A,{follow:!j});A=E.path}catch($){}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var E=k.lookupPath(A,{parent:!0});F.parentExists=!0,F.parentPath=E.path,F.parentObject=E.node,F.name=i.basename(A),E=k.lookupPath(A,{follow:!j}),F.exists=!0,F.path=E.path,F.object=E.node,F.name=E.node.name,F.isRoot=E.path==="/"}catch($){F.error=$.errno}return F},createPath(A,j,E,F){A=typeof A=="string"?A:k.getPath(A);var $=j.split("/").reverse();while($.length){var J=$.pop();if(!J)continue;var L=i.join2(A,J);try{k.mkdir(L)}catch(I){}A=L}return L},createFile(A,j,E,F,$){var J=i.join2(typeof A=="string"?A:k.getPath(A),j),L=Lj(F,$);return k.create(J,L)},createDataFile(A,j,E,F,$,J){var L=j;if(A)A=typeof A=="string"?A:k.getPath(A),L=j?i.join2(A,j):A;var I=Lj(F,$),T=k.create(L,I);if(E){if(typeof E=="string"){var r=new Array(E.length);for(var l=0,g=E.length;l<g;++l)r[l]=E.charCodeAt(l);E=r}k.chmod(T,I|146);var Y=k.open(T,577);k.write(Y,E,0,E.length,0,J),k.close(Y),k.chmod(T,I)}},createDevice(A,j,E,F){var $=i.join2(typeof A=="string"?A:k.getPath(A),j),J=Lj(!!E,!!F);k.createDevice.major??=64;var L=k.makedev(k.createDevice.major++,0);return k.registerDevice(L,{open(I){I.seekable=!1},close(I){if(F?.buffer?.length)F(10)},read(I,T,r,l,g){var Y=0;for(var _=0;_<l;_++){var Z;try{Z=E()}catch(t){throw new k.ErrnoError(29)}if(Z===void 0&&Y===0)throw new k.ErrnoError(6);if(Z===null||Z===void 0)break;Y++,T[r+_]=Z}if(Y)I.node.atime=Date.now();return Y},write(I,T,r,l,g){for(var Y=0;Y<l;Y++)try{F(T[r+Y])}catch(_){throw new k.ErrnoError(29)}if(l)I.node.mtime=I.node.ctime=Date.now();return Y}}),k.mkdev($,J,L)},forceLoadFile(A){if(A.isDevice||A.isFolder||A.link||A.contents)return!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else try{A.contents=W(A.url),A.usedBytes=A.contents.length}catch(j){throw new k.ErrnoError(29)}},createLazyFile(A,j,E,F,$){class J{lengthKnown=!1;chunks=[];get(Y){if(Y>this.length-1||Y<0)return;var _=Y%this.chunkSize,Z=Y/this.chunkSize|0;return this.getter(Z)[_]}setDataGetter(Y){this.getter=Y}cacheLength(){var Y=new XMLHttpRequest;if(Y.open("HEAD",E,!1),Y.send(null),!(Y.status>=200&&Y.status<300||Y.status===304))throw new Error("Couldn't load "+E+". Status: "+Y.status);var _=Number(Y.getResponseHeader("Content-length")),Z,t=(Z=Y.getResponseHeader("Accept-Ranges"))&&Z==="bytes",BA=(Z=Y.getResponseHeader("Content-Encoding"))&&Z==="gzip",AA=1048576;if(!t)AA=_;var zA=(GA,QA)=>{if(GA>QA)throw new Error("invalid range ("+GA+", "+QA+") or no bytes requested!");if(QA>_-1)throw new Error("only "+_+" bytes available! programmer error!");var jA=new XMLHttpRequest;if(jA.open("GET",E,!1),_!==AA)jA.setRequestHeader("Range","bytes="+GA+"-"+QA);if(jA.responseType="arraybuffer",jA.overrideMimeType)jA.overrideMimeType("text/plain; charset=x-user-defined");if(jA.send(null),!(jA.status>=200&&jA.status<300||jA.status===304))throw new Error("Couldn't load "+E+". Status: "+jA.status);if(jA.response!==void 0)return new Uint8Array(jA.response||[]);return Nj(jA.responseText||"",!0)},EA=this;if(EA.setDataGetter((GA)=>{var QA=GA*AA,jA=(GA+1)*AA-1;if(jA=Math.min(jA,_-1),typeof EA.chunks[GA]=="undefined")EA.chunks[GA]=zA(QA,jA);if(typeof EA.chunks[GA]=="undefined")throw new Error("doXHR failed!");return EA.chunks[GA]}),BA||!_)AA=_=1,_=this.getter(0).length,AA=_,U("LazyFiles on gzip forces download of the whole file when length is accessed");this._length=_,this._chunkSize=AA,this.lengthKnown=!0}get length(){if(!this.lengthKnown)this.cacheLength();return this._length}get chunkSize(){if(!this.lengthKnown)this.cacheLength();return this._chunkSize}}if(typeof XMLHttpRequest!="undefined"){if(!u)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var L=new J,I={isDevice:!1,contents:L}}else var I={isDevice:!1,url:E};var T=k.createFile(A,j,I,F,$);if(I.contents)T.contents=I.contents;else if(I.url)T.contents=null,T.url=I.url;Object.defineProperties(T,{usedBytes:{get:function(){return this.contents.length}}});var r={},l=Object.keys(T.stream_ops);l.forEach((Y)=>{var _=T.stream_ops[Y];r[Y]=(...Z)=>{return k.forceLoadFile(T),_(...Z)}});function g(Y,_,Z,t,BA){var AA=Y.node.contents;if(BA>=AA.length)return 0;var zA=Math.min(AA.length-BA,t);if(AA.slice)for(var EA=0;EA<zA;EA++)_[Z+EA]=AA[BA+EA];else for(var EA=0;EA<zA;EA++)_[Z+EA]=AA.get(BA+EA);return zA}return r.read=(Y,_,Z,t,BA)=>{return k.forceLoadFile(T),g(Y,_,Z,t,BA)},r.mmap=(Y,_,Z,t,BA)=>{k.forceLoadFile(T);var AA=hj(_);if(!AA)throw new k.ErrnoError(48);return g(Y,y,AA,_,Z),{ptr:AA,allocated:!0}},T.stream_ops=r,T}},c={DEFAULT_POLLMASK:5,calculateAt(A,j,E){if(i.isAbs(j))return j;var F;if(A===-100)F=k.cwd();else{var $=c.getStreamFromFD(A);F=$.path}if(j.length==0){if(!E)throw new k.ErrnoError(44);return F}return F+"/"+j},writeStat(A,j){Q[A>>2]=j.dev,Q[A+4>>2]=j.mode,e[A+8>>2]=j.nlink,Q[A+12>>2]=j.uid,Q[A+16>>2]=j.gid,Q[A+20>>2]=j.rdev,d=[j.size>>>0,(C=j.size,+Math.abs(C)>=1?C>0?+Math.floor(C/4294967296)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],Q[A+24>>2]=d[0],Q[A+28>>2]=d[1],Q[A+32>>2]=4096,Q[A+36>>2]=j.blocks;var E=j.atime.getTime(),F=j.mtime.getTime(),$=j.ctime.getTime();return d=[Math.floor(E/1000)>>>0,(C=Math.floor(E/1000),+Math.abs(C)>=1?C>0?+Math.floor(C/4294967296)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],Q[A+40>>2]=d[0],Q[A+44>>2]=d[1],e[A+48>>2]=E%1000*1000*1000,d=[Math.floor(F/1000)>>>0,(C=Math.floor(F/1000),+Math.abs(C)>=1?C>0?+Math.floor(C/4294967296)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],Q[A+56>>2]=d[0],Q[A+60>>2]=d[1],e[A+64>>2]=F%1000*1000*1000,d=[Math.floor($/1000)>>>0,(C=Math.floor($/1000),+Math.abs(C)>=1?C>0?+Math.floor(C/4294967296)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],Q[A+72>>2]=d[0],Q[A+76>>2]=d[1],e[A+80>>2]=$%1000*1000*1000,d=[j.ino>>>0,(C=j.ino,+Math.abs(C)>=1?C>0?+Math.floor(C/4294967296)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],Q[A+88>>2]=d[0],Q[A+92>>2]=d[1],0},writeStatFs(A,j){Q[A+4>>2]=j.bsize,Q[A+40>>2]=j.bsize,Q[A+8>>2]=j.blocks,Q[A+12>>2]=j.bfree,Q[A+16>>2]=j.bavail,Q[A+20>>2]=j.files,Q[A+24>>2]=j.ffree,Q[A+28>>2]=j.fsid,Q[A+44>>2]=j.flags,Q[A+36>>2]=j.namelen},doMsync(A,j,E,F,$){if(!k.isFile(j.node.mode))throw new k.ErrnoError(43);if(F&2)return 0;var J=p.slice(A,A+E);k.msync(j,J,$,E,F)},getStreamFromFD(A){var j=k.getStreamChecked(A);return j},varargs:void 0,getStr(A){var j=WA(A);return j}};function jE(A,j){try{return A=c.getStr(A),k.chmod(A,j),0}catch(E){if(typeof k=="undefined"||E.name!=="ErrnoError")throw E;return-E.errno}}function EE(A,j,E,F){try{if(j=c.getStr(j),j=c.calculateAt(A,j),E&-8)return-28;var $=k.lookupPath(j,{follow:!0}),J=$.node;if(!J)return-44;var L="";if(E&4)L+="r";if(E&2)L+="w";if(E&1)L+="x";if(L&&k.nodePermissions(J,L))return-2;return 0}catch(I){if(typeof k=="undefined"||I.name!=="ErrnoError")throw I;return-I.errno}}function qE(A,j){try{return k.fchmod(A,j),0}catch(E){if(typeof k=="undefined"||E.name!=="ErrnoError")throw E;return-E.errno}}function kE(A,j,E){try{return k.fchown(A,j,E),0}catch(F){if(typeof k=="undefined"||F.name!=="ErrnoError")throw F;return-F.errno}}var dA=()=>{var A=Q[+c.varargs>>2];return c.varargs+=4,A},BE=dA;function FE(A,j,E){c.varargs=E;try{var F=c.getStreamFromFD(A);switch(j){case 0:{var $=dA();if($<0)return-28;while(k.streams[$])$++;var J=k.dupStream(F,$);return J.fd}case 1:case 2:return 0;case 3:return F.flags;case 4:{var $=dA();return F.flags|=$,0}case 12:{var $=BE(),L=0;return a[$+L>>1]=2,0}case 13:case 14:return 0}return-28}catch(I){if(typeof k=="undefined"||I.name!=="ErrnoError")throw I;return-I.errno}}function GE(A,j){try{var E=c.getStreamFromFD(A);return c.writeStat(j,k.stat(E.path))}catch(F){if(typeof k=="undefined"||F.name!=="ErrnoError")throw F;return-F.errno}}var xA=(A,j)=>j+2097152>>>0<4194305-!!A?(A>>>0)+j*4294967296:NaN;function $E(A,j,E){var F=xA(j,E);try{if(isNaN(F))return 61;return k.ftruncate(A,F),0}catch($){if(typeof k=="undefined"||$.name!=="ErrnoError")throw $;return-$.errno}}var LA=(A,j,E)=>Jj(A,p,j,E);function DE(A,j){try{if(j===0)return-28;var E=k.cwd(),F=XA(E)+1;if(j<F)return-68;return LA(E,A,j),F}catch($){if(typeof k=="undefined"||$.name!=="ErrnoError")throw $;return-$.errno}}function JE(A,j){try{return A=c.getStr(A),c.writeStat(j,k.lstat(A))}catch(E){if(typeof k=="undefined"||E.name!=="ErrnoError")throw E;return-E.errno}}function NE(A,j,E){try{return j=c.getStr(j),j=c.calculateAt(A,j),k.mkdir(j,E,0),0}catch(F){if(typeof k=="undefined"||F.name!=="ErrnoError")throw F;return-F.errno}}function LE(A,j,E,F){try{j=c.getStr(j);var $=F&256,J=F&4096;return F=F&-6401,j=c.calculateAt(A,j,J),c.writeStat(E,$?k.lstat(j):k.stat(j))}catch(L){if(typeof k=="undefined"||L.name!=="ErrnoError")throw L;return-L.errno}}function HE(A,j,E,F){c.varargs=F;try{j=c.getStr(j),j=c.calculateAt(A,j);var $=F?dA():0;return k.open(j,E,$).fd}catch(J){if(typeof k=="undefined"||J.name!=="ErrnoError")throw J;return-J.errno}}function IE(A,j,E,F){try{if(j=c.getStr(j),j=c.calculateAt(A,j),F<=0)return-28;var $=k.readlink(j),J=Math.min(F,XA($)),L=y[E+J];return LA($,E,F+1),y[E+J]=L,J}catch(I){if(typeof k=="undefined"||I.name!=="ErrnoError")throw I;return-I.errno}}function OE(A){try{return A=c.getStr(A),k.rmdir(A),0}catch(j){if(typeof k=="undefined"||j.name!=="ErrnoError")throw j;return-j.errno}}function KE(A,j){try{return A=c.getStr(A),c.writeStat(j,k.stat(A))}catch(E){if(typeof k=="undefined"||E.name!=="ErrnoError")throw E;return-E.errno}}function WE(A,j,E){try{if(j=c.getStr(j),j=c.calculateAt(A,j),E===0)k.unlink(j);else if(E===512)k.rmdir(j);else JA("Invalid flags passed to unlinkat");return 0}catch(F){if(typeof k=="undefined"||F.name!=="ErrnoError")throw F;return-F.errno}}var yj=(A)=>e[A>>2]+Q[A+4>>2]*4294967296;function RE(A,j,E,F){try{j=c.getStr(j),j=c.calculateAt(A,j,!0);var $=Date.now(),J,L;if(!E)J=$,L=$;else{var I=yj(E),T=Q[E+8>>2];if(T==1073741823)J=$;else if(T==1073741822)J=null;else J=I*1000+T/1e6;if(E+=16,I=yj(E),T=Q[E+8>>2],T==1073741823)L=$;else if(T==1073741822)L=null;else L=I*1000+T/1e6}if((L??J)!==null)k.utime(j,J,L);return 0}catch(r){if(typeof k=="undefined"||r.name!=="ErrnoError")throw r;return-r.errno}}var TE=()=>JA(""),uj=0,UE=()=>{zj=!1,uj=0},PE=(A)=>A%4===0&&(A%100!==0||A%400===0),XE=[0,31,60,91,121,152,182,213,244,274,305,335],ME=[0,31,59,90,120,151,181,212,243,273,304,334],rE=(A)=>{var j=PE(A.getFullYear()),E=j?XE:ME,F=E[A.getMonth()]+A.getDate()-1;return F};function QE(A,j,E){var F=xA(A,j),$=new Date(F*1000);Q[E>>2]=$.getSeconds(),Q[E+4>>2]=$.getMinutes(),Q[E+8>>2]=$.getHours(),Q[E+12>>2]=$.getDate(),Q[E+16>>2]=$.getMonth(),Q[E+20>>2]=$.getFullYear()-1900,Q[E+24>>2]=$.getDay();var J=rE($)|0;Q[E+28>>2]=J,Q[E+36>>2]=-($.getTimezoneOffset()*60);var L=new Date($.getFullYear(),0,1),I=new Date($.getFullYear(),6,1).getTimezoneOffset(),T=L.getTimezoneOffset(),r=(I!=T&&$.getTimezoneOffset()==Math.min(T,I))|0;Q[E+32>>2]=r}function YE(A,j,E,F,$,J,L,I){var T=xA($,J);try{if(isNaN(T))return 61;var r=c.getStreamFromFD(F),l=k.mmap(r,A,T,j,E),g=l.ptr;return Q[L>>2]=l.allocated,e[I>>2]=g,0}catch(Y){if(typeof k=="undefined"||Y.name!=="ErrnoError")throw Y;return-Y.errno}}function SE(A,j,E,F,$,J,L){var I=xA(J,L);try{var T=c.getStreamFromFD($);if(E&2)c.doMsync(A,T,j,F,I)}catch(r){if(typeof k=="undefined"||r.name!=="ErrnoError")throw r;return-r.errno}}var lA={},Hj=(A)=>{if(A instanceof $j||A=="unwind")return s;RA(1,A)},fj=()=>zj||uj>0,nj=(A)=>{if(s=A,!fj())q.onExit?.(A),m=!0;RA(A,new $j(A))},oj=(A,j)=>{s=A,nj(A)},VE=oj,vE=()=>{if(!fj())try{VE(s)}catch(A){Hj(A)}},CE=(A)=>{if(m)return;try{A(),vE()}catch(j){Hj(j)}},mj=()=>performance.now(),ZE=(A,j)=>{if(lA[A])clearTimeout(lA[A].id),delete lA[A];if(!j)return 0;var E=setTimeout(()=>{delete lA[A],CE(()=>pq(A,mj()))},j);return lA[A]={id:E,timeout_ms:j},0},_E=(A,j,E,F)=>{var $=new Date().getFullYear(),J=new Date($,0,1),L=new Date($,6,1),I=J.getTimezoneOffset(),T=L.getTimezoneOffset(),r=Math.max(I,T);e[A>>2]=r*60,Q[j>>2]=Number(I!=T);var l=(_)=>{var Z=_>=0?"-":"+",t=Math.abs(_),BA=String(Math.floor(t/60)).padStart(2,"0"),AA=String(t%60).padStart(2,"0");return`UTC${Z}${BA}${AA}`},g=l(I),Y=l(T);if(T<I)LA(g,E,17),LA(Y,F,17);else LA(g,F,17),LA(Y,E,17)},xE=()=>Date.now(),lE=()=>2147483648,wE=(A)=>{var j=b.buffer,E=(A-j.byteLength+65535)/65536|0;try{return b.grow(E),Cj(),1}catch(F){}},zE=(A)=>{var j=p.length;A>>>=0;var E=lE();if(A>E)return!1;for(var F=1;F<=4;F*=2){var $=j*(1+0.2/F);$=Math.min($,A+100663296);var J=Math.min(E,gj(Math.max(A,$),65536)),L=wE(J);if(L)return!0}return!1},Ij={},bE=()=>f||"./this.program",wA=()=>{if(!wA.strings){var A=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",j={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:A,_:bE()};for(var E in Ij)if(Ij[E]===void 0)delete j[E];else j[E]=Ij[E];var F=[];for(var E in j)F.push(`${E}=${j[E]}`);wA.strings=F}return wA.strings},cE=(A,j)=>{for(var E=0;E<A.length;++E)y[j++]=A.charCodeAt(E);y[j]=0},gE=(A,j)=>{var E=0;return wA().forEach((F,$)=>{var J=j+E;e[A+$*4>>2]=J,cE(F,J),E+=F.length+1}),0},hE=(A,j)=>{var E=wA();e[A>>2]=E.length;var F=0;return E.forEach(($)=>F+=$.length+1),e[j>>2]=F,0};function yE(A){try{var j=c.getStreamFromFD(A);return k.close(j),0}catch(E){if(typeof k=="undefined"||E.name!=="ErrnoError")throw E;return E.errno}}function uE(A,j){try{var E=0,F=0,$=0,J=c.getStreamFromFD(A),L=J.tty?2:k.isDir(J.mode)?3:k.isLink(J.mode)?7:4;return y[j]=L,a[j+2>>1]=$,d=[E>>>0,(C=E,+Math.abs(C)>=1?C>0?+Math.floor(C/4294967296)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],Q[j+8>>2]=d[0],Q[j+12>>2]=d[1],d=[F>>>0,(C=F,+Math.abs(C)>=1?C>0?+Math.floor(C/4294967296)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],Q[j+16>>2]=d[0],Q[j+20>>2]=d[1],0}catch(I){if(typeof k=="undefined"||I.name!=="ErrnoError")throw I;return I.errno}}var fE=(A,j,E,F)=>{var $=0;for(var J=0;J<E;J++){var L=e[j>>2],I=e[j+4>>2];j+=8;var T=k.read(A,y,L,I,F);if(T<0)return-1;if($+=T,T<I)break;if(typeof F!="undefined")F+=T}return $};function nE(A,j,E,F){try{var $=c.getStreamFromFD(A),J=fE($,j,E);return e[F>>2]=J,0}catch(L){if(typeof k=="undefined"||L.name!=="ErrnoError")throw L;return L.errno}}function oE(A,j,E,F,$){var J=xA(j,E);try{if(isNaN(J))return 61;var L=c.getStreamFromFD(A);if(k.llseek(L,J,F),d=[L.position>>>0,(C=L.position,+Math.abs(C)>=1?C>0?+Math.floor(C/4294967296)>>>0:~~+Math.ceil((C-+(~~C>>>0))/4294967296)>>>0:0)],Q[$>>2]=d[0],Q[$+4>>2]=d[1],L.getdents&&J===0&&F===0)L.getdents=null;return 0}catch(I){if(typeof k=="undefined"||I.name!=="ErrnoError")throw I;return I.errno}}function mE(A){try{var j=c.getStreamFromFD(A);if(j.stream_ops?.fsync)return j.stream_ops.fsync(j);return 0}catch(E){if(typeof k=="undefined"||E.name!=="ErrnoError")throw E;return E.errno}}var pE=(A,j,E,F)=>{var $=0;for(var J=0;J<E;J++){var L=e[j>>2],I=e[j+4>>2];j+=8;var T=k.write(A,y,L,I,F);if(T<0)return-1;if($+=T,T<I)break;if(typeof F!="undefined")F+=T}return $};function iE(A,j,E,F){try{var $=c.getStreamFromFD(A),J=pE($,j,E);return e[F>>2]=J,0}catch(L){if(typeof k=="undefined"||L.name!=="ErrnoError")throw L;return L.errno}}var h=function(){let A=typeof Asyncify==="object"?Asyncify.handleAsync.bind(Asyncify):null;q.handleAsync=A;let j=new Map;q.setCallback=(E,F)=>j.set(E,F),q.getCallback=(E)=>j.get(E),q.deleteCallback=(E)=>j.delete(E),h=function(E,F,...$){let J=j.get(F),L=null,I=typeof J==="function"?J:J[L=WA($.shift())];if(E){if(A)return A(()=>I.apply(J,$));throw new Error("Synchronous WebAssembly cannot call async function")}let T=I.apply(J,$);if(typeof T?.then=="function")throw console.error("unexpected Promise",I),new Error(`${L} unexpectedly returned a Promise`);return T}};function dE(...A){return h(!1,...A)}function sE(...A){return h(!0,...A)}function tE(...A){return h(!1,...A)}function aE(...A){return h(!0,...A)}function eE(...A){return h(!1,...A)}function Aq(...A){return h(!0,...A)}function jq(...A){return h(!1,...A)}function Eq(...A){return h(!0,...A)}function qq(...A){return h(!1,...A)}function kq(...A){return h(!0,...A)}function Bq(...A){return h(!1,...A)}function Fq(...A){return h(!0,...A)}function Gq(...A){return h(!1,...A)}function $q(...A){return h(!0,...A)}function Dq(...A){return h(!1,...A)}function Jq(...A){return h(!0,...A)}function Nq(...A){return h(!1,...A)}function Lq(...A){return h(!0,...A)}function Hq(...A){return h(!1,...A)}function Iq(...A){return h(!0,...A)}function Oq(...A){return h(!1,...A)}function Kq(...A){return h(!0,...A)}function Wq(...A){return h(!1,...A)}function Rq(...A){return h(!0,...A)}function Tq(...A){return h(!1,...A)}function Uq(...A){return h(!0,...A)}function Pq(...A){return h(!1,...A)}function Xq(...A){return h(!0,...A)}function Mq(...A){return h(!1,...A)}function rq(...A){return h(!0,...A)}function Qq(...A){return h(!1,...A)}function Yq(...A){return h(!0,...A)}var pj=(A,j)=>{if(A<128)j.push(A);else j.push(A%128|128,A>>7)},Sq=(A)=>{var j={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},E={parameters:[],results:A[0]=="v"?[]:[j[A[0]]]};for(var F=1;F<A.length;++F)E.parameters.push(j[A[F]]);return E},Vq=(A,j)=>{var E=A.slice(0,1),F=A.slice(1),$={i:127,p:127,j:126,f:125,d:124,e:111};j.push(96),pj(F.length,j);for(var J=0;J<F.length;++J)j.push($[F[J]]);if(E=="v")j.push(0);else j.push(1,$[E])},vq=(A,j)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(Sq(j),A);var E=[1];Vq(j,E);var F=[0,97,115,109,1,0,0,0,1];pj(E.length,F),F.push(...E),F.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var $=new WebAssembly.Module(new Uint8Array(F)),J=new WebAssembly.Instance($,{e:{f:A}}),L=J.exports.f;return L},MA,Cq=(A)=>MA.get(A),Zq=(A,j)=>{if(rA)for(var E=A;E<A+j;E++){var F=Cq(E);if(F)rA.set(F,E)}},rA,_q=(A)=>{if(!rA)rA=new WeakMap,Zq(0,MA.length);return rA.get(A)||0},ij=[],xq=()=>{if(ij.length)return ij.pop();try{MA.grow(1)}catch(A){if(!(A instanceof RangeError))throw A;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return MA.length-1},dj=(A,j)=>MA.set(A,j),lq=(A,j)=>{var E=_q(A);if(E)return E;var F=xq();try{dj(F,A)}catch(J){if(!(J instanceof TypeError))throw J;var $=vq(A,j);dj(F,$)}return rA.set(A,F),F},sj=(A)=>{var j=q["_"+A];return j},tj=(A,j)=>{y.set(A,j)},aj=(A)=>sq(A),wq=(A)=>{var j=XA(A)+1,E=aj(j);return LA(A,E,j),E},HA=(A,j,E,F,$)=>{var J={string:(Z)=>{var t=0;if(Z!==null&&Z!==void 0&&Z!==0)t=wq(Z);return t},array:(Z)=>{var t=aj(Z.length);return tj(Z,t),t}};function L(Z){if(j==="string")return WA(Z);if(j==="boolean")return Boolean(Z);return Z}var I=sj(A),T=[],r=0;if(F)for(var l=0;l<F.length;l++){var g=J[E[l]];if(g){if(r===0)r=n6();T[l]=g(F[l])}else T[l]=F[l]}var Y=I(...T);function _(Z){if(r!==0)f6(r);return L(Z)}return Y=_(Y),Y},zq=(A,j,E,F)=>{var $=!E||E.every((L)=>L==="number"||L==="boolean"),J=j!=="string";if(J&&$&&!F)return sj(A);return(...L)=>HA(A,j,E,L,F)},bq=(A)=>iq(),cq=(A,j,E)=>{if(E??=2147483647,E<2)return 0;E-=2;var F=j,$=E<A.length*2?E/2:A.length;for(var J=0;J<$;++J){var L=A.charCodeAt(J);a[j>>1]=L,j+=2}return a[j>>1]=0,j-F},gq=(A,j,E)=>{if(E??=2147483647,E<4)return 0;var F=j,$=F+E-4;for(var J=0;J<A.length;++J){var L=A.charCodeAt(J);if(L>=55296&&L<=57343){var I=A.charCodeAt(++J);L=65536+((L&1023)<<10)|I&1023}if(Q[j>>2]=L,j+=4,j+4>$)break}return Q[j>>2]=0,j-F},hq=(A)=>{var j="";while(!0){var E=p[A++];if(!E)return j;j+=String.fromCharCode(E)}},ej=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):void 0,yq=(A,j)=>{var E=A,F=E>>1,$=F+j/2;while(!(F>=$)&&FA[F])++F;if(E=F<<1,E-A>32&&ej)return ej.decode(p.subarray(A,E));var J="";for(var L=0;!(L>=j/2);++L){var I=a[A+L*2>>1];if(I==0)break;J+=String.fromCharCode(I)}return J},uq=(A,j)=>{var E=0,F="";while(!(E>=j/4)){var $=Q[A+E*4>>2];if($==0)break;if(++E,$>=65536){var J=$-65536;F+=String.fromCharCode(55296|J>>10,56320|J&1023)}else F+=String.fromCharCode($)}return F};function fq(A){var j=[];for(var E=0;E<A.length;E++){var F=A[E];if(F>255)F&=255;j.push(String.fromCharCode(F))}return j.join("")}k.createPreloadedFile=e6,k.staticInit(),x.doesNotExistError=new k.ErrnoError(44),x.doesNotExistError.stack="<generic error, no stack>",h();var nq={a:o6,aa:jE,da:EE,ba:qE,$:kE,b:FE,_:GE,y:$E,U:DE,Y:JE,R:NE,X:LE,P:HE,N:IE,M:OE,Z:KE,K:WE,J:RE,F:TE,E:UE,w:QE,u:YE,v:SE,G:ZE,Q:_E,n:xE,g:mj,H:zE,S:gE,T:hE,o:yE,I:uE,O:nE,x:oE,V:mE,L:iE,s:dE,t:sE,ka:tE,oa:aE,j:eE,k:Aq,c:jq,d:Eq,ga:qq,ha:kq,ia:Bq,ja:Fq,h:Gq,i:$q,z:Dq,A:Jq,e:Nq,f:Lq,ea:Hq,fa:Iq,B:Oq,C:Kq,p:Wq,q:Rq,la:Tq,ma:Uq,D:nj,na:Pq,r:Xq,l:Mq,m:rq,W:Qq,ca:Yq},D=await u6(),Zk=D.qa,_k=q._sqlite3_status64=D.ra,xk=q._sqlite3_status=D.sa,lk=q._sqlite3_db_status=D.ta,wk=q._sqlite3_msize=D.ua,zk=q._sqlite3_vfs_find=D.va,bk=q._sqlite3_vfs_register=D.wa,ck=q._sqlite3_vfs_unregister=D.xa,gk=q._sqlite3_release_memory=D.ya,hk=q._sqlite3_soft_heap_limit64=D.za,yk=q._sqlite3_memory_used=D.Aa,uk=q._sqlite3_hard_heap_limit64=D.Ba,fk=q._sqlite3_memory_highwater=D.Ca,nk=q._sqlite3_malloc=D.Da,ok=q._sqlite3_malloc64=D.Ea,mk=q._sqlite3_free=D.Fa,pk=q._sqlite3_realloc=D.Ga,ik=q._sqlite3_realloc64=D.Ha,dk=q._sqlite3_str_vappendf=D.Ia,sk=q._sqlite3_str_append=D.Ja,tk=q._sqlite3_str_appendchar=D.Ka,ak=q._sqlite3_str_appendall=D.La,ek=q._sqlite3_str_appendf=D.Ma,AB=q._sqlite3_str_finish=D.Na,jB=q._sqlite3_str_errcode=D.Oa,EB=q._sqlite3_str_length=D.Pa,qB=q._sqlite3_str_value=D.Qa,kB=q._sqlite3_str_reset=D.Ra,BB=q._sqlite3_str_new=D.Sa,FB=q._sqlite3_vmprintf=D.Ta,GB=q._sqlite3_mprintf=D.Ua,$B=q._sqlite3_vsnprintf=D.Va,DB=q._sqlite3_snprintf=D.Wa,JB=q._sqlite3_log=D.Xa,NB=q._sqlite3_randomness=D.Ya,LB=q._sqlite3_stricmp=D.Za,HB=q._sqlite3_strnicmp=D._a,IB=q._sqlite3_os_init=D.$a,OB=q._sqlite3_os_end=D.ab,KB=q._sqlite3_serialize=D.bb,WB=q._sqlite3_prepare_v2=D.cb,RB=q._sqlite3_step=D.db,TB=q._sqlite3_column_int64=D.eb,UB=q._sqlite3_reset=D.fb,PB=q._sqlite3_exec=D.gb,XB=q._sqlite3_column_int=D.hb,MB=q._sqlite3_finalize=D.ib,rB=q._sqlite3_deserialize=D.jb,QB=q._sqlite3_database_file_object=D.kb,YB=q._sqlite3_backup_init=D.lb,SB=q._sqlite3_backup_step=D.mb,VB=q._sqlite3_backup_finish=D.nb,vB=q._sqlite3_backup_remaining=D.ob,CB=q._sqlite3_backup_pagecount=D.pb,ZB=q._sqlite3_clear_bindings=D.qb,_B=q._sqlite3_value_blob=D.rb,xB=q._sqlite3_value_text=D.sb,lB=q._sqlite3_value_bytes=D.tb,wB=q._sqlite3_value_bytes16=D.ub,zB=q._sqlite3_value_double=D.vb,bB=q._sqlite3_value_int=D.wb,cB=q._sqlite3_value_int64=D.xb,gB=q._sqlite3_value_subtype=D.yb,hB=q._sqlite3_value_pointer=D.zb,yB=q._sqlite3_value_text16=D.Ab,uB=q._sqlite3_value_text16be=D.Bb,fB=q._sqlite3_value_text16le=D.Cb,nB=q._sqlite3_value_type=D.Db,oB=q._sqlite3_value_encoding=D.Eb,mB=q._sqlite3_value_nochange=D.Fb,pB=q._sqlite3_value_frombind=D.Gb,iB=q._sqlite3_value_dup=D.Hb,dB=q._sqlite3_value_free=D.Ib,sB=q._sqlite3_result_blob=D.Jb,tB=q._sqlite3_result_blob64=D.Kb,aB=q._sqlite3_result_double=D.Lb,eB=q._sqlite3_result_error=D.Mb,AF=q._sqlite3_result_error16=D.Nb,jF=q._sqlite3_result_int=D.Ob,EF=q._sqlite3_result_int64=D.Pb,qF=q._sqlite3_result_null=D.Qb,kF=q._sqlite3_result_pointer=D.Rb,BF=q._sqlite3_result_subtype=D.Sb,FF=q._sqlite3_result_text=D.Tb,GF=q._sqlite3_result_text64=D.Ub,$F=q._sqlite3_result_text16=D.Vb,DF=q._sqlite3_result_text16be=D.Wb,JF=q._sqlite3_result_text16le=D.Xb,NF=q._sqlite3_result_value=D.Yb,LF=q._sqlite3_result_error_toobig=D.Zb,HF=q._sqlite3_result_zeroblob=D._b,IF=q._sqlite3_result_zeroblob64=D.$b,OF=q._sqlite3_result_error_code=D.ac,KF=q._sqlite3_result_error_nomem=D.bc,WF=q._sqlite3_user_data=D.cc,RF=q._sqlite3_context_db_handle=D.dc,TF=q._sqlite3_vtab_nochange=D.ec,UF=q._sqlite3_vtab_in_first=D.fc,PF=q._sqlite3_vtab_in_next=D.gc,XF=q._sqlite3_aggregate_context=D.hc,MF=q._sqlite3_get_auxdata=D.ic,rF=q._sqlite3_set_auxdata=D.jc,QF=q._sqlite3_column_count=D.kc,YF=q._sqlite3_data_count=D.lc,SF=q._sqlite3_column_blob=D.mc,VF=q._sqlite3_column_bytes=D.nc,vF=q._sqlite3_column_bytes16=D.oc,CF=q._sqlite3_column_double=D.pc,ZF=q._sqlite3_column_text=D.qc,_F=q._sqlite3_column_value=D.rc,xF=q._sqlite3_column_text16=D.sc,lF=q._sqlite3_column_type=D.tc,wF=q._sqlite3_column_name=D.uc,zF=q._sqlite3_column_name16=D.vc,bF=q._sqlite3_bind_blob=D.wc,cF=q._sqlite3_bind_blob64=D.xc,gF=q._sqlite3_bind_double=D.yc,hF=q._sqlite3_bind_int=D.zc,yF=q._sqlite3_bind_int64=D.Ac,uF=q._sqlite3_bind_null=D.Bc,fF=q._sqlite3_bind_pointer=D.Cc,nF=q._sqlite3_bind_text=D.Dc,oF=q._sqlite3_bind_text64=D.Ec,mF=q._sqlite3_bind_text16=D.Fc,pF=q._sqlite3_bind_value=D.Gc,iF=q._sqlite3_bind_zeroblob=D.Hc,dF=q._sqlite3_bind_zeroblob64=D.Ic,sF=q._sqlite3_bind_parameter_count=D.Jc,tF=q._sqlite3_bind_parameter_name=D.Kc,aF=q._sqlite3_bind_parameter_index=D.Lc,eF=q._sqlite3_db_handle=D.Mc,AG=q._sqlite3_stmt_readonly=D.Nc,jG=q._sqlite3_stmt_isexplain=D.Oc,EG=q._sqlite3_stmt_explain=D.Pc,qG=q._sqlite3_stmt_busy=D.Qc,kG=q._sqlite3_next_stmt=D.Rc,BG=q._sqlite3_stmt_status=D.Sc,FG=q._sqlite3_sql=D.Tc,GG=q._sqlite3_expanded_sql=D.Uc,$G=q._sqlite3_value_numeric_type=D.Vc,DG=q._sqlite3_blob_open=D.Wc,JG=q._sqlite3_blob_close=D.Xc,NG=q._sqlite3_blob_read=D.Yc,LG=q._sqlite3_blob_write=D.Zc,HG=q._sqlite3_blob_bytes=D._c,IG=q._sqlite3_blob_reopen=D.$c,OG=q._sqlite3_set_authorizer=D.ad,KG=q._sqlite3_strglob=D.bd,WG=q._sqlite3_strlike=D.cd,RG=q._sqlite3_errmsg=D.dd,TG=q._sqlite3_auto_extension=D.ed,UG=q._sqlite3_cancel_auto_extension=D.fd,PG=q._sqlite3_reset_auto_extension=D.gd,XG=q._sqlite3_prepare=D.hd,MG=q._sqlite3_prepare_v3=D.id,rG=q._sqlite3_prepare16=D.jd,QG=q._sqlite3_prepare16_v2=D.kd,YG=q._sqlite3_prepare16_v3=D.ld,SG=q._sqlite3_get_table=D.md,VG=q._sqlite3_free_table=D.nd,vG=q._sqlite3_create_module=D.od,CG=q._sqlite3_create_module_v2=D.pd,ZG=q._sqlite3_drop_modules=D.qd,_G=q._sqlite3_declare_vtab=D.rd,xG=q._sqlite3_vtab_on_conflict=D.sd,lG=q._sqlite3_vtab_config=D.td,wG=q._sqlite3_vtab_collation=D.ud,zG=q._sqlite3_vtab_in=D.vd,bG=q._sqlite3_vtab_rhs_value=D.wd,cG=q._sqlite3_vtab_distinct=D.xd,gG=q._sqlite3_keyword_name=D.yd,hG=q._sqlite3_keyword_count=D.zd,yG=q._sqlite3_keyword_check=D.Ad,uG=q._sqlite3_complete=D.Bd,fG=q._sqlite3_complete16=D.Cd,nG=q._sqlite3_libversion=D.Dd,oG=q._sqlite3_libversion_number=D.Ed,mG=q._sqlite3_threadsafe=D.Fd,pG=q._sqlite3_initialize=D.Gd,iG=q._sqlite3_shutdown=D.Hd,dG=q._sqlite3_config=D.Id,sG=q._sqlite3_db_mutex=D.Jd,tG=q._sqlite3_db_release_memory=D.Kd,aG=q._sqlite3_db_cacheflush=D.Ld,eG=q._sqlite3_db_config=D.Md,A$=q._sqlite3_last_insert_rowid=D.Nd,j$=q._sqlite3_set_last_insert_rowid=D.Od,E$=q._sqlite3_changes64=D.Pd,q$=q._sqlite3_changes=D.Qd,k$=q._sqlite3_total_changes64=D.Rd,B$=q._sqlite3_total_changes=D.Sd,F$=q._sqlite3_txn_state=D.Td,G$=q._sqlite3_close=D.Ud,$$=q._sqlite3_close_v2=D.Vd,D$=q._sqlite3_busy_handler=D.Wd,J$=q._sqlite3_progress_handler=D.Xd,N$=q._sqlite3_busy_timeout=D.Yd,L$=q._sqlite3_interrupt=D.Zd,H$=q._sqlite3_is_interrupted=D._d,I$=q._sqlite3_create_function=D.$d,O$=q._sqlite3_create_function_v2=D.ae,K$=q._sqlite3_create_window_function=D.be,W$=q._sqlite3_create_function16=D.ce,R$=q._sqlite3_overload_function=D.de,T$=q._sqlite3_trace_v2=D.ee,U$=q._sqlite3_commit_hook=D.fe,P$=q._sqlite3_update_hook=D.ge,X$=q._sqlite3_rollback_hook=D.he,M$=q._sqlite3_autovacuum_pages=D.ie,r$=q._sqlite3_wal_autocheckpoint=D.je,Q$=q._sqlite3_wal_hook=D.ke,Y$=q._sqlite3_wal_checkpoint_v2=D.le,S$=q._sqlite3_wal_checkpoint=D.me,V$=q._sqlite3_error_offset=D.ne,v$=q._sqlite3_errmsg16=D.oe,C$=q._sqlite3_errcode=D.pe,Z$=q._sqlite3_extended_errcode=D.qe,_$=q._sqlite3_system_errno=D.re,x$=q._sqlite3_errstr=D.se,l$=q._sqlite3_limit=D.te,w$=q._sqlite3_open=D.ue,z$=q._sqlite3_open_v2=D.ve,b$=q._sqlite3_open16=D.we,c$=q._sqlite3_create_collation=D.xe,g$=q._sqlite3_create_collation_v2=D.ye,h$=q._sqlite3_create_collation16=D.ze,y$=q._sqlite3_collation_needed=D.Ae,u$=q._sqlite3_collation_needed16=D.Be,f$=q._sqlite3_get_clientdata=D.Ce,n$=q._sqlite3_set_clientdata=D.De,o$=q._sqlite3_get_autocommit=D.Ee,m$=q._sqlite3_table_column_metadata=D.Fe,p$=q._sqlite3_sleep=D.Ge,i$=q._sqlite3_extended_result_codes=D.He,d$=q._sqlite3_file_control=D.Ie,s$=q._sqlite3_test_control=D.Je,t$=q._sqlite3_create_filename=D.Ke,a$=q._sqlite3_free_filename=D.Le,e$=q._sqlite3_uri_parameter=D.Me,A0=q._sqlite3_uri_key=D.Ne,j0=q._sqlite3_uri_boolean=D.Oe,E0=q._sqlite3_uri_int64=D.Pe,q0=q._sqlite3_filename_database=D.Qe,k0=q._sqlite3_filename_journal=D.Re,B0=q._sqlite3_filename_wal=D.Se,F0=q._sqlite3_db_name=D.Te,G0=q._sqlite3_db_filename=D.Ue,$0=q._sqlite3_db_readonly=D.Ve,D0=q._sqlite3_compileoption_used=D.We,J0=q._sqlite3_compileoption_get=D.Xe,N0=q._sqlite3_sourceid=D.Ye,L0=q._malloc=D.Ze,H0=q._free=D._e,I0=q._RegisterExtensionFunctions=D.$e,O0=q._getSqliteFree=D.af,oq=q._main=D.bf,K0=q._libauthorizer_set_authorizer=D.cf,W0=q._libfunction_create_function=D.df,R0=q._libhook_commit_hook=D.ef,T0=q._libhook_update_hook=D.ff,U0=q._libprogress_progress_handler=D.gf,P0=q._libvfs_vfs_register=D.hf,mq=D.kf,pq=D.lf,iq=D.mf,dq=D.nf,sq=D.of,tq=D.pf,X0=q._sqlite3_version=5472;q.getTempRet0=bq,q.ccall=HA,q.cwrap=zq,q.addFunction=lq,q.setValue=TA,q.getValue=wj,q.UTF8ToString=WA,q.stringToUTF8=LA,q.lengthBytesUTF8=XA,q.intArrayFromString=Nj,q.intArrayToString=fq,q.AsciiToString=hq,q.UTF16ToString=yq,q.stringToUTF16=cq,q.UTF32ToString=uq,q.stringToUTF32=gq,q.writeArrayToMemory=tj;function aq(){var A=oq,j=0,E=0;try{var F=A(j,E);return oj(F,!0),F}catch($){return Hj($)}}function Oj(){if(KA>0){_A=Oj;return}if(V6(),KA>0){_A=Oj;return}function A(){if(q.calledRun=!0,m)return;v6(),C6(),R(q),q.onRuntimeInitialized?.();var j=q.noInitialRun;if(!j)aq();Z6()}if(q.setStatus)q.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>q.setStatus(""),1),A()},1);else A()}if(q.preInit){if(typeof q.preInit=="function")q.preInit=[q.preInit];while(q.preInit.length>0)q.preInit.pop()()}return Oj(),function(){let A=Object.getPrototypeOf(async function(){}).constructor,j=0;q.set_authorizer=function(E,F,$){if(j)q.deleteCallback(j),q._sqlite3_free(j),j=0;j=q._sqlite3_malloc(4),TA(j,F instanceof A?1:0,"i32");let J=HA("libauthorizer_set_authorizer","number",["number","number","number"],[E,F?1:0,j]);if(!J&&F)q.setCallback(j,(L,I,T,r,l,g)=>F($,I,T,r,l,g));return J}}(),function(){let A=Object.getPrototypeOf(async function(){}).constructor,j=["xFunc","xStep","xFinal"],E=new Map;q.create_function=function(F,$,J,L,I,T,r,l){let g=q._sqlite3_malloc(4),Y={xFunc:T,xStep:r,xFinal:l};TA(g,j.reduce((Z,t,BA)=>{if(Y[t]instanceof A)return Z|1<<BA;return Z},0),"i32");let _=HA("libfunction_create_function","number",["number","string","number","number","number","number","number","number"],[F,$,J,L,g,T?1:0,r?1:0,l?1:0]);if(!_){if(E.has($)){let Z=E.get($);q.deleteCallback(Z)}E.set($,g),q.setCallback(g,{xFunc:T,xStep:r,xFinal:l})}return _}}(),function(){let A=Object.getPrototypeOf(async function(){}).constructor,j=0;q.update_hook=function(E,F){if(j)q.deleteCallback(j),q._sqlite3_free(j),j=0;if(j=q._sqlite3_malloc(4),TA(j,F instanceof A?1:0,"i32"),HA("libhook_update_hook","void",["number","number","number"],[E,F?1:0,j]),F)q.setCallback(j,($,J,L,I,T,r)=>F(J,L,I,T,r))}}(),function(){let A=Object.getPrototypeOf(async function(){}).constructor,j=0;q.commit_hook=function(E,F){if(j)q.deleteCallback(j),q._sqlite3_free(j),j=0;if(j=q._sqlite3_malloc(4),TA(j,F instanceof A?1:0,"i32"),HA("libhook_commit_hook","void",["number","number","number"],[E,F?1:0,j]),F)q.setCallback(j,($)=>F())}}(),function(){let A=Object.getPrototypeOf(async function(){}).constructor,j=0;q.progress_handler=function(E,F,$,J){if(j)q.deleteCallback(j),q._sqlite3_free(j),j=0;if(j=q._sqlite3_malloc(4),TA(j,$ instanceof A?1:0,"i32"),HA("libprogress_progress_handler","number",["number","number","number","number"],[E,F,$?1:0,j]),$)q.setCallback(j,(L)=>$(J))}}(),function(){let A=["xOpen","xDelete","xAccess","xFullPathname","xRandomness","xSleep","xCurrentTime","xGetLastError","xCurrentTimeInt64","xClose","xRead","xWrite","xTruncate","xSync","xFileSize","xLock","xUnlock","xCheckReservedLock","xFileControl","xSectorSize","xDeviceCharacteristics","xShmMap","xShmLock","xShmBarrier","xShmUnmap"],j=new Map;q.vfs_register=function(E,F){let $=0,J=0;A.forEach((I,T)=>{if(E[I]){if($|=1<<T,E.hasAsyncMethod(I))J|=1<<T}});let L=q._sqlite3_malloc(4);try{let I=HA("libvfs_vfs_register","number",["string","number","number","number","number","number"],[E.name,E.mxPathname,$,J,F?1:0,L]);if(!I){if(j.has(E.name)){let r=j.get(E.name);q.deleteCallback(r)}let T=wj(L,"*");j.set(E.name,T),q.setCallback(T,E)}return I}finally{q._sqlite3_free(L)}}}(),N=X,N}})(),T6=Gk;var U6="./wa-sqlite-6v8mc3vd.wasm";var Yj="expo-sqlite",Sj="expo-sqlite-memfs",Dk=2147483647,Jk=-2147483648,ZA=null,mA=null,pA=null,qA=new Map,DA=new Map;class r6 extends Error{}self.onmessage=async(B)=>{let G=null,N=null;try{let R=B.data;G=await Nk(R)}catch(R){N=R instanceof Error?R:new Error(String(R))}let q=B.data.isSync?{lockBuffer:B.data.lockBuffer,resultBuffer:B.data.resultBuffer}:void 0;j6({id:B.data.id,result:G,error:N,syncTrait:q})};async function Nk({type:B,data:G}){let N;switch(B){case"close":{await Lk(G.nativeDatabaseId);break}case"deleteDatabase":{await Hk(G.databasePath);break}case"exec":{await Ok(G.nativeDatabaseId,G.source);break}case"finalize":{await Kk(G.nativeDatabaseId,G.nativeStatementId);break}case"getAll":{N=await Wk(G.nativeDatabaseId,G.nativeStatementId);break}case"getColumnNames":{N=await Rk(G.nativeStatementId);break}case"importAssetDatabase":{await Tk(G.databasePath,G.assetDatabasePath,G.forceOverwrite);break}case"isInTransaction":{N=await Uk(G.nativeDatabaseId);break}case"open":{await Pk(G.nativeDatabaseId,G.databasePath,new Kj(G.options),G.serializedData);break}case"prepare":{N=await Xk(G.nativeDatabaseId,G.nativeStatementId,G.source);break}case"reset":{await rk(G.nativeDatabaseId,G.nativeStatementId);break}case"run":{N=await Mk(G.nativeDatabaseId,G.nativeStatementId,G.bindParams,G.bindBlobParams,G.shouldPassAsArray);break}case"serialize":{N=await Qk(G.nativeDatabaseId,G.schemaName);break}case"step":{N=await Yk(G.nativeDatabaseId,G.nativeStatementId);break}default:throw new Error(`Unknown message type: ${B}`)}return N}async function Lk(B){Ck(B);let{sqlite3:G}=await kA(),N=qA.get(B);if(N)qA.delete(B),await G.close(N.pointer)}async function Hk(B){let{vfs:G}=await kA();if(B!==":memory:")G.jDelete(B,0)}async function Ik(B,G){let N=await B.open_v2(":memory:",VA|$A,Sj);return await B.deserialize(N,"main",G),N}async function Ok(B,G){let{sqlite3:N}=await kA(),q=qA.get(B);if(!q)throw new Error(`Database not found - nativeDatabaseId[${B}]`);await N.exec(q.pointer,G)}async function Kk(B,G){let{sqlite3:N}=await kA();if(!qA.get(B))throw new Error(`Database not found - nativeDatabaseId[${B}]`);let R=DA.get(G);if(!R)throw new Error(`Statement not found - nativeStatementId[${G}]`);if(DA.delete(G),await N.finalize(R.pointer)!==S)throw new Error("Error finalizing statement")}async function Wk(B,G){let{sqlite3:N}=await kA();if(!qA.get(B))throw new Error(`Database not found - nativeDatabaseId[${B}]`);let R=DA.get(G);if(!R)throw new Error(`Statement not found - nativeStatementId[${G}]`);let P=[];while(!0){let X=await N.step(R.pointer);if(X===OA){P.push(Vj(N,R.pointer));continue}else if(X===YA)break;throw new Error("Error executing statement")}return P}async function Rk(B){let{sqlite3:G}=await kA(),N=DA.get(B);if(!N)throw new Error(`Statement not found - nativeStatementId[${B}]`);let q=G.column_count(N.pointer),R=[];for(let P=0;P<q;P++)R.push(G.column_name(N.pointer,P));return R}async function Tk(B,G,N){let{sqlite3:q,vfs:R}=await kA();if(!N){let n=new DataView(new ArrayBuffer(4));if(await R.jAccess(B,0,n),n.getUint8(0)===1)return}let P=await fetch(G);if(!P.ok)throw new Error(`[importAssetDatabaseAsync] Failed to fetch asset database: ${P.statusText}`);let X=new Uint8Array(await P.arrayBuffer()),w=await q.open_v2(B,VA|$A,Yj);await q.deserialize(w,"main",X);let u=await q.open_v2(B);await q.backup(u,"main",w,"main"),await q.close(w),await q.close(u)}async function Uk(B){let{sqlite3:G}=await kA(),N=qA.get(B);if(!N)throw new Error(`Database not found - nativeDatabaseId[${B}]`);return G.get_autocommit(N.pointer)===0}async function Pk(B,G,N,q){let{sqlite3:R}=await kA(),P;if(q)P=await Ik(R,q);else{let w=Vk((o)=>o.databasePath===G&&o.openOptions.equals(N)&&!N.useNewConnection);if(w){qA.set(B,w),await M6(R,w);return}let u=VA|$A,n=G===":memory:"?Sj:Yj;P=await R.open_v2(G,u,n)}let X={pointer:P,databasePath:G,openOptions:N};qA.set(B,X),await M6(R,X)}async function Xk(B,G,N){let{sqlite3:q}=await kA(),R=qA.get(B);if(!R)throw new Error(`Database not found - nativeDatabaseId[${B}]`);let X=q.statements(R.pointer,N,{unscoped:!0})[Symbol.asyncIterator](),{value:w}=await X.next();if(X.return?.(),!w)throw new Error("Failed to prepare statement");DA.set(G,{pointer:w})}async function Mk(B,G,N,q,R){let{sqlite3:P}=await kA(),X=qA.get(B);if(!X)throw new Error(`Database not found - nativeDatabaseId[${B}]`);let w=DA.get(G);if(!w)throw new Error(`Statement not found - nativeStatementId[${G}]`);P.reset(w.pointer),P.clear_bindings(w.pointer);for(let[o,z]of Object.entries(N)){let f=X6(P,w.pointer,o,R);if(f>0)P6(P,w.pointer,z,f)}for(let[o,z]of Object.entries(q)){let f=X6(P,w.pointer,o,R);if(f>0)P6(P,w.pointer,z,f)}let u=await P.step(w.pointer);if(u!==OA&&u!==YA)throw new r6("Error executing statement");let n=u===OA?Vj(P,w.pointer):[];return{lastInsertRowId:Number(P.last_insert_rowid(X.pointer)),changes:P.changes(X.pointer),firstRowValues:n}}async function rk(B,G){let{sqlite3:N}=await kA();if(!qA.get(B))throw new Error(`Database not found - nativeDatabaseId[${B}]`);let R=DA.get(G);if(!R)throw new Error(`Statement not found - nativeStatementId[${G}]`);if(await N.reset(R.pointer)!==S)throw new Error("Error resetting statement")}async function Qk(B,G){let{sqlite3:N}=await kA(),q=qA.get(B);if(!q)throw new Error(`Database not found - nativeDatabaseId[${B}]`);return N.serialize(q.pointer,G)}async function Yk(B,G){let{sqlite3:N}=await kA();if(!qA.get(B))throw new Error(`Database not found - nativeDatabaseId[${B}]`);let R=DA.get(G);if(!R)throw new Error(`Statement not found - nativeStatementId[${G}]`);let P=await N.step(R.pointer);if(P===OA)return Vj(N,R.pointer);if(P!==YA)throw new Error("Error executing statement");return null}function Sk(B,G){B.update_hook(G.pointer,(N,q,R,P)=>{let X={type:"onDatabaseChange",data:{databaseName:q,databaseFilePath:B.db_filename(G.pointer,q??"main"),tableName:R,rowId:Number.isSafeInteger(P)?P:Number(P),typeId:A6(N)}};self.postMessage(X)})}function P6(B,G,N,q){if(N==null)B.bind_null(G,q);else if(typeof N==="number")if(Number.isInteger(N))if(N>Dk||N<Jk)B.bind_int64(G,q,BigInt(N));else B.bind_int(G,q,N);else B.bind_double(G,q,N);else if(typeof N==="string")B.bind_text(G,q,N);else if(N instanceof Uint8Array)B.bind_blob(G,q,N);else if(typeof N==="boolean")B.bind_int(G,q,N?1:0);else throw new Error(`Unsupported parameter type: ${typeof N}`)}function Vk(B){for(let G of qA.values())if(B(G))return G;return null}function X6(B,G,N,q){let R;if(q){let P=parseInt(N,10);if(isNaN(P))throw new Error("Invalid bind parameter");R=P+1}else R=B.bind_parameter_index(G,N);return R}function vk(B,G,N){let q=B.column_type(G,N),R;switch(q){case gA:{R=B.column_int_safe(G,N);break}case hA:{R=B.column_double(G,N);break}case yA:{R=B.column_text(G,N);break}case uA:{R=B.column_blob(G,N);break}case fA:{R=null;break}default:throw new Error(`Unsupported column type: ${q}`)}return R}function Vj(B,G){let N=B.column_count(G),q=[];for(let R=0;R<N;R++)q[R]=vk(B,G,R);return q}async function M6(B,G){if(G.openOptions.enableChangeListener)Sk(B,G)}async function Ck(B){let{sqlite3:G}=await kA(),N=qA.get(B);if(!N)throw new Error(`Database not found - nativeDatabaseId[${B}]`);if(!N.openOptions.finalizeUnusedStatementsBeforeClosing)return;let q=null,R=[],P=G.next_stmt(N.pointer,null);while(P!=null&&P!==0){let w=G.next_stmt(N.pointer,P);try{G.finalize(P),R.push(P)}catch(u){q=u}P=w}let X=[];for(let[w,u]of DA.entries())if(R.includes(u.pointer))X.push(w);for(let w of X)DA.delete(w);if(q)throw q}async function kA(){if(!ZA){let B=await T6({locateFile:()=>U6});if(ZA=R6(B),!ZA)throw new Error("Failed to initialize wa-sqlite");if(mA==null){if(mA=await Ej.create(Yj,B),mA==null)throw new Error("Failed to initialize AccessHandlePoolVFS")}if(ZA.vfs_register(mA,!0),pA==null){if(pA=await qj.create(Sj,B),pA==null)throw new Error("Failed to initialize MemoryVFS")}ZA.vfs_register(pA,!1)}return{sqlite3:ZA,vfs:mA,vfsMemory:pA}}
