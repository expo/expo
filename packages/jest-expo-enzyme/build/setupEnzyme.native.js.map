{"version":3,"file":"setupEnzyme.native.js","sourceRoot":"","sources":["../src/setupEnzyme.native.ts"],"names":[],"mappings":";AAAA,cAAc;AACd,yDAAyD;;;;;AAEzD,wBAAsB;AACtB,uBAAqB;AACrB,oDAA4B;AAC5B,sFAA8C;AAE9C,8DAAsC;AAEtC;;GAEG;AACH,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAEnC,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;AACrE,MAAM,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC;AASzB,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;AACvB,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;AAClC,MAAM,CAAC,SAAS,GAAG;IACjB,SAAS,EAAE,SAAS;CACrB,CAAC;AAEF,gDAAgD;AAChD,qFAAqF;AACrF,MAAM,CAAC,gBAAgB,CAAC,MAAM,kCACzB,MAAM,CAAC,yBAAyB,CAAC,MAAM,CAAC,GACxC,MAAM,CAAC,yBAAyB,CAAC,MAAM,CAAC,EAC3C,CAAC;AAEH;;;GAGG;AACH,gBAAM,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE,IAAI,iCAAO,EAAE,EAAE,CAAC,CAAC;AAE7C,mDAAmD;AACnD,MAAM,CAAC,qBAAqB,CAAC,oBAAU,CAAC,CAAC;AAEzC,6BAA6B;AAC7B,MAAM,oBAAoB,GAAG,OAAO,CAAC,KAAK,CAAC;AAE3C,OAAO,CAAC,KAAK,GAAG,CAAC,OAAe,EAAE,EAAE;IAClC,IAAI,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;QAClC,OAAO;KACR;IAED,oBAAoB,CAAC,OAAO,CAAC,CAAC;AAChC,CAAC,CAAC","sourcesContent":["// Taken from:\n// https://airbnb.io/enzyme/docs/guides/react-native.html\n\nimport 'react-native';\nimport 'jest-enzyme';\nimport Enzyme from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\n\nimport serializer from './serializer';\n\n/**\n * Set up DOM in node.js environment for Enzyme to mount to\n */\nconst { JSDOM } = require('jsdom');\n\nconst jsdom = new JSDOM('<!doctype html><html><body></body></html>');\nconst { window } = jsdom;\n\n// @ts-ignore: We want the global type to be NodeJS.Global but we need to mock out the following DOM properties\ndeclare const global: {\n  document: any;\n  navigator: any;\n  window: any;\n};\n\nglobal.window = window;\nglobal.document = window.document;\nglobal.navigator = {\n  userAgent: 'node.js',\n};\n\n// @SimenB: This is discouraged by jsdom itself:\n// https://github.com/jsdom/jsdom/wiki/Don't-stuff-jsdom-globals-onto-the-Node-global\nObject.defineProperties(global, {\n  ...Object.getOwnPropertyDescriptors(window),\n  ...Object.getOwnPropertyDescriptors(global),\n});\n\n/**\n * Set up a mock DOM in Node for Enzyme to which to mount\n * and inspect the DOM in tests.\n */\nEnzyme.configure({ adapter: new Adapter() });\n\n// @ts-ignore: test types are not available in src/\nexpect.addSnapshotSerializer(serializer);\n\n// Mute DOM formatting errors\nconst originalConsoleError = console.error;\n\nconsole.error = (message: string) => {\n  if (message.startsWith('Warning:')) {\n    return;\n  }\n\n  originalConsoleError(message);\n};\n"]}