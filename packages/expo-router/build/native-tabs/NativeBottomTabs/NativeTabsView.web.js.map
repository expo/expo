{"version":3,"file":"NativeTabsView.web.js","sourceRoot":"","sources":["../../../src/native-tabs/NativeBottomTabs/NativeTabsView.web.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Tabs, TabsContent, TabsList, TabsTrigger } from '@radix-ui/react-tabs';\nimport React, { useMemo } from 'react';\n\nimport type { NativeTabOptions, NativeTabsViewProps } from './types';\nimport { convertLabelStylePropToObject, shouldTabBeVisible } from './utils';\nimport nativeTabsStyles from '../../../assets/native-tabs.module.css';\n\nexport function NativeTabsView(props: NativeTabsViewProps) {\n  const { builder, focusedIndex } = props;\n  const { state, descriptors, navigation } = builder;\n  const { routes } = state;\n  const defaultTabName = useMemo(\n    () => state.routes[focusedIndex]?.name ?? state.routes[0].name,\n    []\n  );\n  const value = state.routes[focusedIndex]?.name ?? state.routes[0].name;\n  const currentTabKey = state.routes[focusedIndex]?.key ?? state.routes[0].key;\n\n  const items = routes\n    .filter(({ key }) => shouldTabBeVisible(descriptors[key].options))\n    .map((route) => (\n      <TabItem\n        key={route.key}\n        route={route}\n        title={descriptors[route.key].options.title ?? route.name}\n        badgeValue={descriptors[route.key].options.badgeValue}\n      />\n    ));\n  const children = routes\n    .filter(({ key }) => shouldTabBeVisible(descriptors[key].options))\n    .map((route) => {\n      return (\n        <TabsContent\n          key={route.name}\n          value={route.name}\n          className={nativeTabsStyles.tabContent}\n          forceMount>\n          {descriptors[route.key].render()}\n        </TabsContent>\n      );\n    });\n\n  return (\n    <Tabs\n      className={nativeTabsStyles.nativeTabsContainer}\n      defaultValue={defaultTabName}\n      value={value}\n      onValueChange={(value) => {\n        navigation.dispatch({\n          type: 'JUMP_TO',\n          target: state.key,\n          payload: {\n            name: value,\n          },\n        });\n      }}\n      style={convertNativeTabsPropsToStyleVars(props, descriptors[currentTabKey]?.options)}>\n      <TabsList aria-label=\"Main\" className={nativeTabsStyles.navigationMenuRoot}>\n        {items}\n      </TabsList>\n      {children}\n    </Tabs>\n  );\n}\n\ninterface TabItemProps {\n  title: string;\n  badgeValue?: string;\n  route: { name: string };\n}\n\nfunction TabItem(props: TabItemProps) {\n  const { title, badgeValue, route } = props;\n  const isBadgeEmpty = badgeValue === ' ';\n\n  return (\n    <TabsTrigger value={route.name} className={nativeTabsStyles.navigationMenuTrigger}>\n      <span className={nativeTabsStyles.tabText}>{title}</span>\n      {badgeValue && (\n        <div\n          className={`${nativeTabsStyles.tabBadge} ${isBadgeEmpty ? nativeTabsStyles.emptyTabBadge : ''}`}>\n          {badgeValue}\n        </div>\n      )}\n    </TabsTrigger>\n  );\n}\n\nfunction convertNativeTabsPropsToStyleVars(\n  props: NativeTabsViewProps | undefined,\n  currentTabOptions: NativeTabOptions | undefined\n): Record<string, string | undefined> {\n  const vars: Record<`--expo-router-tabs-${string}`, string | undefined> = {};\n  if (!props) {\n    return vars;\n  }\n  const { labelStyle } = props;\n  const { default: defaultLabelStyle, selected: selectedLabelStyle } =\n    convertLabelStylePropToObject(labelStyle);\n  const optionsLabelStyle = currentTabOptions?.labelStyle;\n  if (optionsLabelStyle?.fontFamily) {\n    vars['--expo-router-tabs-font-family'] = String(optionsLabelStyle.fontFamily);\n  } else if (defaultLabelStyle?.fontFamily) {\n    vars['--expo-router-tabs-font-family'] = String(defaultLabelStyle.fontFamily);\n  }\n  if (optionsLabelStyle?.fontSize) {\n    vars['--expo-router-tabs-font-size'] = String(optionsLabelStyle.fontSize);\n  } else if (defaultLabelStyle?.fontSize) {\n    vars['--expo-router-tabs-font-size'] = String(defaultLabelStyle.fontSize);\n  }\n  if (optionsLabelStyle?.fontWeight) {\n    vars['--expo-router-tabs-font-weight'] = String(optionsLabelStyle.fontWeight);\n  } else if (defaultLabelStyle?.fontWeight) {\n    vars['--expo-router-tabs-font-weight'] = String(defaultLabelStyle.fontWeight);\n  }\n  if (optionsLabelStyle?.fontStyle) {\n    vars['--expo-router-tabs-font-style'] = String(optionsLabelStyle.fontStyle);\n  } else if (defaultLabelStyle?.fontStyle) {\n    vars['--expo-router-tabs-font-style'] = String(defaultLabelStyle.fontStyle);\n  }\n  if (optionsLabelStyle?.color) {\n    vars['--expo-router-tabs-text-color'] = String(optionsLabelStyle.color);\n  } else if (defaultLabelStyle?.color) {\n    vars['--expo-router-tabs-text-color'] = String(defaultLabelStyle.color);\n  }\n  if (currentTabOptions?.selectedLabelStyle?.color ?? selectedLabelStyle?.color) {\n    vars['--expo-router-tabs-active-text-color'] = String(\n      currentTabOptions?.selectedLabelStyle?.color ?? selectedLabelStyle?.color\n    );\n  } else if (props.tintColor) {\n    vars['--expo-router-tabs-active-text-color'] = String(props.tintColor);\n  }\n  if (currentTabOptions?.selectedLabelStyle?.fontSize ?? selectedLabelStyle?.fontSize) {\n    vars['--expo-router-tabs-active-font-size'] = String(\n      currentTabOptions?.selectedLabelStyle?.fontSize ?? selectedLabelStyle?.fontSize\n    );\n  }\n  if (currentTabOptions?.indicatorColor) {\n    vars['--expo-router-tabs-active-background-color'] = String(currentTabOptions.indicatorColor);\n  } else if (props.indicatorColor) {\n    vars['--expo-router-tabs-active-background-color'] = String(props.indicatorColor);\n  }\n  if (currentTabOptions?.backgroundColor) {\n    vars['--expo-router-tabs-background-color'] = String(currentTabOptions.backgroundColor);\n  } else if (props.backgroundColor) {\n    vars['--expo-router-tabs-background-color'] = String(props.backgroundColor);\n  }\n  if (currentTabOptions?.badgeBackgroundColor) {\n    vars['--expo-router-tabs-badge-background-color'] = String(\n      currentTabOptions.badgeBackgroundColor\n    );\n  } else if (props.badgeBackgroundColor) {\n    vars['--expo-router-tabs-badge-background-color'] = String(props.badgeBackgroundColor);\n  }\n  if (currentTabOptions?.badgeTextColor) {\n    vars['--expo-router-tabs-badge-text-color'] = String(currentTabOptions.badgeTextColor);\n  } else if (props.badgeTextColor) {\n    vars['--expo-router-tabs-badge-text-color'] = String(props.badgeTextColor);\n  }\n  return vars;\n}\n"]}