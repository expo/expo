{"version":3,"file":"Toast.js","sourceRoot":"","sources":["../../src/views/Toast.tsx"],"names":[],"mappings":"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","sourcesContent":["import { BottomTabBarHeightContext } from '@react-navigation/bottom-tabs';\nimport React from 'react';\nimport { ActivityIndicator, Animated, Image, Platform, StyleSheet, Text, View } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\nexport const CODE_FONT = Platform.select({\n  default: 'Courier',\n  ios: 'Courier New',\n  android: 'monospace',\n});\n\nfunction useFadeIn() {\n  // Returns a React Native Animated value for fading in\n  const [value] = React.useState(() => new Animated.Value(0));\n  React.useEffect(() => {\n    Animated.timing(value, {\n      toValue: 1,\n      duration: 200,\n      useNativeDriver: true,\n    }).start();\n  }, []);\n  return value;\n}\n\nexport function ToastWrapper({ children }: { children: React.ReactNode }) {\n  const inTabBar = React.useContext(BottomTabBarHeightContext);\n  const Wrapper = inTabBar ? View : SafeAreaView;\n\n  return (\n    <Wrapper collapsable={false} style={{ flex: 1 }}>\n      {children}\n    </Wrapper>\n  );\n}\n\nexport function Toast({\n  children,\n  filename,\n  warning,\n}: {\n  children: React.ReactNode;\n  filename?: string;\n  warning?: boolean;\n}) {\n  const filenamePretty = React.useMemo(() => {\n    if (!filename) return undefined;\n    return 'app' + filename.replace(/^\\./, '');\n  }, [filename]);\n  const value = useFadeIn();\n  return (\n    <View style={styles.container}>\n      <Animated.View\n        style={[\n          styles.toast,\n          // @ts-expect-error: fixed is supported on web.\n          {\n            position: Platform.select({\n              web: 'fixed',\n              default: 'absolute',\n            }),\n            opacity: value,\n          },\n        ]}>\n        {!warning && <ActivityIndicator color=\"white\" />}\n        {warning && <Image source={require('expo-router/assets/error.png')} style={styles.icon} />}\n        <View style={{ marginLeft: 8 }}>\n          <Text style={styles.text}>{children}</Text>\n          {filenamePretty && <Text style={styles.filename}>{filenamePretty}</Text>}\n        </View>\n      </Animated.View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'transparent',\n    flex: 1,\n  },\n  icon: { width: 20, height: 20, resizeMode: 'contain' },\n  toast: {\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: 'rgba(255,255,255,0.2)',\n    flexDirection: 'row',\n    bottom: 8,\n    left: 8,\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    borderRadius: 4,\n    backgroundColor: 'black',\n  },\n  text: { color: 'white', fontSize: 16 },\n  filename: {\n    fontFamily: CODE_FONT,\n    opacity: 0.8,\n    color: 'white',\n    fontSize: 12,\n  },\n  code: { fontFamily: CODE_FONT },\n});\n"]}