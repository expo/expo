{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/getDevServer/index.ts"],"names":[],"mappings":";;;;;;AAAA,yDAA6C;AAC7C,4CAAoB;AAEb,MAAM,YAAY,GAAG,GAAG,EAAE;IAC/B,kBAAkB;IAClB,IAAI,CAAC,4BAAQ,CAAC,cAAc,EAAE;QAC5B,OAAO;YACL,sBAAsB,EAAE,IAAI;YAC5B,aAAa,EAAE,EAAE;YACjB,GAAG,EAAE,EAAE;SACR,CAAC;KACH;IAED,OAAO;QACL,4DAA4D;QAC5D,sBAAsB,EAAE,IAAI;QAE5B,0DAA0D;QAC1D,IAAI,aAAa;YACf,IAAI,QAAQ,EAAE,aAAa,IAAI,KAAK,IAAI,QAAQ,CAAC,aAAa,EAAE;gBAC9D,OAAO,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;aACnC;YAED,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACvC,MAAM,KAAK,GAAG,YAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAE5B,OAAO,CACL,QAAQ,CAAC,MAAM;gBACf,QAAQ,CAAC,QAAQ;gBACjB,GAAG;gBACH,YAAE,CAAC,SAAS,CAAC,EAAE,GAAG,KAAK,EAAE,QAAQ,EAAE,4BAAQ,CAAC,EAAE,EAAE,CAAC,CAClD,CAAC;QACJ,CAAC;QAED,GAAG,EAAE,QAAQ,CAAC,MAAM,GAAG,GAAG;KAC3B,CAAC;AACJ,CAAC,CAAC;AAjCW,QAAA,YAAY,gBAiCvB","sourcesContent":["import { Platform } from 'expo-modules-core';\nimport qs from 'qs';\n\nexport const getDevServer = () => {\n  // Disable for SSR\n  if (!Platform.isDOMAvailable) {\n    return {\n      bundleLoadedFromServer: true,\n      fullBundleUrl: '',\n      url: '',\n    };\n  }\n\n  return {\n    // The bundle is always loaded from a server in the browser.\n    bundleLoadedFromServer: true,\n\n    /** URL but ensures that platform query param is added. */\n    get fullBundleUrl() {\n      if (document?.currentScript && 'src' in document.currentScript) {\n        return document.currentScript.src;\n      }\n\n      const url = window.location.toString();\n      const query = qs.parse(url);\n\n      return (\n        location.origin +\n        location.pathname +\n        '?' +\n        qs.stringify({ ...query, platform: Platform.OS })\n      );\n    },\n\n    url: location.origin + '/',\n  };\n};\n"]}