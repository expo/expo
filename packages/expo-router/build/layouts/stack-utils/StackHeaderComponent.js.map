{"version":3,"file":"StackHeaderComponent.js","sourceRoot":"","sources":["../../../src/layouts/stack-utils/StackHeaderComponent.tsx"],"names":[],"mappings":";;AAkCA,oDAEC;AAED,0EAwDC;AA7FD,iCAAiE;AACjE,+CAA2E;AAG3E,mEAGiC;AACjC,uDAAyF;AACzF,yDAA4F;AAC5F,iEAGgC;AAChC,yDAA4F;AAC5F,mCAAwC;AAkBxC,SAAgB,oBAAoB,CAAC,KAAuB;IAC1D,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAgB,+BAA+B,CAC7C,OAAqC,EACrC,KAAuB;IAEvB,MAAM,cAAc,GAAG,yBAAU,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACvD,MAAM,mBAAmB,GAAG,yBAAU,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAEjE,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;QACjB,OAAO,EAAE,GAAG,OAAO,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC;IAC5C,CAAC;IAED,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,OAAO,EAAE,GAAG,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IACtD,CAAC;IAED,IAAI,cAAc,GAAiC;QACjD,GAAG,OAAO;QACV,WAAW,EAAE,CAAC,KAAK,CAAC,MAAM;QAC1B,gBAAgB,EAAE,KAAK,CAAC,UAAU;QAClC,WAAW,EAAE;YACX,eAAe,EAAE,cAAc,EAAE,eAAqC;SACvE;QACD,gBAAgB,EAAE;YAChB,eAAe,EAAE,mBAAmB,EAAE,eAAqC;SAC5E;QACD,mBAAmB,EAAE,cAAc,EAAE,WAAW,KAAK,aAAa;QAClE,6BAA6B,EAAE,mBAAmB,EAAE,WAAW,KAAK,aAAa;KAClF,CAAC;IAEF,SAAS,kBAAkB,CAAC,KAAyB,EAAE,OAAqC;QAC1F,IAAI,cAAc,GAAG,OAAO,CAAC;QAC7B,IAAI,IAAA,qBAAa,EAAC,KAAK,EAAE,mCAAgB,CAAC,EAAE,CAAC;YAC3C,cAAc,GAAG,IAAA,uDAAoC,EAAC,cAAc,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QACrF,CAAC;aAAM,IAAI,IAAA,qBAAa,EAAC,KAAK,EAAE,iCAAe,CAAC,EAAE,CAAC;YACjD,cAAc,GAAG,IAAA,qDAAmC,EAAC,cAAc,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QACpF,CAAC;aAAM,IAAI,IAAA,qBAAa,EAAC,KAAK,EAAE,mCAAgB,CAAC,EAAE,CAAC;YAClD,cAAc,GAAG,IAAA,uDAAoC,EAAC,cAAc,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QACrF,CAAC;aAAM,IAAI,IAAA,qBAAa,EAAC,KAAK,EAAE,6CAAqB,CAAC,EAAE,CAAC;YACvD,cAAc,GAAG,IAAA,iEAAyC,EAAC,cAAc,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QAC1F,CAAC;aAAM,IAAI,IAAA,qBAAa,EAAC,KAAK,EAAE,2CAAoB,CAAC,EAAE,CAAC;YACtD,cAAc,GAAG,IAAA,+DAAwC,EAAC,cAAc,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QACzF,CAAC;aAAM,CAAC;YACN,OAAO,CAAC,IAAI,CACV,0DAA2D,KAAK,CAAC,IAAyB,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,EAAE,CAChH,CAAC;QACJ,CAAC;QACD,OAAO,cAAc,CAAC;IACxB,CAAC;IAED,gBAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;QACzC,IAAI,IAAA,sBAAc,EAAC,KAAK,CAAC,EAAE,CAAC;YAC1B,cAAc,GAAG,kBAAkB,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,OAAO,cAAc,CAAC;AACxB,CAAC","sourcesContent":["import { NativeStackNavigationOptions } from '@react-navigation/native-stack';\nimport { Children, isValidElement, type ReactNode } from 'react';\nimport { StyleSheet, type ColorValue, type StyleProp } from 'react-native';\nimport type { ScreenStackHeaderConfigProps } from 'react-native-screens';\n\nimport {\n  appendStackHeaderBackButtonPropsToOptions,\n  StackHeaderBackButton,\n} from './StackHeaderBackButton';\nimport { StackHeaderLeft, appendStackHeaderLeftPropsToOptions } from './StackHeaderLeft';\nimport { StackHeaderRight, appendStackHeaderRightPropsToOptions } from './StackHeaderRight';\nimport {\n  appendStackHeaderSearchBarPropsToOptions,\n  StackHeaderSearchBar,\n} from './StackHeaderSearchBar';\nimport { appendStackHeaderTitlePropsToOptions, StackHeaderTitle } from './StackHeaderTitle';\nimport { isChildOfType } from './utils';\n\nexport interface StackHeaderProps {\n  children?: ReactNode;\n  hidden?: boolean;\n  asChild?: boolean;\n  blurEffect?: ScreenStackHeaderConfigProps['blurEffect'];\n  style?: StyleProp<{\n    color?: ColorValue; // tintColor from ReactNavigation\n    backgroundColor?: ScreenStackHeaderConfigProps['backgroundColor'];\n    shadowColor?: undefined | 'transparent';\n  }>;\n  largeStyle?: StyleProp<{\n    backgroundColor?: ScreenStackHeaderConfigProps['largeTitleBackgroundColor'];\n    shadowColor?: undefined | 'transparent';\n  }>;\n}\n\nexport function StackHeaderComponent(props: StackHeaderProps) {\n  return null;\n}\n\nexport function appendStackHeaderPropsToOptions(\n  options: NativeStackNavigationOptions,\n  props: StackHeaderProps\n): NativeStackNavigationOptions {\n  const flattenedStyle = StyleSheet.flatten(props.style);\n  const flattenedLargeStyle = StyleSheet.flatten(props.largeStyle);\n\n  if (props.hidden) {\n    return { ...options, headerShown: false };\n  }\n\n  if (props.asChild) {\n    return { ...options, header: () => props.children };\n  }\n\n  let updatedOptions: NativeStackNavigationOptions = {\n    ...options,\n    headerShown: !props.hidden,\n    headerBlurEffect: props.blurEffect,\n    headerStyle: {\n      backgroundColor: flattenedStyle?.backgroundColor as string | undefined,\n    },\n    headerLargeStyle: {\n      backgroundColor: flattenedLargeStyle?.backgroundColor as string | undefined,\n    },\n    headerShadowVisible: flattenedStyle?.shadowColor !== 'transparent',\n    headerLargeTitleShadowVisible: flattenedLargeStyle?.shadowColor !== 'transparent',\n  };\n\n  function appendChildOptions(child: React.ReactElement, options: NativeStackNavigationOptions) {\n    let updatedOptions = options;\n    if (isChildOfType(child, StackHeaderTitle)) {\n      updatedOptions = appendStackHeaderTitlePropsToOptions(updatedOptions, child.props);\n    } else if (isChildOfType(child, StackHeaderLeft)) {\n      updatedOptions = appendStackHeaderLeftPropsToOptions(updatedOptions, child.props);\n    } else if (isChildOfType(child, StackHeaderRight)) {\n      updatedOptions = appendStackHeaderRightPropsToOptions(updatedOptions, child.props);\n    } else if (isChildOfType(child, StackHeaderBackButton)) {\n      updatedOptions = appendStackHeaderBackButtonPropsToOptions(updatedOptions, child.props);\n    } else if (isChildOfType(child, StackHeaderSearchBar)) {\n      updatedOptions = appendStackHeaderSearchBarPropsToOptions(updatedOptions, child.props);\n    } else {\n      console.warn(\n        `Warning: Unknown child element passed to Stack.Header: ${(child.type as { name: string }).name ?? child.type}`\n      );\n    }\n    return updatedOptions;\n  }\n\n  Children.forEach(props.children, (child) => {\n    if (isValidElement(child)) {\n      updatedOptions = appendChildOptions(child, updatedOptions);\n    }\n  });\n\n  return updatedOptions;\n}\n"]}