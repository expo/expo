{"version":3,"file":"StackToolbarView.js","sourceRoot":"","sources":["../../../../src/layouts/stack-utils/toolbar/StackToolbarView.tsx"],"names":[],"mappings":";AAAA,YAAY,CAAC;;;AA6Eb,gGAkBC;AA7FD,iCAA8C;AAE9C,uCAAgD;AAChD,oDAA4D;AAgC5D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA6BG;AACI,MAAM,gBAAgB,GAAoC,CAAC,KAAK,EAAE,EAAE;IACzE,MAAM,SAAS,GAAG,IAAA,6BAAmB,GAAE,CAAC;IAExC,IAAI,SAAS,KAAK,QAAQ,EAAE,CAAC;QAC3B,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAC;IAC5E,CAAC;IAED,OAAO,CAAC,iBAAiB,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,iBAAiB,CAAC,CAAC;AAC5E,CAAC,CAAC;AARW,QAAA,gBAAgB,oBAQ3B;AAEF,SAAgB,0CAA0C,CACxD,KAA4B;IAE5B,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;QACjB,OAAO,SAAS,CAAC;IACnB,CAAC;IACD,MAAM,EAAE,QAAQ,EAAE,qBAAqB,EAAE,GAAG,KAAK,CAAC;IAClD,IAAI,CAAC,QAAQ,EAAE,CAAC;QACd,OAAO,CAAC,IAAI,CACV,sFAAsF,CACvF,CAAC;IACJ,CAAC;IACD,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC;IAC5C,OAAO;QACL,IAAI,EAAE,QAAQ;QACd,OAAO;QACP,qBAAqB;KACtB,CAAC;AACJ,CAAC;AAWD;;;GAGG;AACH,MAAM,iBAAiB,GAAqC,CAAC,EAC3D,QAAQ,EACR,MAAM,EACN,qBAAqB,EACrB,kBAAkB,GACnB,EAAE,EAAE;IACH,MAAM,EAAE,GAAG,IAAA,aAAK,GAAE,CAAC;IACnB,OAAO,CACL,CAAC,0BAAiB,CAChB,qBAAqB,CAAC,CAAC,qBAAqB,CAAC,CAC7C,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,UAAU,CAAC,CAAC,EAAE,CAAC,CACf,gBAAgB,CAAC,CAAC,CAAC,kBAAkB,CAAC,CACtC;MAAA,CAAC,QAAQ,CACX;IAAA,EAAE,0BAAiB,CAAC,CACrB,CAAC;AACJ,CAAC,CAAC;AAEF,aAAa","sourcesContent":["'use client';\nimport type { NativeStackHeaderItemCustom } from '@react-navigation/native-stack';\nimport { useId, type ReactNode } from 'react';\n\nimport { useToolbarPlacement } from './context';\nimport { RouterToolbarItem } from '../../../toolbar/native';\n\nexport interface StackToolbarViewProps {\n  /**\n   * Can be any React node.\n   */\n  children?: NativeStackHeaderItemCustom['element'];\n  /**\n   * Whether the view should be hidden.\n   *\n   * @default false\n   */\n  hidden?: boolean;\n  /**\n   * Whether to hide the shared background.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/hidessharedbackground) for more information.\n   *\n   * @platform iOS 26+\n   */\n  hidesSharedBackground?: boolean;\n  // TODO(@ubax): implement missing props in react-native-screens\n  /**\n   * Whether to separate the background of this item from other items.\n   *\n   * Only available in bottom placement.\n   *\n   * @default false\n   */\n  separateBackground?: boolean;\n}\n\n/**\n * A wrapper to render custom content in the toolbar.\n *\n * Use inside `Stack.Toolbar` to render a custom React element.\n *\n * @example\n * ```tsx\n * import { Stack } from 'expo-router';\n * import { Text } from 'react-native';\n *\n * function CustomElement() {\n *   return <Text>Custom Element</Text>;\n * }\n *\n * export default function Page() {\n *   return (\n *     <>\n *       <Stack.Toolbar>\n *         <Stack.Toolbar.View>\n *           <CustomElement />\n *         </Stack.Toolbar.View>\n *       </Stack.Toolbar>\n *       <ScreenContent />\n *     </>\n *   );\n * }\n * ```\n *\n * @platform ios\n */\nexport const StackToolbarView: React.FC<StackToolbarViewProps> = (props) => {\n  const placement = useToolbarPlacement();\n\n  if (placement !== 'bottom') {\n    throw new Error('Stack.Toolbar.View must be used inside a Stack.Toolbar');\n  }\n\n  return <NativeToolbarView {...props}>{props.children}</NativeToolbarView>;\n};\n\nexport function convertStackToolbarViewPropsToRNHeaderItem(\n  props: StackToolbarViewProps\n): NativeStackHeaderItemCustom | undefined {\n  if (props.hidden) {\n    return undefined;\n  }\n  const { children, hidesSharedBackground } = props;\n  if (!children) {\n    console.warn(\n      'Stack.Toolbar.View requires a child element to render custom content in the toolbar.'\n    );\n  }\n  const element = children ? children : <></>;\n  return {\n    type: 'custom',\n    element,\n    hidesSharedBackground,\n  };\n}\n\n// #region NativeToolbarView\n\ninterface NativeToolbarViewProps {\n  children?: ReactNode;\n  hidden?: boolean;\n  hidesSharedBackground?: boolean;\n  separateBackground?: boolean;\n}\n\n/**\n * Native toolbar view component for bottom toolbar.\n * Renders as RouterToolbarItem with children.\n */\nconst NativeToolbarView: React.FC<NativeToolbarViewProps> = ({\n  children,\n  hidden,\n  hidesSharedBackground,\n  separateBackground,\n}) => {\n  const id = useId();\n  return (\n    <RouterToolbarItem\n      hidesSharedBackground={hidesSharedBackground}\n      hidden={hidden}\n      identifier={id}\n      sharesBackground={!separateBackground}>\n      {children}\n    </RouterToolbarItem>\n  );\n};\n\n// #endregion\n"]}