{"version":3,"file":"bottom-toolbar-native-elements.js","sourceRoot":"","sources":["../../../../src/layouts/stack-utils/toolbar/bottom-toolbar-native-elements.tsx"],"names":[],"mappings":";AAAA,YAAY,CAAC;;;AAEb,iCAA8C;AAC9C,+CAOsB;AAGtB,qDAAwD;AACxD,yDAAuE;AACvE,oDAAkD;AAClD,oDAA4D;AAC5D,sDAA8D;AA8B9D;;;GAGG;AACI,MAAM,iBAAiB,GAAqC,CAAC,EAClE,iBAAiB,EACjB,kBAAkB,EAClB,kBAAkB,EAClB,qBAAqB,EACrB,OAAO,EACP,MAAM,EACN,MAAM,EACN,QAAQ,EACR,KAAK,EACL,WAAW,EACX,QAAQ,EACR,IAAI,EACJ,KAAK,EACL,SAAS,EACT,OAAO,EACP,KAAK,EACL,WAAW,GACZ,EAAE,EAAE;IACH,MAAM,UAAU,GAAG,IAAA,aAAK,GAAE,CAAC;IAC3B,MAAM,KAAK,GAAG,IAAA,8BAAmB,EAAC,QAAQ,EAAE,kBAAK,CAAC,CAAC;IACnD,MAAM,aAAa,GAAG,IAAA,8BAAmB,EAAC,QAAQ,EAAE,iBAAI,CAAC,CAAC;IAE1D,MAAM,aAAa,GAAG,KAAK,IAAI,KAAK,EAAE,KAAK,CAAC,QAAQ,IAAI,EAAE,CAAC;IAC3D,MAAM,YAAY,GAChB,IAAI;QACJ,CAAC,aAAa,EAAE,KAAK,IAAI,IAAI,IAAI,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAC7F,MAAM,EAAE,GAAG,OAAO,YAAY,KAAK,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,CAAC;IACvE,MAAM,UAAU,GAAG,yBAAU,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC7C,OAAO,CACL,CAAC,gCAAuB,CACtB,gBAAgB,CAAC,CAAC,CAAC,kBAAkB,CAAC,CACtC,qBAAqB,CAAC,CAAC,qBAAqB,CAAC,CAC7C,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,IAAI,CAAC,CAAC,EAAE,CAAC;IACT,sEAAsE;IACtE,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,WAAW,CAAC,CAAC,WAAW,CAAC,CACzB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,kBAAkB,CAAC,CAAC,kBAAkB,CAAC,CACvC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CACrC,gBAAgB,CAAC,CAAC,OAAO,CAAC,CAC1B,aAAa,CAAC,CAAC,MAAM,CAAC,CACtB,oBAAoB,CAAC,CAAC,WAAW,CAAC,CAClC,SAAS,CAAC,CAAC,SAAS,CAAC,CACrB,UAAU,CAAC,CAAC,UAAU,CAAC,CACvB,kBAAkB,CAAC,CAAC,OAAO,KAAK,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,CAC/D,KAAK,CAAC,CAAC,aAAa,CAAC,CACrB,UAAU,CAAC,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CACrB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CACnB,UAAU,CAAC,CAAC,UAAU,CAAC,EACvB,CACH,CAAC;AACJ,CAAC,CAAC;AArDW,QAAA,iBAAiB,qBAqD5B;AAEF,aAAa;AAEb,kCAAkC;AAElC;;GAEG;AACU,QAAA,uBAAuB,GAAG,yBAAc,CAAC;AAwBtD;;;GAGG;AACI,MAAM,mBAAmB,GAAuC,CAAC,KAAK,EAAE,EAAE;IAC/E,MAAM,EAAE,GAAG,IAAA,aAAK,GAAE,CAAC;IACnB,MAAM,iBAAiB,GAAG,OAAO,KAAK,CAAC,QAAQ,KAAK,QAAQ,CAAC;IAC7D,MAAM,KAAK,GAAG,iBAAiB;QAC7B,CAAC,CAAE,KAAK,CAAC,QAAmB;QAC5B,CAAC,CAAC,IAAA,8BAAmB,EAAC,KAAK,CAAC,QAAQ,EAAE,kBAAK,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC;IAC/D,MAAM,aAAa,GACjB,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAA,8BAAmB,EAAC,KAAK,CAAC,QAAQ,EAAE,iBAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IAC5F,MAAM,IAAI,GACR,KAAK,CAAC,IAAI;QACV,CAAC,aAAa,EAAE,KAAK,IAAI,IAAI,IAAI,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAC7F,MAAM,EAAE,GAAG,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;IACvD,OAAO,CACL,CAAC,0BAAiB,CAChB,iBAAiB,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAC3C,kBAAkB,CAAC,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAC7C,kBAAkB,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAC3E,QAAQ,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CACzB,MAAM,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CACrB,qBAAqB,CAAC,CAAC,KAAK,CAAC,qBAAqB,CAAC,CACnD,UAAU,CAAC,CAAC,EAAE,CAAC,CACf,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CACnB,UAAU,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAC1B,cAAc,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CACrC,QAAQ,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CACzB,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAC5C,eAAe,CAAC,CAAC,EAAE,CAAC,CACpB,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,SAAS,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAC3B,UAAU,CAAC,CAAC,yBAAU,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAC5C,CACH,CAAC;AACJ,CAAC,CAAC;AAhCW,QAAA,mBAAmB,uBAgC9B;AAaF;;;GAGG;AACI,MAAM,mBAAmB,GAAuC,CAAC,KAAK,EAAE,EAAE;IAC/E,MAAM,EAAE,GAAG,IAAA,aAAK,GAAE,CAAC;IACnB,OAAO,CACL,CAAC,0BAAiB,CAChB,qBAAqB,CAAC,CAAC,KAAK,CAAC,qBAAqB,CAAC,CACnD,MAAM,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CACrB,UAAU,CAAC,CAAC,EAAE,CAAC,CACf,gBAAgB,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC,CACzC,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,CAClD,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EACnB,CACH,CAAC;AACJ,CAAC,CAAC;AAZW,QAAA,mBAAmB,uBAY9B;AAYF;;;GAGG;AACI,MAAM,0BAA0B,GAA8C,CAAC,EACpF,qBAAqB,EACrB,MAAM,EACN,gBAAgB,GACjB,EAAE,EAAE;IACH,MAAM,EAAE,GAAG,IAAA,aAAK,GAAE,CAAC;IACnB,IAAI,OAAO,CAAC,GAAG,CAAC,OAAO,KAAK,KAAK,IAAI,QAAQ,CAAC,MAAM,CAAC,uBAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC;QAC/F,OAAO,IAAI,CAAC;IACd,CAAC;IACD,IAAI,MAAM,EAAE,CAAC;QACX,OAAO,IAAI,CAAC;IACd,CAAC;IACD,OAAO,CACL,CAAC,0BAAiB,CAChB,qBAAqB,CAAC,CAAC,qBAAqB,CAAC,CAC7C,UAAU,CAAC,CAAC,EAAE,CAAC,CACf,gBAAgB,CAAC,CAAC,gBAAgB,CAAC,CACnC,IAAI,CAAC,WAAW,EAChB,CACH,CAAC;AACJ,CAAC,CAAC;AApBW,QAAA,0BAA0B,8BAoBrC;AAaF;;;GAGG;AACI,MAAM,iBAAiB,GAAqC,CAAC,EAClE,QAAQ,EACR,MAAM,EACN,qBAAqB,EACrB,kBAAkB,GACnB,EAAE,EAAE;IACH,MAAM,EAAE,GAAG,IAAA,aAAK,GAAE,CAAC;IACnB,OAAO,CACL,CAAC,0BAAiB,CAChB,qBAAqB,CAAC,CAAC,qBAAqB,CAAC,CAC7C,MAAM,CAAC,CAAC,MAAM,CAAC,CACf,UAAU,CAAC,CAAC,EAAE,CAAC,CACf,gBAAgB,CAAC,CAAC,CAAC,kBAAkB,CAAC,CACtC;MAAA,CAAC,QAAQ,CACX;IAAA,EAAE,0BAAiB,CAAC,CACrB,CAAC;AACJ,CAAC,CAAC;AAhBW,QAAA,iBAAiB,qBAgB5B;AAEF,aAAa","sourcesContent":["'use client';\nimport type { ImageRef } from 'expo-image';\nimport { useId, type ReactNode } from 'react';\nimport {\n  Platform,\n  StyleSheet,\n  type ColorValue,\n  type ImageSourcePropType,\n  type StyleProp,\n  type TextStyle,\n} from 'react-native';\nimport type { SFSymbol } from 'sf-symbols-typescript';\n\nimport { LinkMenuAction } from '../../../link/elements';\nimport { NativeLinkPreviewAction } from '../../../link/preview/native';\nimport { Label, Icon } from '../../../primitives';\nimport { RouterToolbarItem } from '../../../toolbar/native';\nimport { getFirstChildOfType } from '../../../utils/children';\nimport type { BasicTextStyle } from '../../../utils/font';\n\n// #region NativeToolbarMenu\n\nexport interface NativeToolbarMenuProps {\n  accessibilityLabel?: string;\n  accessibilityHint?: string;\n  children?: ReactNode;\n  subtitle?: string;\n  destructive?: boolean;\n  disabled?: boolean;\n  hidden?: boolean;\n  hidesSharedBackground?: boolean;\n  icon?: SFSymbol | ImageSourcePropType;\n  // TODO(@ubax): Add useImage support in a follow-up PR.\n  /**\n   * Image to display for the menu item.\n   */\n  image?: ImageRef;\n  inline?: boolean;\n  palette?: boolean;\n  separateBackground?: boolean;\n  style?: StyleProp<TextStyle>;\n  title?: string;\n  tintColor?: ColorValue;\n  variant?: 'plain' | 'done' | 'prominent';\n  elementSize?: 'auto' | 'small' | 'medium' | 'large';\n}\n\n/**\n * Native toolbar menu component for bottom toolbar.\n * Renders as NativeLinkPreviewAction.\n */\nexport const NativeToolbarMenu: React.FC<NativeToolbarMenuProps> = ({\n  accessibilityHint,\n  accessibilityLabel,\n  separateBackground,\n  hidesSharedBackground,\n  palette,\n  inline,\n  hidden,\n  subtitle,\n  title,\n  destructive,\n  children,\n  icon,\n  image,\n  tintColor,\n  variant,\n  style,\n  elementSize,\n}) => {\n  const identifier = useId();\n  const label = getFirstChildOfType(children, Label);\n  const iconComponent = getFirstChildOfType(children, Icon);\n\n  const computedTitle = title ?? label?.props.children ?? '';\n  const computedIcon =\n    icon ??\n    (iconComponent?.props && 'sf' in iconComponent.props ? iconComponent.props.sf : undefined);\n  const sf = typeof computedIcon === 'string' ? computedIcon : undefined;\n  const titleStyle = StyleSheet.flatten(style);\n  return (\n    <NativeLinkPreviewAction\n      sharesBackground={!separateBackground}\n      hidesSharedBackground={hidesSharedBackground}\n      hidden={hidden}\n      icon={sf}\n      // TODO(@ubax): Handle image loading using useImage in a follow-up PR.\n      image={image}\n      destructive={destructive}\n      subtitle={subtitle}\n      accessibilityLabel={accessibilityLabel}\n      accessibilityHint={accessibilityHint}\n      displayAsPalette={palette}\n      displayInline={inline}\n      preferredElementSize={elementSize}\n      tintColor={tintColor}\n      titleStyle={titleStyle}\n      barButtonItemStyle={variant === 'done' ? 'prominent' : variant}\n      title={computedTitle}\n      onSelected={() => {}}\n      children={children}\n      identifier={identifier}\n    />\n  );\n};\n\n// #endregion\n\n// #region NativeToolbarMenuAction\n\n/**\n * Native toolbar menu action - reuses LinkMenuAction.\n */\nexport const NativeToolbarMenuAction = LinkMenuAction;\n\n// #endregion\n\n// #region NativeToolbarButton\n\nexport interface NativeToolbarButtonProps {\n  accessibilityLabel?: string;\n  accessibilityHint?: string;\n  children?: ReactNode;\n  disabled?: boolean;\n  hidden?: boolean;\n  hidesSharedBackground?: boolean;\n  icon?: SFSymbol;\n  image?: ImageRef;\n  onPress?: () => void;\n  possibleTitles?: string[];\n  selected?: boolean;\n  separateBackground?: boolean;\n  style?: StyleProp<BasicTextStyle>;\n  tintColor?: ColorValue;\n  variant?: 'plain' | 'done' | 'prominent';\n}\n\n/**\n * Native toolbar button component for bottom toolbar.\n * Renders as RouterToolbarItem.\n */\nexport const NativeToolbarButton: React.FC<NativeToolbarButtonProps> = (props) => {\n  const id = useId();\n  const areChildrenString = typeof props.children === 'string';\n  const label = areChildrenString\n    ? (props.children as string)\n    : getFirstChildOfType(props.children, Label)?.props.children;\n  const iconComponent =\n    !props.icon && !areChildrenString ? getFirstChildOfType(props.children, Icon) : undefined;\n  const icon =\n    props.icon ??\n    (iconComponent?.props && 'sf' in iconComponent.props ? iconComponent.props.sf : undefined);\n  const sf = typeof icon === 'string' ? icon : undefined;\n  return (\n    <RouterToolbarItem\n      accessibilityHint={props.accessibilityHint}\n      accessibilityLabel={props.accessibilityLabel}\n      barButtonItemStyle={props.variant === 'done' ? 'prominent' : props.variant}\n      disabled={props.disabled}\n      hidden={props.hidden}\n      hidesSharedBackground={props.hidesSharedBackground}\n      identifier={id}\n      image={props.image}\n      onSelected={props.onPress}\n      possibleTitles={props.possibleTitles}\n      selected={props.selected}\n      sharesBackground={!props.separateBackground}\n      systemImageName={sf}\n      title={label}\n      tintColor={props.tintColor}\n      titleStyle={StyleSheet.flatten(props.style)}\n    />\n  );\n};\n\n// #endregion\n\n// #region NativeToolbarSpacer\n\nexport interface NativeToolbarSpacerProps {\n  hidden?: boolean;\n  hidesSharedBackground?: boolean;\n  sharesBackground?: boolean;\n  width?: number;\n}\n\n/**\n * Native toolbar spacer component for bottom toolbar.\n * Renders as RouterToolbarItem with type 'fixedSpacer' or 'fluidSpacer'.\n */\nexport const NativeToolbarSpacer: React.FC<NativeToolbarSpacerProps> = (props) => {\n  const id = useId();\n  return (\n    <RouterToolbarItem\n      hidesSharedBackground={props.hidesSharedBackground}\n      hidden={props.hidden}\n      identifier={id}\n      sharesBackground={props.sharesBackground}\n      type={props.width ? 'fixedSpacer' : 'fluidSpacer'}\n      width={props.width}\n    />\n  );\n};\n\n// #endregion\n\n// #region NativeToolbarSearchBarSlot\n\nexport interface NativeToolbarSearchBarSlotProps {\n  hidesSharedBackground?: boolean;\n  hidden?: boolean;\n  sharesBackground?: boolean;\n}\n\n/**\n * Native toolbar search bar slot for bottom toolbar (iOS 26+).\n * Renders as RouterToolbarItem with type 'searchBar'.\n */\nexport const NativeToolbarSearchBarSlot: React.FC<NativeToolbarSearchBarSlotProps> = ({\n  hidesSharedBackground,\n  hidden,\n  sharesBackground,\n}) => {\n  const id = useId();\n  if (process.env.EXPO_OS !== 'ios' || parseInt(String(Platform.Version).split('.')[0], 10) < 26) {\n    return null;\n  }\n  if (hidden) {\n    return null;\n  }\n  return (\n    <RouterToolbarItem\n      hidesSharedBackground={hidesSharedBackground}\n      identifier={id}\n      sharesBackground={sharesBackground}\n      type=\"searchBar\"\n    />\n  );\n};\n\n// #endregion\n\n// #region NativeToolbarView\n\nexport interface NativeToolbarViewProps {\n  children?: ReactNode;\n  hidden?: boolean;\n  hidesSharedBackground?: boolean;\n  separateBackground?: boolean;\n}\n\n/**\n * Native toolbar view component for bottom toolbar.\n * Renders as RouterToolbarItem with children.\n */\nexport const NativeToolbarView: React.FC<NativeToolbarViewProps> = ({\n  children,\n  hidden,\n  hidesSharedBackground,\n  separateBackground,\n}) => {\n  const id = useId();\n  return (\n    <RouterToolbarItem\n      hidesSharedBackground={hidesSharedBackground}\n      hidden={hidden}\n      identifier={id}\n      sharesBackground={!separateBackground}>\n      {children}\n    </RouterToolbarItem>\n  );\n};\n\n// #endregion\n"]}