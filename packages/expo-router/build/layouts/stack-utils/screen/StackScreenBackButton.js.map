{"version":3,"file":"StackScreenBackButton.js","sourceRoot":"","sources":["../../../../src/layouts/stack-utils/screen/StackScreenBackButton.tsx"],"names":[],"mappings":";;AAsEA,sDAMC;AAED,8FAaC;AA1FD,iCAAgC;AAIhC,kDAA+C;AA6B/C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAmCG;AACH,SAAgB,qBAAqB,CAAC,KAAiC;IACrE,MAAM,cAAc,GAAG,IAAA,eAAO,EAC5B,GAAG,EAAE,CAAC,yCAAyC,CAAC,EAAE,EAAE,KAAK,CAAC,EAC1D,CAAC,KAAK,CAAC,CACR,CAAC;IACF,OAAO,CAAC,eAAM,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,EAAG,CAAC;AAC7C,CAAC;AAED,SAAgB,yCAAyC,CACvD,OAAqC,EACrC,KAAiC;IAEjC,OAAO;QACL,GAAG,OAAO;QACV,eAAe,EAAE,KAAK,CAAC,QAAQ;QAC/B,oBAAoB,EAAE,KAAK,CAAC,KAAK;QACjC,qBAAqB,EAAE,KAAK,CAAC,GAAG;QAChC,2BAA2B,EAAE,KAAK,CAAC,WAAW;QAC9C,2BAA2B,EAAE,KAAK,CAAC,QAAQ;QAC3C,iBAAiB,EAAE,CAAC,KAAK,CAAC,MAAM;KACjC,CAAC;AACJ,CAAC","sourcesContent":["import { NativeStackNavigationOptions } from '@react-navigation/native-stack';\nimport { useMemo } from 'react';\nimport type { ImageSourcePropType } from 'react-native';\nimport type { ScreenStackHeaderConfigProps } from 'react-native-screens';\n\nimport { Screen } from '../../../views/Screen';\n\nexport interface StackScreenBackButtonProps {\n  /**\n   * The title to display for the back button.\n   */\n  children?: string;\n  /**\n   * Style for the back button title.\n   */\n  style?: NativeStackNavigationOptions['headerBackTitleStyle'];\n  /**\n   * Whether to show a context menu when long pressing the back button.\n   */\n  withMenu?: boolean;\n  /**\n   * The display mode for the back button.\n   */\n  displayMode?: ScreenStackHeaderConfigProps['backButtonDisplayMode'];\n  /**\n   * Whether to hide the back button.\n   */\n  hidden?: boolean;\n  /**\n   * Custom image source for the back button.\n   */\n  src?: ImageSourcePropType;\n}\n\n/**\n * Component to configure the back button.\n *\n * Can be used inside Stack.Screen in a layout or directly inside a screen component.\n *\n * @example\n * ```tsx\n * import { Stack } from 'expo-router';\n *\n * export default function Layout() {\n *   return (\n *     <Stack>\n *       <Stack.Screen name=\"detail\">\n *         <Stack.Screen.BackButton displayMode=\"minimal\">Back</Stack.Screen.BackButton>\n *       </Stack.Screen>\n *     </Stack>\n *   );\n * }\n * ```\n *\n * @example\n * ```tsx\n * import { Stack } from 'expo-router';\n *\n * export default function Page() {\n *   return (\n *     <>\n *       <Stack.Screen.BackButton hidden />\n *       <ScreenContent />\n *     </>\n *   );\n * }\n * ```\n *\n * @platform ios\n */\nexport function StackScreenBackButton(props: StackScreenBackButtonProps) {\n  const updatedOptions = useMemo(\n    () => appendStackScreenBackButtonPropsToOptions({}, props),\n    [props]\n  );\n  return <Screen options={updatedOptions} />;\n}\n\nexport function appendStackScreenBackButtonPropsToOptions(\n  options: NativeStackNavigationOptions,\n  props: StackScreenBackButtonProps\n): NativeStackNavigationOptions {\n  return {\n    ...options,\n    headerBackTitle: props.children,\n    headerBackTitleStyle: props.style,\n    headerBackImageSource: props.src,\n    headerBackButtonDisplayMode: props.displayMode,\n    headerBackButtonMenuEnabled: props.withMenu,\n    headerBackVisible: !props.hidden,\n  };\n}\n"]}