{"version":3,"file":"elements.js","sourceRoot":"","sources":["../../src/toolbar/elements.tsx"],"names":[],"mappings":"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","sourcesContent":["import { nanoid } from 'nanoid/non-secure';\nimport { useMemo } from 'react';\nimport { View, type ColorValue, type StyleProp, type ViewStyle } from 'react-native';\nimport type { SFSymbol } from 'sf-symbols-typescript';\n\nimport { RouterToolbarHost, RouterToolbarItem } from './native';\nimport { InternalLinkPreviewContext } from '../link/InternalLinkPreviewContext';\nimport {\n  LinkMenu,\n  LinkMenuAction,\n  type LinkMenuActionProps,\n  type LinkMenuProps,\n} from '../link/elements';\n\n/**\n * For available props, see [`LinkMenuProps`](./router/#linkmenuprops).\n *\n * @platform ios\n */\nexport interface ToolbarMenuProps extends LinkMenuProps {\n  /**\n   * Whether to hide the shared background when `sharesBackground` is enabled.\n   *\n   * Only available for root level menus.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/hidessharedbackground) for more information.\n   *\n   * @platform iOS 26+\n   */\n  hidesSharedBackground?: boolean;\n  /**\n   * Whether the button shares the background with adjacent toolbar items.\n   *\n   * > **Note**: Text buttons cannot share the background.\n   *\n   * Only available for root level menus.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/sharesbackground) for more information.\n   *\n   * @default true\n   *\n   * @platform iOS 26+\n   */\n  sharesBackground?: boolean;\n}\n\n/**\n * Adds a context menu for to a toolbar.\n *\n * For available props, see [`LinkMenuProps`](./router/#linkmenuprops).\n *\n * @example\n * ```tsx\n * <Toolbar>\n *   <Toolbar.Menu title=\"Options\">\n *     <Toolbar.MenuAction title=\"Action 1\" onPress={() => {}} />\n *     <Toolbar.MenuAction title=\"Action 2\" onPress={() => {}} />\n *   </Toolbar.Menu>\n * </Toolbar>\n * ```\n *\n * @platform ios\n */\nexport const ToolbarMenu = LinkMenu;\n\nexport type ToolbarMenuActionProps = LinkMenuActionProps;\n\n/**\n * A single action item within a toolbar menu.\n *\n * For available props, see [`LinkMenuActionProps`](./router/#linkmenuactionprops).\n *\n * @example\n * ```tsx\n * <Toolbar>\n *   <Toolbar.Menu title=\"Options\">\n *     <Toolbar.MenuAction title=\"Action 1\" onPress={() => {}} />\n *     <Toolbar.MenuAction title=\"Action 2\" onPress={() => {}} />\n *   </Toolbar.Menu>\n * </Toolbar>\n * ```\n *\n * @platform ios\n */\nexport const ToolbarMenuAction = LinkMenuAction;\n\nexport interface ToolbarButtonProps {\n  /**\n   * The text label for the button.\n   *\n   * > **Note**: When icon is used, the label will not be shown and will be used for accessibility purposes only.\n   *\n   * @example\n   * ```tsx\n   * import { Toolbar } from 'expo-router/unstable-toolbar';\n   *\n   * ...\n   * <Toolbar.Button>This is button label</Toolbar.Button>\n   * ```\n   */\n  children?: string;\n\n  /**\n   * Whether the button should be hidden.\n   *\n   * @default false\n   */\n  hidden?: boolean;\n\n  /**\n   * Whether to hide the shared background.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/hidessharedbackground) for more information.\n   *\n   * @platform iOS 26+\n   */\n  hidesSharedBackground?: boolean;\n\n  // TODO: support ImageSourcePropType icons in addition to SFSymbols\n  /**\n   * The name of the SF Symbol to display as the button icon.\n   * For a list of available symbols, see [SF Symbols](https://developer.apple.com/sf-symbols/).\n   */\n  icon?: SFSymbol;\n\n  /**\n   * Callback function when the button is pressed.\n   */\n  onPress?: () => void;\n\n  /**\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/possibletitles) for more information.\n   */\n  possibleTitles?: string[];\n\n  /**\n   * Whether the button is in a selected state\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/isselected) for more information.\n   */\n  selected?: boolean;\n\n  /**\n   * Whether to separate the background of this item from other header items.\n   *\n   * > **Note**: Text buttons cannot share the background.\n   *\n   * This prop reverses the native behavior of `sharesBackground`.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/sharesbackground) for more information.\n   *\n   * @default false\n   *\n   * @platform iOS 26+\n   */\n  separateBackground?: boolean;\n\n  /**\n   * Style for the label of the header item.\n   */\n  // TODO: support style prop to align with header items\n  // style?: StyleProp<\n  //   Pick<TextStyle, 'fontFamily' | 'fontSize' | 'fontWeight' | 'color'> & {\n  //     /**\n  //      * When set to 'transparent', the button will have no background color.\n  //      *\n  //      * @platform iOS 26+\n  //      */\n  //     backgroundColor?: 'transparent';\n  //   }>\n  // >;\n\n  /**\n   * Tint color for the button icon and text.\n   */\n  tintColor?: ColorValue;\n\n  /**\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/style-swift.enum) for more information.\n   *\n   * @default 'plain'\n   */\n  variant?: 'plain' | 'done' | 'prominent';\n  // TODO: support this props to align with header items\n  // accessibilityLabel?: string;\n  // accessibilityHint?: string;\n  // disabled?: boolean;\n}\n\n// As noted in https://sebvidal.com/blog/whats-new-in-uikit-26/?utm_source=chatgpt.com#:~:text=It%27s%20worth%20noting%20that%2C%20at%20the%20time%20of%20writing%2C%20bar%20button%20badges%20are%20only%20supported%20in%20navigation%20bars%20%2D%20not%20tool%20bars.\n// currently badges are not supported in toolbars, and only in navigation bars.\n// Therefore, there is no badge support in ToolbarButton\n/**\n * A button component for use in the toolbar.\n * It should only be used as a child of `Toolbar`.\n *\n * @example\n * ```tsx\n * <Toolbar>\n *   <Toolbar.Button icon=\"magnifyingglass\" tintColor={Color.ios.placeholderText} />\n *   <Toolbar.Button>Text Button</Toolbar.Button>\n *   <Toolbar.Button hidden={!isSearchFocused} icon=\"xmark\" onPress={handleClear} />\n * </Toolbar>\n * ```\n *\n * @platform ios\n */\nexport const ToolbarButton = (props: ToolbarButtonProps) => {\n  const id = useMemo(() => nanoid(), []);\n  const sf = typeof props.icon === 'string' ? props.icon : undefined;\n  return (\n    <RouterToolbarItem\n      barButtonItemStyle={props.variant === 'done' ? 'prominent' : props.variant}\n      hidden={props.hidden}\n      hidesSharedBackground={props.hidesSharedBackground}\n      identifier={id}\n      onSelected={props.onPress}\n      possibleTitles={props.possibleTitles}\n      selected={props.selected}\n      sharesBackground={!props.separateBackground}\n      systemImageName={sf}\n      title={String(props.children)}\n      tintColor={props.tintColor}\n      // TODO: support this props to align with header items\n      // disabled={props.disabled}\n      // style={props.style}\n      // accessibilityLabel={props.accessibilityLabel}\n      // accessibilityHint={props.accessibilityHint}\n    />\n  );\n};\n\nexport type ToolbarSpacerProps = {\n  /**\n   * Whether to hide the shared background when `sharesBackground` is enabled.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/hidessharedbackground) for more information.\n   *\n   * @platform iOS 26+\n   */\n  hidesSharedBackground?: boolean;\n  /**\n   * Whether the spacer should be hidden.\n   *\n   * @default false\n   */\n  hidden?: boolean;\n  /**\n   * Whether the spacer shares the background with adjacent toolbar items.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/sharesbackground) for more information.\n   *\n   * @platform iOS 26+\n   * @default false\n   */\n  sharesBackground?: boolean;\n  /**\n   * By default, the spacer is flexible and expands to fill available space.\n   * If a width is provided, it creates a [fixed-width spacer](https://developer.apple.com/documentation/uikit/uibarbuttonitem/fixedspace(_:)).\n   */\n  width?: number;\n};\n\n/**\n * A spacer component for the toolbar.\n * Without a width, it creates a flexible spacer that expands to fill available space.\n * With a width, it creates a fixed-width spacer.\n * It should only be used as a child of `Toolbar`.\n *\n * @example\n * ```tsx\n * <Toolbar>\n *   <Toolbar.Spacer />\n *   <Toolbar.Button icon=\"magnifyingglass\" />\n *   <Toolbar.Spacer width={20} />\n *   <Toolbar.Button icon=\"mic\" />\n *   <Toolbar.Spacer />\n * </Toolbar>\n * ```\n *\n * @platform ios\n */\nexport const ToolbarSpacer = (props: ToolbarSpacerProps) => {\n  const id = useMemo(() => nanoid(), []);\n  return (\n    <RouterToolbarItem\n      hidesSharedBackground={props.hidesSharedBackground}\n      hidden={props.hidden}\n      identifier={id}\n      sharesBackground={props.sharesBackground}\n      type={props.width ? 'fixedSpacer' : 'fluidSpacer'}\n      width={props.width}\n    />\n  );\n};\n\n/**\n * Props for the ToolbarView component.\n *\n * @platform ios\n */\nexport interface ToolbarViewProps {\n  /**\n   * React elements to render inside the toolbar view.\n   */\n  children: React.ReactNode;\n  /**\n   * Whether the view should be hidden.\n   *\n   * @default false\n   */\n  hidden?: boolean;\n  /**\n   * Whether to hide the shared background when `sharesBackground` is enabled.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/hidessharedbackground) for more information.\n   *\n   * @platform iOS 18+\n   */\n  hidesSharedBackground?: boolean;\n  /**\n   * Whether to separate the background of this item from other header items.\n   *\n   * This prop reverses the native behavior of `sharesBackground`.\n   *\n   * @see [Official Apple documentation](https://developer.apple.com/documentation/uikit/uibarbuttonitem/sharesbackground) for more information.\n   *\n   * @default false\n   *\n   * @platform iOS 26+\n   */\n  separateBackground?: boolean;\n  /**\n   * Style properties for the view.\n   * Note: Position-related styles (position, inset, top, left, right, bottom, flex) are not allowed.\n   */\n  style?: StyleProp<\n    Omit<ViewStyle, 'position' | 'inset' | 'top' | 'left' | 'right' | 'bottom' | 'flex'>\n  >;\n}\n\n/**\n * A custom view component for the toolbar that can contain any React elements.\n * Useful for embedding custom components.\n * It should only be used as a child of `Toolbar`.\n *\n * The items within the view will be absolutely positioned, so flexbox styles will not work as expected.\n *\n * @example\n * ```tsx\n * <Toolbar>\n *   <Toolbar.Spacer />\n *   <Toolbar.View style={{ width: 200 }}>\n *     <TextInput\n *       placeholder=\"Search\"\n *       placeholderTextColor={Color.ios.placeholderText}\n *     />\n *   </Toolbar.View>\n *   <Toolbar.View separateBackground style={{ width: 32, height: 32 }}>\n *     <Pressable onPress={handlePress}>\n *       <SymbolView name=\"plus\" size={22} />\n *     </Pressable>\n *   </Toolbar.View>\n * </Toolbar>\n * ```\n *\n * @platform ios\n */\nexport const ToolbarView = ({\n  children,\n  hidden,\n  hidesSharedBackground,\n  separateBackground,\n  style,\n}: ToolbarViewProps) => {\n  const id = useMemo(() => nanoid(), []);\n  return (\n    <RouterToolbarItem\n      hidesSharedBackground={hidesSharedBackground}\n      hidden={hidden}\n      identifier={id}\n      sharesBackground={!separateBackground}>\n      <View style={[style, { position: 'absolute' }]}>{children}</View>\n    </RouterToolbarItem>\n  );\n};\n\nexport interface ToolbarProps {\n  children?: React.ReactNode;\n}\n\nexport const ToolbarHost = (props: ToolbarProps) => {\n  // TODO: Replace InternalLinkPreviewContext with a more generic context\n  return (\n    <InternalLinkPreviewContext value={{ isVisible: false, href: '' }}>\n      <RouterToolbarHost {...props} />\n    </InternalLinkPreviewContext>\n  );\n};\n"]}