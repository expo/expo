{"version":3,"file":"SymbolView.js","sourceRoot":"","sources":["../src/SymbolView.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,qCAAqC,CAAC;AAC/D,OAAO,EAAE,OAAO,EAAE,MAAM,OAAO,CAAC;AAChC,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,cAAc,CAAC;AAGnE,OAAO,EAAE,qBAAqB,EAAE,MAAM,WAAW,CAAC;AAClD,OAAO,EAAE,OAAO,EAAE,MAAM,SAAS,CAAC;AAElC,sCAAsC;AACtC,MAAM,oBAAoB,GACxB,QAAQ,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC,aAAa,CAAC,oCAAoC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;AAE9F,MAAM,UAAU,UAAU,CAAC,KAAsB;IAC/C,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IAClE,MAAM,IAAI,GACR,OAAO,KAAK,CAAC,IAAI,KAAK,QAAQ;QAC5B,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;QAC3D,CAAC,CAAC,IAAI,CAAC;IACX,MAAM,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC;QACxB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACX,GAAG,EAAE,IAAI,CAAC,IAAI;YACd,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI;SACtD;KACF,CAAC,CAAC;IACH,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,OAAO,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC;IAC/B,CAAC;IACD,IAAI,CAAC,MAAM,EAAE,CAAC;QACZ,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,IAAI,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,IAAI,IAAI,EAAE,EAAE,CAAC,EAAG,CAAC;IAChF,CAAC;IACD,OAAO,CACL,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,IAAI,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,IAAI,IAAI,EAAE,EAAE,CAAC,CACjE;MAAA,CAAC,IAAI,CACH,KAAK,CAAC,CAAC;YACL,UAAU,EAAE,IAAI,CAAC,IAAI;YACrB,KAAK,EAAE,KAAK,CAAC,SAAS,IAAI,oBAAoB;YAC9C,QAAQ,EAAE,KAAK,CAAC,IAAI,IAAI,EAAE;YAC1B,UAAU,EAAE,KAAK,CAAC,IAAI,IAAI,EAAE;SAC7B,CAAC,CACF;QAAA,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAC9B;MAAA,EAAE,IAAI,CACR;IAAA,EAAE,IAAI,CAAC,CACR,CAAC;AACJ,CAAC","sourcesContent":["import { useFonts } from '@expo-google-fonts/material-symbols';\nimport { useMemo } from 'react';\nimport { Platform, PlatformColor, Text, View } from 'react-native';\n\nimport { SymbolViewProps } from './SymbolModule.types';\nimport { androidSymbolToString } from './android';\nimport { getFont } from './utils';\n\n// trying to mirror iOS implementation\nconst DEFAULT_SYMBOL_COLOR =\n  Platform.OS === 'android' ? PlatformColor('@android:color/system_primary_dark') : '#7d9bd4';\n\nexport function SymbolView(props: SymbolViewProps) {\n  const font = useMemo(() => getFont(props.weight), [props.weight]);\n  const name =\n    typeof props.name === 'object'\n      ? props.name[Platform.OS === 'android' ? 'android' : 'web']\n      : null;\n  const [loaded] = useFonts({\n    [font.name]: {\n      uri: font.font,\n      testString: name ? androidSymbolToString(name) : null,\n    },\n  });\n  if (!name) {\n    return <>{props.fallback}</>;\n  }\n  if (!loaded) {\n    return <View style={{ width: props.size ?? 24, height: props.size ?? 24 }} />;\n  }\n  return (\n    <View style={{ width: props.size ?? 24, height: props.size ?? 24 }}>\n      <Text\n        style={{\n          fontFamily: font.name,\n          color: props.tintColor ?? DEFAULT_SYMBOL_COLOR,\n          fontSize: props.size ?? 24,\n          lineHeight: props.size ?? 24,\n        }}>\n        {androidSymbolToString(name)}\n      </Text>\n    </View>\n  );\n}\n"]}