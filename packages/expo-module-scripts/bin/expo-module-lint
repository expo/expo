#!/usr/bin/env node
'use strict';

import path from 'node:path';
import { commandRunner, getArgs } from "../util/commandUtils.js";
import { fileURLToPath } from 'node:url';

export const dirname = path.dirname(fileURLToPath(import.meta.url));

const VALID_TARGETS = ["plugin", "cli", "utils", "scripts"];

let args = getArgs();

if (VALID_TARGETS.includes(args[0])) {
  args = [`${args[0]}/src`, ...args.splice(1)];
} else {
  args = ['src', ...args];
}

await commandRunner(path.join(dirname, 'expo-module-eslint'), args);
