#!/usr/bin/env node
'use strict';

import process from 'node:process';
import fs from 'node:fs';

export function expoModuleClean() {
  if (!fs.existsSync('./package.json')) {
    console.log('The current working directory is not a package\'s root directory');
    process.exit(1)
  }

  const directory = process.argv[1];
  if (directory.length) {
    fs.rmSync(`${directory}/build`, { force: true })
  } else {
    fs.rmSync('build', { force: true })
  }
}

if (import.meta.main) {
  expoModuleClean(process.argv);
}