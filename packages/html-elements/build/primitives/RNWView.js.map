{"version":3,"file":"RNWView.js","sourceRoot":"","sources":["../../src/primitives/RNWView.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Expo.\n * Copyright (c) Nicolas Gallagher.\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport * as React from 'react';\nimport StyleSheet from 'react-native-web/dist/exports/StyleSheet';\nimport TextAncestorContext from 'react-native-web/dist/exports/Text/TextAncestorContext';\nimport createElement from 'react-native-web/dist/exports/createElement';\nimport * as forwardedProps from 'react-native-web/dist/modules/forwardedProps';\nimport pick from 'react-native-web/dist/modules/pick';\nimport useElementLayout from 'react-native-web/dist/modules/useElementLayout';\nimport { useLocaleContext, getLocaleDirection } from 'react-native-web/dist/modules/useLocale';\nimport useMergeRefs from 'react-native-web/dist/modules/useMergeRefs';\nimport usePlatformMethods from 'react-native-web/dist/modules/usePlatformMethods';\nimport useResponderEvents from 'react-native-web/dist/modules/useResponderEvents';\nimport { PlatformMethods, ViewProps } from 'react-native-web/dist/types';\n\nconst forwardPropsList = Object.assign(\n  {},\n  forwardedProps.defaultProps,\n  forwardedProps.accessibilityProps,\n  forwardedProps.clickProps,\n  forwardedProps.defaultProps,\n  forwardedProps.accessibilityProps,\n  forwardedProps.clickProps,\n  forwardedProps.focusProps,\n  forwardedProps.keyboardProps,\n  forwardedProps.mouseProps,\n  forwardedProps.touchProps,\n  forwardedProps.styleProps,\n  {\n    href: true,\n    lang: true,\n    onScroll: true,\n    onWheel: true,\n    pointerEvents: true,\n  }\n);\nconst pickProps = (props) => pick(props, forwardPropsList);\n\n/**\n * This is the View from react-native-web copied out in order to supply a custom `__element` property.\n * In the past, you could use `createElement` to create an element with a custom HTML element, but this changed\n * somewhere between 0.14...0.17.\n */\n\nconst View = React.forwardRef<ViewProps, HTMLElement & PlatformMethods>((props, forwardedRef) => {\n  const {\n    __element,\n    hrefAttrs,\n    onLayout,\n    onMoveShouldSetResponder,\n    onMoveShouldSetResponderCapture,\n    onResponderEnd,\n    onResponderGrant,\n    onResponderMove,\n    onResponderReject,\n    onResponderRelease,\n    onResponderStart,\n    onResponderTerminate,\n    onResponderTerminationRequest,\n    onScrollShouldSetResponder,\n    onScrollShouldSetResponderCapture,\n    onSelectionChangeShouldSetResponder,\n    onSelectionChangeShouldSetResponderCapture,\n    onStartShouldSetResponder,\n    onStartShouldSetResponderCapture,\n    ...rest\n  } = props as any;\n\n  // if (process.env.NODE_ENV !== 'production') {\n  //   React.Children.toArray(props.children).forEach((item) => {\n  //     if (typeof item === 'string') {\n  //       console.error(`Unexpected text node: ${item}. A text node cannot be a child of a <View>.`);\n  //     }\n  //   });\n  // }\n\n  const hasTextAncestor = React.useContext(TextAncestorContext);\n  const hostRef = React.useRef(null);\n  const { direction: contextDirection } = useLocaleContext();\n\n  useElementLayout(hostRef, onLayout);\n  useResponderEvents(hostRef, {\n    onMoveShouldSetResponder,\n    onMoveShouldSetResponderCapture,\n    onResponderEnd,\n    onResponderGrant,\n    onResponderMove,\n    onResponderReject,\n    onResponderRelease,\n    onResponderStart,\n    onResponderTerminate,\n    onResponderTerminationRequest,\n    onScrollShouldSetResponder,\n    onScrollShouldSetResponderCapture,\n    onSelectionChangeShouldSetResponder,\n    onSelectionChangeShouldSetResponderCapture,\n    onStartShouldSetResponder,\n    onStartShouldSetResponderCapture,\n  });\n\n  let component = __element ?? 'div';\n\n  const langDirection = props.lang != null ? getLocaleDirection(props.lang) : null;\n  const componentDirection = props.dir || langDirection;\n  const writingDirection = componentDirection || contextDirection;\n\n  const supportedProps = pickProps(rest);\n  supportedProps.dir = componentDirection;\n  supportedProps.style = [styles.view$raw, hasTextAncestor && styles.inline, props.style];\n  if (props.href != null) {\n    component = 'a';\n    if (hrefAttrs != null) {\n      const { download, rel, target } = hrefAttrs;\n      if (download != null) {\n        supportedProps.download = download;\n      }\n      if (rel != null) {\n        supportedProps.rel = rel;\n      }\n      if (typeof target === 'string') {\n        supportedProps.target = target.charAt(0) !== '_' ? '_' + target : target;\n      }\n    }\n  }\n\n  const platformMethodsRef = usePlatformMethods(supportedProps);\n  const setRef = useMergeRefs(hostRef, platformMethodsRef, forwardedRef);\n\n  supportedProps.ref = setRef;\n\n  return createElement(component, supportedProps, { writingDirection });\n});\n\nif (__DEV__) {\n  View.displayName = 'View';\n}\n\nconst styles = StyleSheet.create({\n  view$raw: {\n    alignItems: 'stretch',\n    backgroundColor: 'transparent',\n    border: '0 solid black',\n    boxSizing: 'border-box',\n    display: 'flex',\n    flexBasis: 'auto',\n    flexDirection: 'column',\n    flexShrink: 0,\n    listStyle: 'none',\n    margin: 0,\n    minHeight: 0,\n    minWidth: 0,\n    padding: 0,\n    position: 'relative',\n    textDecoration: 'none',\n    zIndex: 0,\n  },\n  inline: {\n    display: 'inline-flex',\n  },\n});\n\nexport default View;\n"]}